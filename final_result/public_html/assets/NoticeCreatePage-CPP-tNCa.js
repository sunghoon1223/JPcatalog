import{r as v,j as e,L as b,e as r,o as C,C as f,b as h,d as _,a as j,I as D,x as o,y as I}from"./index-B58oZBe6.js";import{c as E,r as p}from"./react-vendor-KiDtdJWs.js";import{A as c}from"./AdminLayout-DIc2AiAd.js";import{L as m}from"./label-D7QKDxvZ.js";import{T as P}from"./textarea-9XDNJ2Fl.js";import{S as V,a as U,b as y,c as S,d as n}from"./select-CjgUMqYt.js";import{C as w}from"./checkbox-BrsKk7f8.js";import"./ui-vendor-DNtsQh8S.js";import"./users-BNNxYG7Y.js";function R(){const s=E(),{user:u,loading:g}=v(),[l,d]=p.useState(!1),[a,t]=p.useState({title:"",content:"",category:"general",is_pinned:!1}),x=async i=>{if(i.preventDefault(),!u){o.error("세션이 만료되었습니다. 다시 로그인해 주세요."),s("/admin/login");return}d(!0);try{await I.createNotice({...a,isPinned:a.is_pinned}),o.success("공지사항이 생성되었습니다."),s("/admin/notices")}catch(N){console.error("Failed to create notice:",N),o.error(N.message||"공지사항 생성에 실패했습니다.")}finally{d(!1)}};return g?e.jsxDEV(c,{children:e.jsxDEV("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxDEV(b,{className:"h-8 w-8 animate-spin text-blue-600"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:62,columnNumber:11},this)},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:61,columnNumber:9},this)},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:60,columnNumber:7},this):u?e.jsxDEV(c,{children:e.jsxDEV("div",{className:"space-y-6 max-w-4xl",children:[e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(r,{variant:"ghost",size:"icon",onClick:()=>s("/admin/notices"),children:e.jsxDEV(C,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:90,columnNumber:13},this)},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:85,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-slate-900",children:"새 공지 작성"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:93,columnNumber:13},this),e.jsxDEV("p",{className:"text-slate-600 mt-1",children:"새로운 공지사항을 작성합니다."},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:94,columnNumber:13},this)]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:92,columnNumber:11},this)]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:84,columnNumber:9},this),e.jsxDEV(f,{children:[e.jsxDEV(h,{children:e.jsxDEV(_,{children:"공지사항 정보"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:101,columnNumber:13},this)},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:100,columnNumber:11},this),e.jsxDEV(j,{children:e.jsxDEV("form",{onSubmit:x,className:"space-y-6",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(m,{htmlFor:"title",children:"제목 *"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:107,columnNumber:17},this),e.jsxDEV(D,{id:"title",value:a.title,onChange:i=>t({...a,title:i.target.value}),placeholder:"공지사항 제목을 입력하세요",required:!0,disabled:l},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:108,columnNumber:17},this)]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:106,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(m,{htmlFor:"category",children:"카테고리 *"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:120,columnNumber:17},this),e.jsxDEV(V,{value:a.category,onValueChange:i=>t({...a,category:i}),disabled:l,children:[e.jsxDEV(U,{children:e.jsxDEV(y,{},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:127,columnNumber:21},this)},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:126,columnNumber:19},this),e.jsxDEV(S,{children:[e.jsxDEV(n,{value:"general",children:"일반"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:130,columnNumber:21},this),e.jsxDEV(n,{value:"공지",children:"공지"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:131,columnNumber:21},this),e.jsxDEV(n,{value:"이벤트",children:"이벤트"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:132,columnNumber:21},this),e.jsxDEV(n,{value:"업데이트",children:"업데이트"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:133,columnNumber:21},this)]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:129,columnNumber:19},this)]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:121,columnNumber:17},this)]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:119,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(m,{htmlFor:"content",children:"내용 *"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:140,columnNumber:17},this),e.jsxDEV(P,{id:"content",value:a.content,onChange:i=>t({...a,content:i.target.value}),placeholder:"공지사항 내용을 입력하세요",rows:12,required:!0,disabled:l,className:"font-mono text-sm"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:141,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"* 마크다운 형식을 지원합니다."},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:151,columnNumber:17},this)]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:139,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(w,{id:"is_pinned",checked:a.is_pinned,onCheckedChange:i=>t({...a,is_pinned:i===!0}),disabled:l},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:158,columnNumber:17},this),e.jsxDEV(m,{htmlFor:"is_pinned",className:"cursor-pointer",children:"상단 고정"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:166,columnNumber:17},this)]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:157,columnNumber:15},this),e.jsxDEV("div",{className:"flex gap-4 pt-4 border-t",children:[e.jsxDEV(r,{type:"button",variant:"outline",onClick:()=>s("/admin/notices"),disabled:l,children:"취소"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:173,columnNumber:17},this),e.jsxDEV(r,{type:"submit",disabled:l,children:l?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(b,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:184,columnNumber:23},this),"저장 중..."]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:183,columnNumber:21},this):"저장"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:181,columnNumber:17},this)]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:172,columnNumber:15},this)]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:104,columnNumber:13},this)},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:99,columnNumber:9},this)]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:82,columnNumber:7},this)},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:81,columnNumber:5},this):e.jsxDEV(c,{children:e.jsxDEV("div",{className:"flex flex-col items-center justify-center min-h-[400px] space-y-4",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:"세션이 만료되었습니다."},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:72,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"다시 로그인한 뒤 공지사항을 작성해 주세요."},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:73,columnNumber:11},this),e.jsxDEV(r,{onClick:()=>s("/admin/login"),children:"로그인 페이지로 이동"},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:74,columnNumber:11},this)]},void 0,!0,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:71,columnNumber:9},this)},void 0,!1,{fileName:"C:/rebuild_e2e/UI_sample/lovable/src/pages/admin/notices/NoticeCreatePage.tsx",lineNumber:70,columnNumber:7},this)}export{R as default};
