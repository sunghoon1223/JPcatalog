import{j as e}from"./ui-vendor-D7YrltUJ.js";import{r as n,L as E}from"./react-vendor-XbLGo5ol.js";import{u as $,S as P,I as F,e as m,C as x,a as h,i as N,j as G,B as f,k as A,E as T,l as K,m as M}from"./index-iJ4ZFglL.js";const O={제품:{ko:"제품",en:"Product"},공지:{ko:"공지",en:"Announcement"},사업:{ko:"사업",en:"Business"},시스템:{ko:"시스템",en:"System"},인증:{ko:"인증",en:"Certification"},기술:{ko:"기술",en:"Technology"},행사:{ko:"행사",en:"Event"}},H=()=>{const{t:l,language:b}=$(),[g,B]=n.useState([]),[j,w]=n.useState([]),[v,y]=n.useState(!0),[c,z]=n.useState(""),[r,i]=n.useState(1),[o,R]=n.useState("all"),u=10,p=s=>{var a;return s==="all"?l("notice.filters.all"):((a=O[s])==null?void 0:a[b])??s};n.useEffect(()=>{(async()=>{try{const t=await(await fetch("/data/notices.json")).json();B(t),w(t),y(!1)}catch(a){console.error("Error loading notices:",a),y(!1)}})()},[]),n.useEffect(()=>{let s=g;o!=="all"&&(s=s.filter(a=>a.category===o)),c&&(s=s.filter(a=>a.title.toLowerCase().includes(c.toLowerCase())||a.content.toLowerCase().includes(c.toLowerCase()))),w(s),i(1)},[g,c,o]);const D=["all",...Array.from(new Set(g.map(s=>s.category)))],I=j.filter(s=>s.isPinned),C=j.filter(s=>!s.isPinned),d=Math.ceil(C.length/u),k=(r-1)*u,_=C.slice(k,k+u),S=s=>{const a=new Date(s),t=b==="ko"?"ko-KR":"en-US";return a.toLocaleDateString(t,{year:"numeric",month:"long",day:"numeric"})},L=s=>({제품:"bg-blue-100 text-blue-800",공지:"bg-red-100 text-red-800",사업:"bg-green-100 text-green-800",시스템:"bg-purple-100 text-purple-800",인증:"bg-yellow-100 text-yellow-800",기술:"bg-indigo-100 text-indigo-800",행사:"bg-pink-100 text-pink-800"})[s]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:l("notice.title")}),e.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:l("notice.subtitle")})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(F,{type:"text",placeholder:l("notice.searchPlaceholder"),value:c,onChange:s=>z(s.target.value),className:"pl-10 h-12"})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:D.map(s=>e.jsx(m,{variant:o===s?"default":"outline",size:"sm",onClick:()=>R(s),className:"h-12",children:p(s)},s))})]})}),e.jsxs("div",{className:"space-y-4",children:[v?[...Array(5)].map((s,a)=>e.jsx(x,{className:"border-0 shadow-sm",children:e.jsxs(h,{className:"p-6",children:[e.jsx(N,{className:"h-6 w-3/4 mb-4"}),e.jsx(N,{className:"h-4 w-full mb-2"}),e.jsx(N,{className:"h-4 w-1/2"})]})},a)):e.jsxs(e.Fragment,{children:[I.map(s=>e.jsx(x,{className:"border-yellow-200 bg-yellow-50 shadow-sm hover:shadow-md transition-shadow",children:e.jsx(h,{className:"p-6",children:e.jsx(E,{to:`/notices/${s.id}`,className:"group",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(G,{className:"w-4 h-4 text-yellow-600"}),e.jsx(f,{className:L(s.category),children:p(s.category)}),e.jsx(f,{variant:"secondary",className:"bg-yellow-200 text-yellow-800",children:l("notice.flags.pinned")})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-primary transition-colors mb-2",children:s.title}),e.jsxs("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:[s.content.replace(/\n/g," ").substring(0,120),"..."]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:S(s.createdAt)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsxs("span",{children:[l("notice.views"),": ",s.views.toLocaleString()]})]}),e.jsxs("span",{children:[l("notice.author"),": ",s.author]})]})]}),s.thumbnail&&e.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:e.jsx("img",{src:s.thumbnail,alt:"",className:"w-full h-full object-cover",onError:a=>{a.currentTarget.src="/images/placeholder.svg"}})})]})})})},`pinned-${s.id}`)),_.map(s=>e.jsx(x,{className:"border-0 shadow-sm hover:shadow-md transition-shadow",children:e.jsx(h,{className:"p-6",children:e.jsx(E,{to:`/notices/${s.id}`,className:"group",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsx(f,{className:L(s.category),children:p(s.category)})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-primary transition-colors mb-2",children:s.title}),e.jsxs("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:[s.content.replace(/\n/g," ").substring(0,120),"..."]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:S(s.createdAt)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsxs("span",{children:[l("notice.views"),": ",s.views.toLocaleString()]})]}),e.jsxs("span",{children:[l("notice.author"),": ",s.author]})]})]}),s.thumbnail&&e.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:e.jsx("img",{src:s.thumbnail,alt:"",className:"w-full h-full object-cover",onError:a=>{a.currentTarget.src="/images/placeholder.svg"}})})]})})})},s.id))]}),!v&&j.length===0&&e.jsx(x,{className:"border-0 shadow-sm",children:e.jsxs(h,{className:"p-12 text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(P,{className:"w-12 h-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:l("notice.empty.title")}),e.jsx("p",{className:"text-gray-500",children:l("notice.empty.body")})]})})]}),d>1&&e.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>i(r-1),disabled:r===1,children:[e.jsx(K,{className:"w-4 h-4"}),l("common.previous")]}),[...Array(d)].map((s,a)=>{const t=a+1;return t===1||t===d||t>=r-2&&t<=r+2?e.jsx(m,{variant:r===t?"default":"outline",size:"sm",onClick:()=>i(t),children:t},t):t===r-3||t===r+3?e.jsx("span",{className:"px-2",children:"..."},t):null}),e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>i(r+1),disabled:r===d,children:[l("common.next"),e.jsx(M,{className:"w-4 h-4"})]})]})]})]})};export{H as NoticePage,H as default};
