const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutPage-Cq1aJYaD.js","assets/ui-vendor-CPG2pbg2.js","assets/react-vendor-CUUEtbzt.js","assets/clock-PrIhHZak.js","assets/building-BLLZPBmM.js","assets/SupportPage-Dxe4EJ9y.js","assets/file-text-DCg126VY.js","assets/QualityPage-DQoIFwaU.js","assets/DealersPage-dIn7I3zt.js","assets/AdminPage-CpOkWCNa.js","assets/upload-Bp-XzxTY.js","assets/square-pen-w9ZVmRCc.js","assets/AuthPage-C362akZ1.js","assets/CheckoutSuccessPage-Dkl1mT2C.js","assets/AccountPage-C5VMo4Bw.js","assets/heart-Dzr2dPZn.js","assets/FAQPage-DomCuEX6.js","assets/NoticePage-DFPOJmCt.js","assets/NoticeDetailPage-CQI_TmUe.js","assets/NotFound-Bup5S8ZR.js","assets/BoardPage-kWtv2aq8.js","assets/ko-BhTk4Nb5.js","assets/PostPage-DKsUrZyL.js","assets/PostWritePage-ChA2-qQh.js"])))=>i.map(i=>d[i]);
var oh=Object.defineProperty;var so=s=>{throw TypeError(s)};var lh=(s,e,t)=>e in s?oh(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Gs=(s,e,t)=>lh(s,typeof e!="symbol"?e+"":e,t),hn=(s,e,t)=>e.has(s)||so("Cannot "+t);var k=(s,e,t)=>(hn(s,e,"read from private field"),t?t.call(s):e.get(s)),ce=(s,e,t)=>e.has(s)?so("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),J=(s,e,t,r)=>(hn(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t),Re=(s,e,t)=>(hn(s,e,"access private method"),t);var da=(s,e,t,r)=>({set _(n){J(s,e,n,t)},get _(){return k(s,e,r)}});import{j as a,S as Rl,a as Il,b as Ol,P as ch,C as Ml,I as Dl,c as Ll,d as $l,R as Fl,L as Ul,e as ql,f as dh,T as uh,O as La,g as Vl,h as $a,i as Bl,k as Fa,D as Ua,l as zl,m as ve,n as Kl,o as Wl,p as Hl,q as hh,r as fh,u as Me,s as mi,t as ea,v as _r,w as xe,x as es,y as Vt,z as Gl,A as mh,B as ph,E as gh,F as pi,G as yh,H as xh,J as vh,K as bh,M as wh,N as _h,Q as jh,U as ba,V as Nh,W as kh,X as Zl,Y as Sh,Z as Ch,_ as Jl}from"./ui-vendor-CPG2pbg2.js";import{a as gi,r as m,g as Ah,d as ct,b as G,u as zt,L as Q,e as yi,f as xi,h as jr,N as Eh,B as Ph,i as Th,j as ge}from"./react-vendor-CUUEtbzt.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var Pn={},ro=gi;Pn.createRoot=ro.createRoot,Pn.hydrateRoot=ro.hydrateRoot;var ta=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qa=typeof window>"u"||"Deno"in globalThis;function it(){}function Rh(s,e){return typeof s=="function"?s(e):s}function Ih(s){return typeof s=="number"&&s>=0&&s!==1/0}function Oh(s,e){return Math.max(s+(e||0)-Date.now(),0)}function Tn(s,e){return typeof s=="function"?s(e):s}function Mh(s,e){return typeof s=="function"?s(e):s}function ao(s,e){const{type:t="all",exact:r,fetchStatus:n,predicate:i,queryKey:o,stale:l}=s;if(o){if(r){if(e.queryHash!==vi(o,e.options))return!1}else if(!Hr(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||n&&n!==e.state.fetchStatus||i&&!i(e))}function no(s,e){const{exact:t,status:r,predicate:n,mutationKey:i}=s;if(i){if(!e.options.mutationKey)return!1;if(t){if(qs(e.options.mutationKey)!==qs(i))return!1}else if(!Hr(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||n&&!n(e))}function vi(s,e){return((e==null?void 0:e.queryKeyHashFn)||qs)(s)}function qs(s){return JSON.stringify(s,(e,t)=>Rn(t)?Object.keys(t).sort().reduce((r,n)=>(r[n]=t[n],r),{}):t)}function Hr(s,e){return s===e?!0:typeof s!=typeof e?!1:s&&e&&typeof s=="object"&&typeof e=="object"?Object.keys(e).every(t=>Hr(s[t],e[t])):!1}function Ql(s,e){if(s===e)return s;const t=io(s)&&io(e);if(t||Rn(s)&&Rn(e)){const r=t?s:Object.keys(s),n=r.length,i=t?e:Object.keys(e),o=i.length,l=t?[]:{},c=new Set(r);let d=0;for(let u=0;u<o;u++){const h=t?u:i[u];(!t&&c.has(h)||t)&&s[h]===void 0&&e[h]===void 0?(l[h]=void 0,d++):(l[h]=Ql(s[h],e[h]),l[h]===s[h]&&s[h]!==void 0&&d++)}return n===o&&d===n?s:l}return e}function Dh(s,e){if(!e||Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(s[t]!==e[t])return!1;return!0}function io(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Rn(s){if(!oo(s))return!1;const e=s.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!oo(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function oo(s){return Object.prototype.toString.call(s)==="[object Object]"}function Lh(s){return new Promise(e=>{setTimeout(e,s)})}function $h(s,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(s,e):t.structuralSharing!==!1?Ql(s,e):e}function Fh(s,e,t=0){const r=[...s,e];return t&&r.length>t?r.slice(1):r}function Uh(s,e,t=0){const r=[e,...s];return t&&r.length>t?r.slice(0,-1):r}var bi=Symbol();function Yl(s,e){return!s.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!s.queryFn||s.queryFn===bi?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function qh(s,e){return typeof s=="function"?s(...e):!!s}var Os,ss,ir,jl,Vh=(jl=class extends ta{constructor(){super();ce(this,Os);ce(this,ss);ce(this,ir);J(this,ir,e=>{if(!qa&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){k(this,ss)||this.setEventListener(k(this,ir))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,ss))==null||e.call(this),J(this,ss,void 0))}setEventListener(e){var t;J(this,ir,e),(t=k(this,ss))==null||t.call(this),J(this,ss,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){k(this,Os)!==e&&(J(this,Os,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof k(this,Os)=="boolean"?k(this,Os):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Os=new WeakMap,ss=new WeakMap,ir=new WeakMap,jl),Xl=new Vh,or,rs,lr,Nl,Bh=(Nl=class extends ta{constructor(){super();ce(this,or,!0);ce(this,rs);ce(this,lr);J(this,lr,e=>{if(!qa&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){k(this,rs)||this.setEventListener(k(this,lr))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,rs))==null||e.call(this),J(this,rs,void 0))}setEventListener(e){var t;J(this,lr,e),(t=k(this,rs))==null||t.call(this),J(this,rs,e(this.setOnline.bind(this)))}setOnline(e){k(this,or)!==e&&(J(this,or,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return k(this,or)}},or=new WeakMap,rs=new WeakMap,lr=new WeakMap,Nl),wa=new Bh;function zh(){let s,e;const t=new Promise((n,i)=>{s=n,e=i});t.status="pending",t.catch(()=>{});function r(n){Object.assign(t,n),delete t.resolve,delete t.reject}return t.resolve=n=>{r({status:"fulfilled",value:n}),s(n)},t.reject=n=>{r({status:"rejected",reason:n}),e(n)},t}function Kh(s){return Math.min(1e3*2**s,3e4)}function ec(s){return(s??"online")==="online"?wa.isOnline():!0}var tc=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function fn(s){return s instanceof tc}function sc(s){let e=!1,t=0,r=!1,n;const i=zh(),o=g=>{var x;r||(f(new tc(g)),(x=s.abort)==null||x.call(s))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Xl.isFocused()&&(s.networkMode==="always"||wa.isOnline())&&s.canRun(),u=()=>ec(s.networkMode)&&s.canRun(),h=g=>{var x;r||(r=!0,(x=s.onSuccess)==null||x.call(s,g),n==null||n(),i.resolve(g))},f=g=>{var x;r||(r=!0,(x=s.onError)==null||x.call(s,g),n==null||n(),i.reject(g))},p=()=>new Promise(g=>{var x;n=_=>{(r||d())&&g(_)},(x=s.onPause)==null||x.call(s)}).then(()=>{var g;n=void 0,r||(g=s.onContinue)==null||g.call(s)}),y=()=>{if(r)return;let g;const x=t===0?s.initialPromise:void 0;try{g=x??s.fn()}catch(_){g=Promise.reject(_)}Promise.resolve(g).then(h).catch(_=>{var N;if(r)return;const w=s.retry??(qa?0:3),v=s.retryDelay??Kh,S=typeof v=="function"?v(t,_):v,A=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,_);if(e||!A){f(_);return}t++,(N=s.onFail)==null||N.call(s,t,_),Lh(S).then(()=>d()?void 0:p()).then(()=>{e?f(_):y()})})};return{promise:i,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?y():p().then(y),i)}}var Wh=s=>setTimeout(s,0);function Hh(){let s=[],e=0,t=l=>{l()},r=l=>{l()},n=Wh;const i=l=>{e?s.push(l):n(()=>{t(l)})},o=()=>{const l=s;s=[],l.length&&n(()=>{r(()=>{l.forEach(c=>{t(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{n=l}}}var Ke=Hh(),Ms,kl,rc=(kl=class{constructor(){ce(this,Ms)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ih(this.gcTime)&&J(this,Ms,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(qa?1/0:5*60*1e3))}clearGcTimeout(){k(this,Ms)&&(clearTimeout(k(this,Ms)),J(this,Ms,void 0))}},Ms=new WeakMap,kl),cr,Ds,nt,Ls,Ge,Yr,$s,pt,It,Sl,Gh=(Sl=class extends rc{constructor(e){super();ce(this,pt);ce(this,cr);ce(this,Ds);ce(this,nt);ce(this,Ls);ce(this,Ge);ce(this,Yr);ce(this,$s);J(this,$s,!1),J(this,Yr,e.defaultOptions),this.setOptions(e.options),this.observers=[],J(this,Ls,e.client),J(this,nt,k(this,Ls).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,J(this,cr,Jh(this.options)),this.state=e.state??k(this,cr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=k(this,Ge))==null?void 0:e.promise}setOptions(e){this.options={...k(this,Yr),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,nt).remove(this)}setData(e,t){const r=$h(this.state.data,e,this.options);return Re(this,pt,It).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){Re(this,pt,It).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,n;const t=(r=k(this,Ge))==null?void 0:r.promise;return(n=k(this,Ge))==null||n.cancel(e),t?t.then(it).catch(it):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,cr))}isActive(){return this.observers.some(e=>Mh(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bi||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Tn(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Oh(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=k(this,Ge))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=k(this,Ge))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),k(this,nt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(k(this,Ge)&&(k(this,$s)?k(this,Ge).cancel({revert:!0}):k(this,Ge).cancelRetry()),this.scheduleGc()),k(this,nt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Re(this,pt,It).call(this,{type:"invalidate"})}fetch(e,t){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(k(this,Ge))return k(this,Ge).continueRetry(),k(this,Ge).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,n=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(J(this,$s,!0),r.signal)})},i=()=>{const f=Yl(this.options,t),y=(()=>{const g={client:k(this,Ls),queryKey:this.queryKey,meta:this.meta};return n(g),g})();return J(this,$s,!1),this.options.persister?this.options.persister(f,y,this):f(y)},l=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:k(this,Ls),state:this.state,fetchFn:i};return n(f),f})();(d=this.options.behavior)==null||d.onFetch(l,this),J(this,Ds,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Re(this,pt,It).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var p,y,g,x;fn(f)&&f.silent||Re(this,pt,It).call(this,{type:"error",error:f}),fn(f)||((y=(p=k(this,nt).config).onError)==null||y.call(p,f,this),(x=(g=k(this,nt).config).onSettled)==null||x.call(g,this.state.data,f,this)),this.scheduleGc()};return J(this,Ge,sc({initialPromise:t==null?void 0:t.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,y,g,x;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(_){c(_);return}(y=(p=k(this,nt).config).onSuccess)==null||y.call(p,f,this),(x=(g=k(this,nt).config).onSettled)==null||x.call(g,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{Re(this,pt,It).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{Re(this,pt,It).call(this,{type:"pause"})},onContinue:()=>{Re(this,pt,It).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),k(this,Ge).start()}},cr=new WeakMap,Ds=new WeakMap,nt=new WeakMap,Ls=new WeakMap,Ge=new WeakMap,Yr=new WeakMap,$s=new WeakMap,pt=new WeakSet,It=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Zh(r.data,this.options),fetchMeta:e.meta??null};case"success":return J(this,Ds,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return fn(n)&&n.revert&&k(this,Ds)?{...k(this,Ds),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Ke.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),k(this,nt).notify({query:this,type:"updated",action:e})})},Sl);function Zh(s,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ec(e.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Jh(s){const e=typeof s.initialData=="function"?s.initialData():s.initialData,t=e!==void 0,r=t?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Nt,Cl,Qh=(Cl=class extends ta{constructor(e={}){super();ce(this,Nt);this.config=e,J(this,Nt,new Map)}build(e,t,r){const n=t.queryKey,i=t.queryHash??vi(n,t);let o=this.get(i);return o||(o=new Gh({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){k(this,Nt).has(e.queryHash)||(k(this,Nt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=k(this,Nt).get(e.queryHash);t&&(e.destroy(),t===e&&k(this,Nt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ke.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,Nt).get(e)}getAll(){return[...k(this,Nt).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ao(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>ao(e,r)):t}notify(e){Ke.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ke.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ke.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Nt=new WeakMap,Cl),kt,Ze,Fs,St,Qt,Al,Yh=(Al=class extends rc{constructor(e){super();ce(this,St);ce(this,kt);ce(this,Ze);ce(this,Fs);this.mutationId=e.mutationId,J(this,Ze,e.mutationCache),J(this,kt,[]),this.state=e.state||ac(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){k(this,kt).includes(e)||(k(this,kt).push(e),this.clearGcTimeout(),k(this,Ze).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){J(this,kt,k(this,kt).filter(t=>t!==e)),this.scheduleGc(),k(this,Ze).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){k(this,kt).length||(this.state.status==="pending"?this.scheduleGc():k(this,Ze).remove(this))}continue(){var e;return((e=k(this,Fs))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,l,c,d,u,h,f,p,y,g,x,_,w,v,S,A,N,R,Y;const t=()=>{Re(this,St,Qt).call(this,{type:"continue"})};J(this,Fs,sc({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:($,E)=>{Re(this,St,Qt).call(this,{type:"failed",failureCount:$,error:E})},onPause:()=>{Re(this,St,Qt).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,Ze).canRun(this)}));const r=this.state.status==="pending",n=!k(this,Fs).canStart();try{if(r)t();else{Re(this,St,Qt).call(this,{type:"pending",variables:e,isPaused:n}),await((o=(i=k(this,Ze).config).onMutate)==null?void 0:o.call(i,e,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));E!==this.state.context&&Re(this,St,Qt).call(this,{type:"pending",context:E,variables:e,isPaused:n})}const $=await k(this,Fs).start();return await((u=(d=k(this,Ze).config).onSuccess)==null?void 0:u.call(d,$,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,$,e,this.state.context)),await((y=(p=k(this,Ze).config).onSettled)==null?void 0:y.call(p,$,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,$,null,e,this.state.context)),Re(this,St,Qt).call(this,{type:"success",data:$}),$}catch($){try{throw await((w=(_=k(this,Ze).config).onError)==null?void 0:w.call(_,$,e,this.state.context,this)),await((S=(v=this.options).onError)==null?void 0:S.call(v,$,e,this.state.context)),await((N=(A=k(this,Ze).config).onSettled)==null?void 0:N.call(A,void 0,$,this.state.variables,this.state.context,this)),await((Y=(R=this.options).onSettled)==null?void 0:Y.call(R,void 0,$,e,this.state.context)),$}finally{Re(this,St,Qt).call(this,{type:"error",error:$})}}finally{k(this,Ze).runNext(this)}}},kt=new WeakMap,Ze=new WeakMap,Fs=new WeakMap,St=new WeakSet,Qt=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ke.batch(()=>{k(this,kt).forEach(r=>{r.onMutationUpdate(e)}),k(this,Ze).notify({mutation:this,type:"updated",action:e})})},Al);function ac(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lt,gt,Xr,El,Xh=(El=class extends ta{constructor(e={}){super();ce(this,Lt);ce(this,gt);ce(this,Xr);this.config=e,J(this,Lt,new Set),J(this,gt,new Map),J(this,Xr,0)}build(e,t,r){const n=new Yh({mutationCache:this,mutationId:++da(this,Xr)._,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){k(this,Lt).add(e);const t=ua(e);if(typeof t=="string"){const r=k(this,gt).get(t);r?r.push(e):k(this,gt).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(k(this,Lt).delete(e)){const t=ua(e);if(typeof t=="string"){const r=k(this,gt).get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&k(this,gt).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ua(e);if(typeof t=="string"){const r=k(this,gt).get(t),n=r==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){var r;const t=ua(e);if(typeof t=="string"){const n=(r=k(this,gt).get(t))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ke.batch(()=>{k(this,Lt).forEach(e=>{this.notify({type:"removed",mutation:e})}),k(this,Lt).clear(),k(this,gt).clear()})}getAll(){return Array.from(k(this,Lt))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>no(t,r))}findAll(e={}){return this.getAll().filter(t=>no(e,t))}notify(e){Ke.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ke.batch(()=>Promise.all(e.map(t=>t.continue().catch(it))))}},Lt=new WeakMap,gt=new WeakMap,Xr=new WeakMap,El);function ua(s){var e;return(e=s.options.scope)==null?void 0:e.id}function lo(s){return{onFetch:(e,t)=>{var u,h,f,p,y;const r=e.options,n=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const x=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},_=Yl(e.options,e.fetchOptions),w=async(v,S,A)=>{if(g)return Promise.reject();if(S==null&&v.pages.length)return Promise.resolve(v);const R=(()=>{const K={client:e.client,queryKey:e.queryKey,pageParam:S,direction:A?"backward":"forward",meta:e.options.meta};return x(K),K})(),Y=await _(R),{maxPages:$}=e.options,E=A?Uh:Fh;return{pages:E(v.pages,Y,$),pageParams:E(v.pageParams,S,$)}};if(n&&i.length){const v=n==="backward",S=v?ef:co,A={pages:i,pageParams:o},N=S(r,A);l=await w(A,N,v)}else{const v=s??i.length;do{const S=c===0?o[0]??r.initialPageParam:co(r,l);if(c>0&&S==null)break;l=await w(l,S),c++}while(c<v)}return l};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=d}}}function co(s,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?s.getNextPageParam(e[r],e,t[r],t):void 0}function ef(s,{pages:e,pageParams:t}){var r;return e.length>0?(r=s.getPreviousPageParam)==null?void 0:r.call(s,e[0],e,t[0],t):void 0}var Pe,as,ns,dr,ur,is,hr,fr,Pl,tf=(Pl=class{constructor(s={}){ce(this,Pe);ce(this,as);ce(this,ns);ce(this,dr);ce(this,ur);ce(this,is);ce(this,hr);ce(this,fr);J(this,Pe,s.queryCache||new Qh),J(this,as,s.mutationCache||new Xh),J(this,ns,s.defaultOptions||{}),J(this,dr,new Map),J(this,ur,new Map),J(this,is,0)}mount(){da(this,is)._++,k(this,is)===1&&(J(this,hr,Xl.subscribe(async s=>{s&&(await this.resumePausedMutations(),k(this,Pe).onFocus())})),J(this,fr,wa.subscribe(async s=>{s&&(await this.resumePausedMutations(),k(this,Pe).onOnline())})))}unmount(){var s,e;da(this,is)._--,k(this,is)===0&&((s=k(this,hr))==null||s.call(this),J(this,hr,void 0),(e=k(this,fr))==null||e.call(this),J(this,fr,void 0))}isFetching(s){return k(this,Pe).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return k(this,as).findAll({...s,status:"pending"}).length}getQueryData(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=k(this,Pe).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(s){const e=this.defaultQueryOptions(s),t=k(this,Pe).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(s):(s.revalidateIfStale&&t.isStaleByTime(Tn(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(s){return k(this,Pe).findAll(s).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(s,e,t){const r=this.defaultQueryOptions({queryKey:s}),n=k(this,Pe).get(r.queryHash),i=n==null?void 0:n.state.data,o=Rh(e,i);if(o!==void 0)return k(this,Pe).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(s,e,t){return Ke.batch(()=>k(this,Pe).findAll(s).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=k(this,Pe).get(e.queryHash))==null?void 0:t.state}removeQueries(s){const e=k(this,Pe);Ke.batch(()=>{e.findAll(s).forEach(t=>{e.remove(t)})})}resetQueries(s,e){const t=k(this,Pe);return Ke.batch(()=>(t.findAll(s).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...s},e)))}cancelQueries(s,e={}){const t={revert:!0,...e},r=Ke.batch(()=>k(this,Pe).findAll(s).map(n=>n.cancel(t)));return Promise.all(r).then(it).catch(it)}invalidateQueries(s,e={}){return Ke.batch(()=>(k(this,Pe).findAll(s).forEach(t=>{t.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},e)))}refetchQueries(s,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Ke.batch(()=>k(this,Pe).findAll(s).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,t);return t.throwOnError||(i=i.catch(it)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(it)}fetchQuery(s){const e=this.defaultQueryOptions(s);e.retry===void 0&&(e.retry=!1);const t=k(this,Pe).build(this,e);return t.isStaleByTime(Tn(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(it).catch(it)}fetchInfiniteQuery(s){return s.behavior=lo(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(it).catch(it)}ensureInfiniteQueryData(s){return s.behavior=lo(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return wa.isOnline()?k(this,as).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,Pe)}getMutationCache(){return k(this,as)}getDefaultOptions(){return k(this,ns)}setDefaultOptions(s){J(this,ns,s)}setQueryDefaults(s,e){k(this,dr).set(qs(s),{queryKey:s,defaultOptions:e})}getQueryDefaults(s){const e=[...k(this,dr).values()],t={};return e.forEach(r=>{Hr(s,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(s,e){k(this,ur).set(qs(s),{mutationKey:s,defaultOptions:e})}getMutationDefaults(s){const e=[...k(this,ur).values()],t={};return e.forEach(r=>{Hr(s,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(s){if(s._defaulted)return s;const e={...k(this,ns).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return e.queryHash||(e.queryHash=vi(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===bi&&(e.enabled=!1),e}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...k(this,ns).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){k(this,Pe).clear(),k(this,as).clear()}},Pe=new WeakMap,as=new WeakMap,ns=new WeakMap,dr=new WeakMap,ur=new WeakMap,is=new WeakMap,hr=new WeakMap,fr=new WeakMap,Pl),os,ls,Ye,$t,qt,pa,In,Tl,sf=(Tl=class extends ta{constructor(t,r){super();ce(this,qt);ce(this,os);ce(this,ls);ce(this,Ye);ce(this,$t);J(this,os,t),this.setOptions(r),this.bindMethods(),Re(this,qt,pa).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=k(this,os).defaultMutationOptions(t),Dh(this.options,r)||k(this,os).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,Ye),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&qs(r.mutationKey)!==qs(this.options.mutationKey)?this.reset():((n=k(this,Ye))==null?void 0:n.state.status)==="pending"&&k(this,Ye).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=k(this,Ye))==null||t.removeObserver(this)}onMutationUpdate(t){Re(this,qt,pa).call(this),Re(this,qt,In).call(this,t)}getCurrentResult(){return k(this,ls)}reset(){var t;(t=k(this,Ye))==null||t.removeObserver(this),J(this,Ye,void 0),Re(this,qt,pa).call(this),Re(this,qt,In).call(this)}mutate(t,r){var n;return J(this,$t,r),(n=k(this,Ye))==null||n.removeObserver(this),J(this,Ye,k(this,os).getMutationCache().build(k(this,os),this.options)),k(this,Ye).addObserver(this),k(this,Ye).execute(t)}},os=new WeakMap,ls=new WeakMap,Ye=new WeakMap,$t=new WeakMap,qt=new WeakSet,pa=function(){var r;const t=((r=k(this,Ye))==null?void 0:r.state)??ac();J(this,ls,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},In=function(t){Ke.batch(()=>{var r,n,i,o,l,c,d,u;if(k(this,$t)&&this.hasListeners()){const h=k(this,ls).variables,f=k(this,ls).context;(t==null?void 0:t.type)==="success"?((n=(r=k(this,$t)).onSuccess)==null||n.call(r,t.data,h,f),(o=(i=k(this,$t)).onSettled)==null||o.call(i,t.data,null,h,f)):(t==null?void 0:t.type)==="error"&&((c=(l=k(this,$t)).onError)==null||c.call(l,t.error,h,f),(u=(d=k(this,$t)).onSettled)==null||u.call(d,void 0,t.error,h,f))}this.listeners.forEach(h=>{h(k(this,ls))})})},Tl),nc=m.createContext(void 0),ic=s=>{const e=m.useContext(nc);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rf=({client:s,children:e})=>(m.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),a.jsx(nc.Provider,{value:s,children:e}));function af(s,e){const t=ic(),[r]=m.useState(()=>new sf(t,s));m.useEffect(()=>{r.setOptions(s)},[r,s]);const n=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(Ke.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,l)=>{r.mutate(o,l).catch(it)},[r]);if(n.error&&qh(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}const nf="modulepreload",of=function(s){return"/"+s},uo={},De=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(t.map(c=>{if(c=of(c),c in uo)return;uo[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":nf,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},lf={ko:{"header.support":"고객지원","header.quality":"품질보증","header.dealers":"대리점","header.login":"로그인","header.signup":"회원가입","header.logout":"로그아웃","header.admin":"관리자","header.search":"제품, 카테고리 검색...","nav.company":"회사소개","nav.agv-caster":"AGV 캐스터","nav.equipment-caster":"장비용 캐스터","nav.polyurethane-wheel":"폴리우레탄 휠","nav.rubber-wheel":"러버 휠","nav.driving-module":"드라이빙 모듈","nav.board":"게시판","nav.notices":"공지사항","nav.support":"고객지원","megamenu.allMenu":"전체 메뉴","megamenu.productCategory":"제품 카테고리","megamenu.allProducts":"전체 제품","megamenu.heavyDutyCasters":"중하중 캐스터","megamenu.mecanumWheels":"메카넘 휠","megamenu.companyInfo":"회사 정보","megamenu.aboutCompany":"회사 소개","megamenu.qualityAssurance":"품질 보증","megamenu.dealers":"대리점","megamenu.customerSupport":"고객 지원","megamenu.notices":"공지사항","megamenu.techSupport":"기술 지원","megamenu.contact":"문의하기","megamenu.downloads":"다운로드","megamenu.description":"전문 캐스터 솔루션을 위한 모든 제품과 서비스를 한 곳에서 확인하세요","footer.company":"Korean Caster","footer.companyDesc":"10년 이상의 경험을 바탕으로 산업용 캐스터와 휠 전문 제조업체로서 최고 품질의 솔루션을 제공합니다.","footer.quickLinks":"빠른 링크","footer.about":"회사소개","footer.catalog":"제품 카탈로그","footer.techSupport":"기술지원","footer.quality":"품질보증","footer.customerSupport":"고객지원","footer.productCategories":"제품 카테고리","footer.contact":"연락처","footer.address1":"서울시 강남구 테헤란로 123","footer.address2":"","footer.copyright":"© 2024 Korean Caster. All rights reserved.","footer.privacy":"개인정보처리방침","footer.terms":"이용약관","footer.sitemap":"사이트맵","category.driving-module":"드라이빙 모듈","category.agv-caster":"AGV 캐스터","category.equipment-caster":"장비용 캐스터","category.polyurethane-wheel":"폴리우레탄 휠","category.rubber-wheel":"러버 휠","common.home":"홈","common.products":"제품","common.price":"가격","common.quantity":"수량","common.addToCart":"장바구니에 담기","common.buyNow":"바로 주문하기","common.contact":"문의하기","common.learnMore":"더 알아보기","common.viewProducts":"제품 보기","common.inStock":"재고 있음","common.outOfStock":"품절","common.search":"검색","common.filter":"필터","common.sort":"정렬","common.loading":"로딩 중...","common.error":"오류가 발생했습니다","common.next":"다음","common.previous":"이전","common.submit":"제출","common.cancel":"취소","common.save":"저장","common.edit":"수정","common.delete":"삭제","common.view":"보기","common.close":"닫기","hero.title":"산업용 캐스터 전문 제조업체","hero.subtitle":"최고 품질의 AGV 캐스터, 장비용 캐스터, 폴리우레탄 휠 솔루션","hero.description":"JP CASTER는 10년 이상의 경험을 바탕으로 산업용 캐스터와 휠 전문 제조업체로서 AGV, 장비용, 중하중 캐스터 등 다양한 솔루션을 제공합니다.","hero.viewCatalog":"제품 카탈로그 보기","hero.contactUs":"문의하기","categories.title":"제품 카테고리","categories.subtitle":"다양한 산업 분야에 최적화된 캐스터 솔루션을 제공합니다","categories.agv.title":"AGV 캐스터","categories.agv.description":"무인 운반차량 전용 고정밀 캐스터","categories.industrial.title":"장비용 캐스터","categories.industrial.description":"산업용 장비 및 기계용 고내구성 캐스터","categories.heavy.title":"중하중 캐스터","categories.heavy.description":"고하중 지지용 초중량 캐스터","categories.polyurethane.title":"폴리우레탄 휠","categories.polyurethane.description":"고성능 폴리우레탄 소재 휠 및 캐스터","categories.rubber.title":"러버 휠","categories.rubber.description":"고무 소재 휠 및 방진 캐스터","categories.mecanum.title":"메카넘 휠","categories.mecanum.description":"360도 전방향 이동 가능한 메카넘 휠","categories.driving.title":"드라이빙 모듈","categories.driving.description":"모터 일체형 구동 모듈","featured.title":"추천 제품","featured.subtitle":"고객들이 가장 많이 찾는 인기 제품들을 확인해보세요","featured.viewMore":"더 많은 제품 보기","notice.title":"NOTICE","notice.subtitle":"JP CASTER의 최신 소식과 중요한 공지사항을 확인하세요","notice.viewAll":"전체 공지사항 보기","notice.views":"조회","notice.author":"작성자","notice.date":"날짜","notice.category":"카테고리","footer.notice.title":"NOTICE","footer.store.title":"STORE","footer.customerCenter.title":"CUSTOMER CENTER","footer.store.findDealer":"전국 대리점 찾기","footer.store.seoul":"서울 강남점","footer.store.busan":"부산 해운대점","footer.store.daegu":"대구 수성점","footer.store.open":"영업중","footer.store.closed":"영업종료","footer.store.viewAll":"전체 매장 보기","footer.customerCenter.phone":"1588-1234","footer.customerCenter.consultation":"상담 전용 번호","footer.customerCenter.weekday":"평일","footer.customerCenter.saturday":"토요일","footer.customerCenter.weekdayTime":"09:00-18:00","footer.customerCenter.saturdayTime":"09:00-15:00","footer.customerCenter.onlineInquiry":"온라인 문의하기","footer.customerCenter.faq":"FAQ 바로가기","footer.certification.title":"인증 및 보증","footer.certification.iso":"ISO 9001 품질경영시스템","footer.certification.kc":"KC 안전인증","footer.certification.warranty":"1년 품질보증","footer.certification.service":"전국 A/S 네트워크","footer.noNotices":"공지사항이 없습니다.","hero.agv.title":"AGV 캐스터 솔루션","hero.agv.subtitle":"자동화 설비를 위한 정밀 캐스터","hero.agv.description":"무인 운반차량(AGV)에 최적화된 고성능 캐스터로 자동화 시스템의 효율성을 극대화하세요.","hero.agv.cta":"AGV 캐스터 보기","hero.mecanum.title":"메카넘 휠 기술","hero.mecanum.subtitle":"360도 전방향 이동","hero.mecanum.description":"로봇공학의 혁신을 이끄는 메카넘 휠 기술로 무한한 이동의 자유를 경험하세요.","hero.mecanum.cta":"메카넘 휠 보기","hero.custom.title":"CUSTOM SOLUTIONS","hero.custom.subtitle":"고객 요구사항에 맞춤 설계된 특별한 캐스터 제작 서비스","hero.custom.description":"설계부터 제작까지 원스톱 서비스로 고객만의 특별한 캐스터를 제작해드립니다.","hero.custom.cta":"상담 신청하기","hero.quality.title":"품질 보증 시스템","hero.quality.subtitle":"ISO 9001 인증","hero.quality.description":"엄격한 품질 관리 시스템과 20년 노하우로 최상의 제품 품질을 보장합니다.","hero.quality.cta":"품질 보증 보기","hero.main.title":"산업용 캐스터 전문","hero.main.subtitle":"JP캐스터","hero.main.description":"AGV부터 메카넘 휠까지, 20년 경험의 캐스터 전문 기업. 최고 품질의 산업용 캐스터 솔루션을 제공합니다.","hero.main.cta":"제품 카탈로그 보기"},en:{"header.support":"Support","header.quality":"Quality","header.dealers":"Dealers","header.login":"Login","header.signup":"Sign Up","header.logout":"Logout","header.admin":"Admin","header.search":"Search products, categories...","nav.company":"Company","nav.agv-caster":"AGV Caster","nav.equipment-caster":"Equipment Caster","nav.polyurethane-wheel":"Polyurethane Wheel","nav.rubber-wheel":"Rubber Wheel","nav.driving-module":"Driving Module","nav.board":"Board","nav.notices":"Notice","nav.support":"Support","megamenu.allMenu":"All Menu","megamenu.productCategory":"Product Categories","megamenu.allProducts":"All Products","megamenu.heavyDutyCasters":"Heavy Duty Casters","megamenu.mecanumWheels":"Mecanum Wheels","megamenu.companyInfo":"Company Info","megamenu.aboutCompany":"About Company","megamenu.qualityAssurance":"Quality Assurance","megamenu.dealers":"Dealers","megamenu.customerSupport":"Customer Support","megamenu.notices":"Notice","megamenu.techSupport":"Technical Support","megamenu.contact":"Contact Us","megamenu.downloads":"Downloads","megamenu.description":"Find all products and services for professional caster solutions in one place","footer.company":"Korean Caster","footer.companyDesc":"With over 10 years of experience, we are a specialized manufacturer of industrial casters and wheels, providing the highest quality solutions.","footer.quickLinks":"Quick Links","footer.about":"About","footer.catalog":"Product Catalog","footer.techSupport":"Technical Support","footer.quality":"Quality Assurance","footer.customerSupport":"Customer Support","footer.productCategories":"Product Categories","footer.contact":"Contact","footer.address1":"123 Teheran-ro, Gangnam-gu, Seoul","footer.address2":"","footer.copyright":"© 2024 Korean Caster. All rights reserved.","footer.privacy":"Privacy Policy","footer.terms":"Terms of Service","footer.sitemap":"Sitemap","category.driving-module":"Driving Module","category.agv-caster":"AGV Caster","category.equipment-caster":"Equipment Caster","category.polyurethane-wheel":"Polyurethane Wheel","category.rubber-wheel":"Rubber Wheel","common.home":"Home","common.products":"Products","common.price":"Price","common.quantity":"Quantity","common.addToCart":"Add to Cart","common.buyNow":"Buy Now","common.contact":"Contact","common.learnMore":"Learn More","common.viewProducts":"View Products","common.inStock":"In Stock","common.outOfStock":"Out of Stock","common.search":"Search","common.filter":"Filter","common.sort":"Sort","common.loading":"Loading...","common.error":"An error occurred","common.next":"Next","common.previous":"Previous","common.submit":"Submit","common.cancel":"Cancel","common.save":"Save","common.edit":"Edit","common.delete":"Delete","common.view":"View","common.close":"Close","hero.title":"Industrial Caster Specialist Manufacturer","hero.subtitle":"Premium Quality AGV Casters, Equipment Casters, and Polyurethane Wheel Solutions","hero.description":"JP CASTER is a specialized manufacturer of industrial casters and wheels with over 10 years of experience, providing various solutions including AGV, equipment, and heavy-duty casters.","hero.viewCatalog":"View Product Catalog","hero.contactUs":"Contact Us","categories.title":"Product Categories","categories.subtitle":"We provide optimized caster solutions for various industrial fields","categories.agv.title":"AGV Casters","categories.agv.description":"High-precision casters for automated guided vehicles","categories.industrial.title":"Equipment Casters","categories.industrial.description":"High-durability casters for industrial equipment and machinery","categories.heavy.title":"Heavy Duty Casters","categories.heavy.description":"Ultra-heavy casters for high load support","categories.polyurethane.title":"Polyurethane Wheels","categories.polyurethane.description":"High-performance polyurethane material wheels and casters","categories.rubber.title":"Rubber Wheels","categories.rubber.description":"Rubber material wheels and vibration-damping casters","categories.mecanum.title":"Mecanum Wheels","categories.mecanum.description":"360-degree omnidirectional mecanum wheels","categories.driving.title":"Driving Modules","categories.driving.description":"Motor-integrated drive modules","featured.title":"Featured Products","featured.subtitle":"Check out the most popular products our customers love","featured.viewMore":"View More Products","notice.title":"NOTICE","notice.subtitle":"Check the latest news and important notices from JP CASTER","notice.viewAll":"View All Notices","notice.views":"Views","notice.author":"Author","notice.date":"Date","notice.category":"Category","footer.notice.title":"NOTICE","footer.store.title":"STORE","footer.customerCenter.title":"CUSTOMER CENTER","footer.store.findDealer":"Find Nationwide Dealers","footer.store.seoul":"Seoul Gangnam Branch","footer.store.busan":"Busan Haeundae Branch","footer.store.daegu":"Daegu Suseong Branch","footer.store.open":"Open","footer.store.closed":"Closed","footer.store.viewAll":"View All Stores","footer.customerCenter.phone":"1588-1234","footer.customerCenter.consultation":"Consultation Hotline","footer.customerCenter.weekday":"Weekdays","footer.customerCenter.saturday":"Saturday","footer.customerCenter.weekdayTime":"09:00-18:00","footer.customerCenter.saturdayTime":"09:00-15:00","footer.customerCenter.onlineInquiry":"Online Inquiry","footer.customerCenter.faq":"FAQ Center","footer.certification.title":"Certification & Warranty","footer.certification.iso":"ISO 9001 Quality Management System","footer.certification.kc":"KC Safety Certification","footer.certification.warranty":"1 Year Quality Warranty","footer.certification.service":"Nationwide A/S Network","footer.noNotices":"No notices available.","hero.agv.title":"AGV Caster Solutions","hero.agv.subtitle":"Precision Casters for Automation Equipment","hero.agv.description":"Maximize the efficiency of automation systems with high-performance casters optimized for Automated Guided Vehicles (AGV).","hero.agv.cta":"View AGV Casters","hero.mecanum.title":"Mecanum Wheel Technology","hero.mecanum.subtitle":"360-Degree Omnidirectional Movement","hero.mecanum.description":"Experience unlimited freedom of movement with mecanum wheel technology that leads innovation in robotics.","hero.mecanum.cta":"View Mecanum Wheels","hero.custom.title":"CUSTOM SOLUTIONS","hero.custom.subtitle":"Special Caster Manufacturing Service Designed to Customer Requirements","hero.custom.description":"We provide one-stop service from design to manufacturing to create special casters just for our customers.","hero.custom.cta":"Request Consultation","hero.quality.title":"Quality Assurance System","hero.quality.subtitle":"ISO 9001 Certified","hero.quality.description":"We guarantee the highest product quality with strict quality management systems and 20 years of expertise.","hero.quality.cta":"View Quality Assurance","hero.main.title":"Industrial Caster Specialist","hero.main.subtitle":"JP Caster","hero.main.description":"From AGV to mecanum wheels, a caster specialist company with 20 years of experience. We provide the highest quality industrial caster solutions.","hero.main.cta":"View Product Catalog"}},oc=m.createContext(void 0),cf=({children:s})=>{const[e,t]=m.useState("ko");m.useEffect(()=>{const i=localStorage.getItem("language");i&&(i==="ko"||i==="en")&&t(i)},[]);const r=i=>{t(i),localStorage.setItem("language",i)},n=i=>lf[e][i]||i;return a.jsx(oc.Provider,{value:{language:e,setLanguage:r,t:n},children:s})},Va=()=>{const s=m.useContext(oc);if(!s)throw new Error("useLanguage must be used within a LanguageProvider");return s},df="http://localhost:8080/api";class uf{constructor(e=df){Gs(this,"baseUrl");this.baseUrl=e}async request(e,t={}){if(this.baseUrl.includes("localhost:8080")){const{mockApiServer:l}=await De(async()=>{const{mockApiServer:d}=await import("./mockApiServer-CZQHmVKc.js");return{mockApiServer:d}},[]),c=await l.handleRequest(e,t);if(!c.success)throw new Error(c.error||c.message||"API request failed");return c.data}const r=`${this.baseUrl}${e}`,n={"Content-Type":"application/json",Accept:"application/json"},i=localStorage.getItem("auth_token");i&&(n.Authorization=`Bearer ${i}`);const o={...t,headers:{...n,...t.headers}};try{const l=await fetch(r,o);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const c=await l.json();if(!c.success)throw new Error(c.error||c.message||"API request failed");return c.data}catch(l){throw console.error(`API request failed: ${e}`,l),l}}async login(e,t){return this.request("/auth/login.php",{method:"POST",body:JSON.stringify({email:e,password:t})})}async register(e){return this.request("/auth/register.php",{method:"POST",body:JSON.stringify(e)})}async getCurrentUser(){return this.request("/auth/me.php")}async getProducts(e){const t=new URLSearchParams;e!=null&&e.category&&t.append("category",e.category),e!=null&&e.search&&t.append("search",e.search),e!=null&&e.limit&&t.append("limit",e.limit.toString()),e!=null&&e.offset&&t.append("offset",e.offset.toString());const r=t.toString();return this.request(`/products/list.php${r?`?${r}`:""}`)}async getProduct(e){return this.request(`/products/detail.php?id=${e}`)}async getCategories(){return this.request("/categories/list.php")}async getCart(){return this.request("/cart/list.php")}async addToCart(e,t=1){const r=this.getOrCreateSessionId();return this.request("/cart/add.php",{method:"POST",body:JSON.stringify({product_id:e,quantity:t,session_id:r})})}async updateCartItem(e,t){return this.request("/cart/update.php",{method:"POST",body:JSON.stringify({item_id:e,quantity:t})})}async removeCartItem(e){return this.request("/cart/remove.php",{method:"POST",body:JSON.stringify({item_id:e})})}async clearCart(){return this.request("/cart/clear.php",{method:"POST"})}async createOrder(e){return this.request("/orders/create.php",{method:"POST",body:JSON.stringify(e)})}async getOrders(){return this.request("/orders/list.php")}async getOrder(e){return this.request(`/orders/detail.php?id=${e}`)}async getNotices(){return this.request("/notices/list.php")}getOrCreateSessionId(){let e=localStorage.getItem("cart_session_id");return e||(e=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("cart_session_id",e)),e}setAuthToken(e){localStorage.setItem("auth_token",e)}clearAuthToken(){localStorage.removeItem("auth_token")}isAuthenticated(){return!!localStorage.getItem("auth_token")}}const xt=new uf,hf=1,ff=1e6;let mn=0;function mf(){return mn=(mn+1)%Number.MAX_SAFE_INTEGER,mn.toString()}const pn=new Map,ho=s=>{if(pn.has(s))return;const e=setTimeout(()=>{pn.delete(s),qr({type:"REMOVE_TOAST",toastId:s})},ff);pn.set(s,e)},pf=(s,e)=>{switch(e.type){case"ADD_TOAST":return{...s,toasts:[e.toast,...s.toasts].slice(0,hf)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?ho(t):s.toasts.forEach(r=>{ho(r.id)}),{...s,toasts:s.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(t=>t.id!==e.toastId)}}},ga=[];let ya={toasts:[]};function qr(s){ya=pf(ya,s),ga.forEach(e=>{e(ya)})}function O({...s}){const e=mf(),t=n=>qr({type:"UPDATE_TOAST",toast:{...n,id:e}}),r=()=>qr({type:"DISMISS_TOAST",toastId:e});return qr({type:"ADD_TOAST",toast:{...s,id:e,open:!0,onOpenChange:n=>{n||r()}}}),{id:e,dismiss:r,update:t}}function lc(){const[s,e]=m.useState(ya);return m.useEffect(()=>(ga.push(e),()=>{const t=ga.indexOf(e);t>-1&&ga.splice(t,1)}),[s]),{...s,toast:O,dismiss:t=>qr({type:"DISMISS_TOAST",toastId:t})}}class gf{async getCart(){try{const t=(await xt.getCart()).map(r=>({id:r.id,product_id:r.product_id,name:r.name,price:parseFloat(r.price),image:this.normalizeImageUrl(r.main_image_url||r.image),quantity:parseInt(r.quantity),slug:r.slug||"",subtotal:parseFloat(r.price)*parseInt(r.quantity)}));return console.log("🛒 Cart loaded from PHP API:",t.length,"items"),t}catch(e){return console.error("❌ Failed to load cart:",e),O({title:"장바구니 로드 실패",description:"장바구니를 불러오는데 실패했습니다.",variant:"destructive"}),[]}}async addItem(e,t=1){try{const r=await xt.addToCart(e,t);console.log("✅ Item added to cart:",r),O({title:"장바구니 추가",description:"상품이 장바구니에 추가되었습니다."})}catch(r){throw console.error("❌ Failed to add item to cart:",r),O({title:"장바구니 추가 실패",description:r instanceof Error?r.message:"상품 추가에 실패했습니다.",variant:"destructive"}),r}}async updateQuantity(e,t){try{if(t<=0){await this.removeItem(e);return}await xt.updateCartItem(e,t),console.log("✅ Cart item quantity updated:",e,t),O({title:"수량 변경",description:"상품 수량이 변경되었습니다."})}catch(r){throw console.error("❌ Failed to update cart item quantity:",r),O({title:"수량 변경 실패",description:r instanceof Error?r.message:"수량 변경에 실패했습니다.",variant:"destructive"}),r}}async removeItem(e){try{await xt.removeCartItem(e),console.log("✅ Item removed from cart:",e),O({title:"상품 제거",description:"상품이 장바구니에서 제거되었습니다."})}catch(t){throw console.error("❌ Failed to remove cart item:",t),O({title:"상품 제거 실패",description:t instanceof Error?t.message:"상품 제거에 실패했습니다.",variant:"destructive"}),t}}async clearCart(){try{await xt.clearCart(),console.log("✅ Cart cleared"),O({title:"장바구니 비우기",description:"장바구니가 비워졌습니다."})}catch(e){throw console.error("❌ Failed to clear cart:",e),O({title:"장바구니 비우기 실패",description:e instanceof Error?e.message:"장바구니 비우기에 실패했습니다.",variant:"destructive"}),e}}async syncLocalCartToServer(e){try{if(!xt.isAuthenticated()){console.log("🔄 User not authenticated, skipping cart sync");return}await this.clearCart();for(const t of e)await this.addItem(t.product_id,t.quantity);console.log("✅ Local cart synced to server:",e.length,"items"),O({title:"장바구니 동기화",description:"로그인하여 장바구니가 동기화되었습니다."})}catch(t){console.error("❌ Failed to sync local cart to server:",t),O({title:"장바구니 동기화 실패",description:"장바구니 동기화에 실패했습니다.",variant:"destructive"})}}normalizeImageUrl(e){return!e||e==="/images/placeholder.svg"?"/placeholder.svg":e.startsWith("http")||e.startsWith("/")?e:`/images/${e}`}calculateCartStats(e){const t=e.reduce((n,i)=>n+i.quantity,0),r=e.reduce((n,i)=>n+i.price*i.quantity,0);return{itemsCount:t,totalAmount:r,itemsLength:e.length}}}const Ht=new gf,yf=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>De(async()=>{const{default:r}=await Promise.resolve().then(()=>Nr);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class wi extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class xf extends wi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fo extends wi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mo extends wi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var On;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(On||(On={}));var vf=function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};class bf{constructor(e,{headers:t={},customFetch:r,region:n=On.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=yf(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return vf(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=t;let l={},{region:c}=t;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:u}).catch(g=>{throw new xf(g)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new fo(h);if(!h.ok)throw new mo(h);let p=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield h.json():p==="application/octet-stream"?y=yield h.blob():p==="text/event-stream"?y=h:p==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(n){return{data:null,error:n,response:n instanceof mo||n instanceof fo?n.context:void 0}}})}}var et={},_i={},Ba={},sa={},za={},Ka={},wf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mr=wf();const _f=mr.fetch,cc=mr.fetch.bind(mr),dc=mr.Headers,jf=mr.Request,Nf=mr.Response,Nr=Object.freeze(Object.defineProperty({__proto__:null,Headers:dc,Request:jf,Response:Nf,default:cc,fetch:_f},Symbol.toStringTag,{value:"Module"})),kf=Ah(Nr);var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});let Sf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Wa.default=Sf;var uc=ct&&ct.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ka,"__esModule",{value:!0});const Cf=uc(kf),Af=uc(Wa);let Ef=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Cf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=_:u=JSON.parse(_))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{d=JSON.parse(g),Array.isArray(d)&&i.status===404&&(u=[],d=null,f=200,p="OK")}catch{i.status===404&&g===""?(f=204,p="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,p="OK"),d&&this.shouldThrowOnError)throw new Af.default(d)}return{error:d,data:u,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}};Ka.default=Ef;var Pf=ct&&ct.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(za,"__esModule",{value:!0});const Tf=Pf(Ka);let Rf=class extends Tf.default{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};za.default=Rf;var If=ct&&ct.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(sa,"__esModule",{value:!0});const Of=If(za);let Mf=class extends Of.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};sa.default=Mf;var Df=ct&&ct.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ba,"__esModule",{value:!0});const Rr=Df(sa);let Lf=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=t,this.schema=r,this.fetch=n}select(e,{head:t=!1,count:r}={}){const n=t?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Rr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Rr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&l.push(this.headers.Prefer),n&&l.push(`count=${n}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Rr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new Rr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Rr.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ba.default=Lf;var Ha={},Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.version=void 0;Ga.version="0.0.0-automated";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.DEFAULT_HEADERS=void 0;const $f=Ga;Ha.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${$f.version}`};var hc=ct&&ct.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(_i,"__esModule",{value:!0});const Ff=hc(Ba),Uf=hc(sa),qf=Ha;let Vf=class fc{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},qf.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new Ff.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new fc(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;r||n?(o=r?"HEAD":"GET",Object.entries(t).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=t);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new Uf.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};_i.default=Vf;var kr=ct&&ct.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(et,"__esModule",{value:!0});et.PostgrestError=et.PostgrestBuilder=et.PostgrestTransformBuilder=et.PostgrestFilterBuilder=et.PostgrestQueryBuilder=et.PostgrestClient=void 0;const mc=kr(_i);et.PostgrestClient=mc.default;const pc=kr(Ba);et.PostgrestQueryBuilder=pc.default;const gc=kr(sa);et.PostgrestFilterBuilder=gc.default;const yc=kr(za);et.PostgrestTransformBuilder=yc.default;const xc=kr(Ka);et.PostgrestBuilder=xc.default;const vc=kr(Wa);et.PostgrestError=vc.default;var Bf=et.default={PostgrestClient:mc.default,PostgrestQueryBuilder:pc.default,PostgrestFilterBuilder:gc.default,PostgrestTransformBuilder:yc.default,PostgrestBuilder:xc.default,PostgrestError:vc.default};const{PostgrestClient:zf,PostgrestQueryBuilder:Ub,PostgrestFilterBuilder:qb,PostgrestTransformBuilder:Vb,PostgrestBuilder:Bb,PostgrestError:zb}=Bf;function Kf(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Wf=Kf(),Hf="2.11.15",Gf=`realtime-js/${Hf}`,Zf="1.0.0",bc=1e4,Jf=1e3;var Vr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Vr||(Vr={}));var He;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(He||(He={}));var yt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(yt||(yt={}));var Mn;(function(s){s.websocket="websocket"})(Mn||(Mn={}));var Cs;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Cs||(Cs={}));class Qf{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+n));o=o+n;const c=r.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class wc{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ne||(Ne={}));const po=(s,e,t={})=>{var r;const n=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Yf(o,s,e,n),i),{})},Yf=(s,e,t,r)=>{const n=e.find(l=>l.name===s),i=n==null?void 0:n.type,o=t[s];return i&&!r.includes(i)?_c(i,o):Dn(o)},_c=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return sm(e,t)}switch(s){case Ne.bool:return Xf(e);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return em(e);case Ne.json:case Ne.jsonb:return tm(e);case Ne.timestamp:return rm(e);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return Dn(e);default:return Dn(e)}},Dn=s=>s,Xf=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},em=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},tm=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},sm=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,r=s[t];if(s[0]==="{"&&r==="}"){let i;const o=s.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>_c(e,l))}return s},rm=s=>typeof s=="string"?s.replace(" ","T"):s,jc=s=>{let e=s;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class gn{constructor(e,t,r={},n=bc){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var go;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(go||(go={}));class Br{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Br.syncState(this.state,n,i,o),this.pendingDiffs.forEach(c=>{this.state=Br.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Br.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const i=this.cloneDeep(e),o=this.transformState(t),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(x=>x.presence_ref),p=h.map(x=>x.presence_ref),y=u.filter(x=>p.indexOf(x.presence_ref)<0),g=h.filter(x=>f.indexOf(x.presence_ref)<0);y.length>0&&(l[d]=y),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},r,n)}static syncDiff(e,t,r,n){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...f)}r(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,n(l,d,c),d.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return"metas"in n?t[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yo;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(yo||(yo={}));var xo;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(xo||(xo={}));var Mt;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Mt||(Mt={}));class ji{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new gn(this,yt.join,this.params,this.timeout),this.rejoinTimer=new wc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yt.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Br(this),this.broadcastEndpointURL=jc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==He.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>e==null?void 0:e(Mt.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Mt.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&n!==void 0?n:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(Mt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let g=0;g<p;g++){const x=f[g],{filter:{event:_,schema:w,table:v,filter:S}}=x,A=u&&u[g];if(A&&A.event===_&&A.schema===w&&A.table===v&&A.filter===S)y.push(Object.assign(Object.assign({},x),{id:A.id}));else{this.unsubscribe(),this.state=He.errored,e==null||e(Mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Mt.SUBSCRIBED);return}}).receive("error",u=>{this.state=He.errored,e==null||e(Mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=He.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new gn(this,yt.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new gn(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=yt;if(r&&[l,c,d,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var y,g,x;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,g,x,_,w,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,A=(y=p.filter)===null||y===void 0?void 0:y.event;return S&&((g=t.ids)===null||g===void 0?void 0:g.includes(S))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((x=t.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(w=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((v=t==null?void 0:t.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:g,table:x,commit_timestamp:_,type:w,errors:v}=y;f=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:_,eventType:w,new:{},old:{},errors:v}),this._getPayloadRecords(y))}p.callback(f,r)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ji.isEqual(n.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yt.close,{},e)}_onError(e){this._on(yt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=po(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=po(e.columns,e.old_record)),t}}const vo=()=>{},am=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nm{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bc,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vo,this.ref=0,this.logger=vo,this.conn=null,this.sendBuffer=[],this.serializer=new Qf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>De(async()=>{const{default:c}=await Promise.resolve().then(()=>Nr);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Mn.websocket}`,this.httpEndpoint=jc(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,o)=>o(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new wc(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Wf),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Zf}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Vr.connecting:return Cs.Connecting;case Vr.open:return Cs.Open;case Vr.closing:return Cs.Closing;default:return Cs.Closed}}isConnected(){return this.connectionState()===Cs.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new ji(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const n={access_token:t,version:Gf};t&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(yt.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Jf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:n,payload:i,ref:o}=t;r==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(yt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([am],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class Ni extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ue(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class im extends Ni{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ln extends Ni{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var om=function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};const Nc=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>De(async()=>{const{default:r}=await Promise.resolve().then(()=>Nr);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},lm=()=>om(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield De(()=>Promise.resolve().then(()=>Nr),void 0)).Response:Response}),$n=s=>{if(Array.isArray(s))return s.map(t=>$n(t));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([t,r])=>{const n=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=$n(r)}),e},cm=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)};var Ks=function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};const yn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),dm=(s,e,t)=>Ks(void 0,void 0,void 0,function*(){const r=yield lm();s instanceof r&&!(t!=null&&t.noResolveJson)?s.json().then(n=>{const i=s.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new im(yn(n),i,o))}).catch(n=>{e(new Ln(yn(n),n))}):e(new Ln(yn(s),s))}),um=(s,e,t,r)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"||!r?n:(cm(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r)):n.body=r,Object.assign(Object.assign({},n),t))};function ra(s,e,t,r,n,i){return Ks(this,void 0,void 0,function*(){return new Promise((o,l)=>{s(t,um(e,r,n,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>dm(c,l,r))})})}function _a(s,e,t,r){return Ks(this,void 0,void 0,function*(){return ra(s,"GET",e,t,r)})}function Dt(s,e,t,r,n){return Ks(this,void 0,void 0,function*(){return ra(s,"POST",e,r,n,t)})}function Fn(s,e,t,r,n){return Ks(this,void 0,void 0,function*(){return ra(s,"PUT",e,r,n,t)})}function hm(s,e,t,r){return Ks(this,void 0,void 0,function*(){return ra(s,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function kc(s,e,t,r,n){return Ks(this,void 0,void 0,function*(){return ra(s,"DELETE",e,r,n,t)})}var Qe=function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};const fm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mm{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Nc(n)}uploadOrUpdate(e,t,r,n){return Qe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},bo),n);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const d=this._removeEmptyFolders(t),u=this._getFinalPath(d),h=yield(e=="PUT"?Fn:Dt)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Ue(i))return{data:null,error:i};throw i}})}upload(e,t,r){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return Qe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const d=Object.assign({upsert:bo.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield Fn(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(Ue(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return Qe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=yield Dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ni("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}update(e,t,r){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Qe(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}copy(e,t,r){return Qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return Qe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Dt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return Qe(this,void 0,void 0,function*(){try{const n=yield Dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}download(e,t){return Qe(this,void 0,void 0,function*(){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield _a(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ue(l))return{data:null,error:l};throw l}})}info(e){return Qe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield _a(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:$n(r),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}exists(e){return Qe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield hm(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ue(r)&&r instanceof Ln){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield kc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Ue(t))return{data:null,error:t};throw t}})}list(e,t,r){return Qe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},fm),t),{prefix:e||""});return{data:yield Dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const pm="2.10.4",gm={"X-Client-Info":`storage-js/${pm}`};var Zs=function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};class ym{constructor(e,t={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},gm),t),this.fetch=Nc(r)}listBuckets(){return Zs(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ue(e))return{data:null,error:e};throw e}})}getBucket(e){return Zs(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Ue(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Zs(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Zs(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Zs(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Ue(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Zs(this,void 0,void 0,function*(){try{return{data:yield kc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Ue(t))return{data:null,error:t};throw t}})}}class xm extends ym{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new mm(this.url,this.headers,e,this.fetch)}}const vm="2.53.0";let Lr="";typeof Deno<"u"?Lr="deno":typeof document<"u"?Lr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lr="react-native":Lr="node";const bm={"X-Client-Info":`supabase-js-${Lr}/${vm}`},wm={headers:bm},_m={schema:"public"},jm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nm={};var km=function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};const Sm=s=>{let e;return s?e=s:typeof fetch>"u"?e=cc:e=fetch,(...t)=>e(...t)},Cm=()=>typeof Headers>"u"?dc:Headers,Am=(s,e,t)=>{const r=Sm(t),n=Cm();return(i,o)=>km(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:s;let d=new n(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",s),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:d}))})};var Em=function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};function Pm(s){return s.endsWith("/")?s:s+"/"}function Tm(s,e){var t,r;const{db:n,auth:i,realtime:o,global:l}=s,{db:c,auth:d,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(t=h==null?void 0:h.headers)!==null&&t!==void 0?t:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Em(this,void 0,void 0,function*(){return""})};return s.accessToken?f.accessToken=s.accessToken:delete f.accessToken,f}const Sc="2.71.1",tr=30*1e3,Un=3,xn=Un*tr,Rm="http://localhost:9999",Im="supabase.auth.token",Om={"X-Client-Info":`gotrue-js/${Sc}`},qn="X-Supabase-Api-Version",Cc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Mm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dm=10*60*1e3;class ki extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ne(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Lm extends ki{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function $m(s){return ne(s)&&s.name==="AuthApiError"}class Ac extends ki{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class gs extends ki{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class Yt extends gs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fm(s){return ne(s)&&s.name==="AuthSessionMissingError"}class ha extends gs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fa extends gs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ma extends gs{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Um(s){return ne(s)&&s.name==="AuthImplicitGrantRedirectError"}class wo extends gs{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vn extends gs{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function vn(s){return ne(s)&&s.name==="AuthRetryableFetchError"}class _o extends gs{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Bn extends gs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ja="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jo=` 	
\r=`.split(""),qm=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<jo.length;e+=1)s[jo[e].charCodeAt(0)]=-2;for(let e=0;e<ja.length;e+=1)s[ja[e].charCodeAt(0)]=e;return s})();function No(s,e,t){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(ja[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(ja[r]),e.queuedBits-=6}}function Ec(s,e,t){const r=qm[s];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function ko(s){const e=[],t=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{zm(o,r,t)};for(let o=0;o<s.length;o+=1)Ec(s.charCodeAt(o),n,i);return e.join("")}function Vm(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Bm(s,e){for(let t=0;t<s.length;t+=1){let r=s.charCodeAt(t);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(s.charCodeAt(t+1)-56320&65535|n)+65536,t+=1}Vm(r,e)}}function zm(s,e,t){if(e.utf8seq===0){if(s<=127){t(s);return}for(let r=1;r<6;r+=1)if(!(s>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Km(s){const e=[],t={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<s.length;n+=1)Ec(s.charCodeAt(n),t,r);return new Uint8Array(e)}function Wm(s){const e=[];return Bm(s,t=>e.push(t)),new Uint8Array(e)}function Hm(s){const e=[],t={queue:0,queuedBits:0},r=n=>{e.push(n)};return s.forEach(n=>No(n,t,r)),No(null,t,r),e.join("")}function Gm(s){return Math.round(Date.now()/1e3)+s}function Zm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const ft=()=>typeof window<"u"&&typeof document<"u",js={tested:!1,writable:!1},Pc=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(js.tested)return js.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),js.tested=!0,js.writable=!0}catch{js.tested=!0,js.writable=!1}return js.writable};function Jm(s){const e={},t=new URL(s);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return t.searchParams.forEach((r,n)=>{e[n]=r}),e}const Tc=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>De(async()=>{const{default:r}=await Promise.resolve().then(()=>Nr);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Qm=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",sr=async(s,e,t)=>{await s.setItem(e,JSON.stringify(t))},Ns=async(s,e)=>{const t=await s.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Gt=async(s,e)=>{await s.removeItem(e)};class Za{constructor(){this.promise=new Za.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Za.promiseConstructor=Promise;function bn(s){const e=s.split(".");if(e.length!==3)throw new Bn("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Mm.test(e[r]))throw new Bn("JWT not in base64url format");return{header:JSON.parse(ko(e[0])),payload:JSON.parse(ko(e[1])),signature:Km(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ym(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function Xm(s,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await s(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function ep(s){return("0"+s.toString(16)).substr(-2)}function tp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,ep).join("")}async function sp(s){const t=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function rp(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const t=await sp(s);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Js(s,e,t=!1){const r=tp();let n=r;t&&(n+="/PASSWORD_RECOVERY"),await sr(s,`${e}-code-verifier`,n);const i=await rp(r);return[i,r===i?"plain":"s256"]}const ap=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function np(s){const e=s.headers.get(qn);if(!e||!e.match(ap))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ip(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function op(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qs(s){if(!lp.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wn(){const s={};return new Proxy(s,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function So(s){return JSON.parse(JSON.stringify(s))}var cp=function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(s);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(s,r[n])&&(t[r[n]]=s[r[n]]);return t};const Ss=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),dp=[502,503,504];async function Co(s){var e;if(!Qm(s))throw new Vn(Ss(s),0);if(dp.includes(s.status))throw new Vn(Ss(s),s.status);let t;try{t=await s.json()}catch(i){throw new Ac(Ss(i),i)}let r;const n=np(s);if(n&&n.getTime()>=Cc["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new _o(Ss(t),s.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Yt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _o(Ss(t),s.status,t.weak_password.reasons);throw new Lm(Ss(t),s.status||500,r)}const up=(s,e,t,r)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),t))};async function de(s,e,t,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[qn]||(i[qn]=Cc["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await hp(s,e,t+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function hp(s,e,t,r,n,i){const o=up(e,r,n,i);let l;try{l=await s(t,Object.assign({},o))}catch(c){throw console.error(c),new Vn(Ss(c),0)}if(l.ok||await Co(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Co(c)}}function Ot(s){var e;let t=null;gp(s)&&(t=Object.assign({},s),s.expires_at||(t.expires_at=Gm(s.expires_in)));const r=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:t,user:r},error:null}}function Ao(s){const e=Ot(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=s.weak_password),e}function ts(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function fp(s){return{data:s,error:null}}function mp(s){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:n,verification_type:i}=s,o=cp(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:r,redirect_to:n,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function pp(s){return s}function gp(s){return s.access_token&&s.refresh_token&&s.expires_in}const _n=["global","local","others"];var yp=function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(s);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(s,r[n])&&(t[r[n]]=s[r[n]]);return t};class xp{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Tc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=_n[0]){if(_n.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_n.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ts})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=yp(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:mp,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ne(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ts})}catch(t){if(ne(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:pp});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);d[`${x}Page`]=g}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(ne(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Qs(e);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ts})}catch(t){if(ne(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Qs(e);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ts})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Qs(e);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ts})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Qs(e.userId);try{const{data:t,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:r}}catch(t){if(ne(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Qs(e.userId),Qs(e.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ne(t))return{data:null,error:t};throw t}}}function Eo(s={}){return{getItem:e=>s[e]||null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]}}}function vp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ys={debug:!!(globalThis&&Pc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rc extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class bp extends Rc{}async function wp(s,e,t){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,n.name);try{return await t()}finally{Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,n.name)}}else{if(e===0)throw Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new bp(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Ys.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}vp();const _p={url:Rm,storageKey:Im,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Om,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Po(s,e,t){return await t()}const Xs={};class Gr{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gr.nextInstanceID,Gr.nextInstanceID+=1,this.instanceID>0&&ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},_p),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new xp({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Tc(n.fetch),this.lock=n.lock||Po,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ft()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=wp:this.lock=Po,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:Pc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Eo(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Eo(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=Xs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Xs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Jm(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),ft()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(t,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Um(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ne(t)?{error:t}:{error:new Ac("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ot}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,r,n;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Js(this.storage,this.storageKey)),i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},xform:Ot})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ot})}else throw new fa("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:o,options:l}=e;t=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ao})}else if("phone"in e){const{phone:i,password:o,options:l}=e;t=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ao})}else throw new fa("You must provide either an email or phone number and a password");const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ha}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(t){if(ne(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,n,i,o,l,c,d,u,h,f,p;let y,g;if("message"in e)y=e.message,g=e.signature;else{const{chain:x,wallet:_,statement:w,options:v}=e;let S;if(ft())if(typeof _=="object")S=_;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=_}const A=new URL((t=v==null?void 0:v.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),w?{statement:w}:null));let R;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")R=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)R=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)y=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),g=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${A.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(n=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((d=v==null?void 0:v.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:x,error:_}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Hm(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ot});if(_)throw _;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new ha}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:_})}catch(x){if(ne(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const t=await Ns(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(t??"").split("/");try{const{data:i,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ot});if(await Gt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ha}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(ne(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:i,nonce:o}=e,l=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ot}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ha}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(t){if(ne(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Js(this.storage,this.storageKey));const{error:h}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new fa("You must provide either an email or phone number.")}catch(l){if(ne(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var t,r;try{let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ot});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Js(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:fp})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Yt;const{error:n}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(ne(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await de(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:l}=await de(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new fa("You must provide either an email or phone number and a type")}catch(t){if(ne(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Ns(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<xn:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Ns(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=wn()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ts}):await this._useSession(async t=>{var r,n,i;const{data:o,error:l}=t;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:ts})})}catch(t){if(ne(t))return Fm(t)&&(await this._removeSession(),await Gt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Yt;const o=n.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Js(this.storage,this.storageKey));const{data:d,error:u}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ts});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yt;const t=Date.now()/1e3;let r=t,n=!0,i=null;const{payload:o}=bn(e.access_token);if(o.exp&&(r=o.exp,n=r<=t),n){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(ne(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:l}=t;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Yt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ne(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ft())throw new ma("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ma(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new wo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ma("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wo("No code detected.");const{data:w,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new ma("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const p=f-u;p*1e3<=tr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=f-h;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,u);const{data:g,error:x}=await this._getUser(i);if(x)throw x;const _={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(r){if(ne(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ns(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:n,error:i}=t;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!($m(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Gt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Zm(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:i},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Js(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(ne(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return ft()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ne(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:i,error:o}=t;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(ne(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await Xm(async n=>(n>0&&await Ym(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ot})),(n,i)=>{const o=200*Math.pow(2,n);return i&&vn(i)&&Date.now()+o-r<tr})}catch(r){if(this._debug(t,"error",r),ne(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ft()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ns(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Ns(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await sr(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:wn()}else if(n&&!n.user&&!n.user){const o=await Ns(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Gt(this.storage,this.storageKey+"-user"),await sr(this.storage,this.storageKey,n)):n.user=wn()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<xn;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${xn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),vn(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Za;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Yt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),ne(i)){const o={session:null,error:i};return vn(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await sr(this.userStorage,this.storageKey+"-user",{user:t.user});const n=Object.assign({},t);delete n.user;const i=So(n);await sr(this.storage,this.storageKey,i)}else{const n=So(t);await sr(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Gt(this.storage,this.storageKey),await Gt(this.storage,this.storageKey+"-code-verifier"),await Gt(this.storage,this.storageKey+"-user"),this.userStorage&&await Gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),tr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/tr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${tr}ms, refresh threshold is ${Un} ticks`),n<=Un&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Rc)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Js(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:i}=t;return i?{data:null,error:i}:await de(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ne(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:i,error:o}=t;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await de(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(ne(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:l}=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(t){if(ne(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:i}=t;return i?{data:null,error:i}:await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ne(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=bn(n.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(l=>l.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Dm>n)return r;const{data:i,error:o}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};r=p.session.access_token}const{header:n,payload:i,signature:o,raw:{header:l,payload:c}}=bn(r);t!=null&&t.allowExpired||ip(i.exp);const d=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!d){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:n,signature:o},error:null}}const u=op(n.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Wm(`${l}.${c}`)))throw new Bn("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}}Gr.nextInstanceID=0;const jp=Gr;class Np extends jp{constructor(e){super(e)}}var kp=function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((r=r.apply(s,e||[])).next())})};class Sp{constructor(e,t,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const l=Pm(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:_m,realtime:Nm,auth:Object.assign(Object.assign({},jm),{storageKey:d}),global:wm},h=Tm(r??{},u);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Am(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new zf(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new xm(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new bf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return kp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Np({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new nm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Cp=(s,e,t)=>new Sp(s,e,t);function Ap(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const s=process.version.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Ap()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ep="https://bjqadhzkoxdwyfsglrvq.supabase.co",Pp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJqcWFkaHprb3hkd3lmc2dscnZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjIwMDk4NzQsImV4cCI6MjAzNzU4NTg3NH0.VB5rRXKa6aGjZZHJO-vQJFR5-_vJe3pGCtxP7RG3Wok",ee=Cp(Ep,Pp,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});class Tp{async signUp(e){try{const{data:t,error:r}=await ee.auth.signUp({email:e.email,password:e.password,options:{data:{full_name:e.full_name||"",phone:e.phone||""}}});if(r)throw r;return t.user?(O({title:"회원가입 완료",description:"이메일 확인 후 로그인해주세요."}),{user:{id:t.user.id,email:t.user.email,full_name:e.full_name,phone:e.phone,provider:"email"},error:null}):{user:null,error:null}}catch(t){const r=this.getErrorMessage(t.message);return O({title:"회원가입 실패",description:r,variant:"destructive"}),{user:null,error:r}}}async signIn(e){var t,r,n,i;try{const{data:o,error:l}=await ee.auth.signInWithPassword({email:e.email,password:e.password});if(l)throw l;return o.user?(O({title:"로그인 성공",description:"환영합니다!"}),{user:{id:o.user.id,email:o.user.email,full_name:(t=o.user.user_metadata)==null?void 0:t.full_name,avatar_url:(r=o.user.user_metadata)==null?void 0:r.avatar_url,phone:(n=o.user.user_metadata)==null?void 0:n.phone,provider:((i=o.user.app_metadata)==null?void 0:i.provider)||"email"},error:null}):{user:null,error:null}}catch(o){const l=this.getErrorMessage(o.message);return O({title:"로그인 실패",description:l,variant:"destructive"}),{user:null,error:l}}}async signOut(){try{const{error:e}=await ee.auth.signOut();if(e)throw e;return O({title:"로그아웃 완료",description:"안전하게 로그아웃되었습니다."}),{error:null}}catch(e){const t=this.getErrorMessage(e.message);return O({title:"로그아웃 실패",description:t,variant:"destructive"}),{error:t}}}async resetPassword(e){try{const{error:t}=await ee.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth/reset-password`});if(t)throw t;return O({title:"이메일 발송 완료",description:"비밀번호 재설정 링크를 이메일로 보내드렸습니다."}),{error:null}}catch(t){const r=this.getErrorMessage(t.message);return O({title:"이메일 발송 실패",description:r,variant:"destructive"}),{error:r}}}async updatePassword(e){try{const{error:t}=await ee.auth.updateUser({password:e});if(t)throw t;return O({title:"비밀번호 변경 완료",description:"비밀번호가 성공적으로 변경되었습니다."}),{error:null}}catch(t){const r=this.getErrorMessage(t.message);return O({title:"비밀번호 변경 실패",description:r,variant:"destructive"}),{error:r}}}async signInWithGoogle(){try{const{data:e,error:t}=await ee.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(t)throw t;return{url:e.url,error:null}}catch(e){const t=this.getErrorMessage(e.message);return O({title:"Google 로그인 실패",description:t,variant:"destructive"}),{url:void 0,error:t}}}async signInWithKakao(){try{const{data:e,error:t}=await ee.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(t)throw t;return{url:e.url,error:null}}catch{return this.signInWithKakaoManual()}}async signInWithKakaoManual(){return new Promise(e=>{{O({title:"카카오 로그인 설정 오류",description:"카카오 클라이언트 ID가 설정되지 않았습니다.",variant:"destructive"}),e({error:"카카오 클라이언트 ID가 설정되지 않았습니다."});return}})}initKakao(e,t){window.Kakao.isInitialized()||window.Kakao.init(e),window.Kakao.Auth.login({success:async r=>{try{window.Kakao.API.request({url:"/v2/user/me",success:async n=>{var o,l,c,d,u;const i={id:n.id.toString(),email:(o=n.kakao_account)==null?void 0:o.email,name:(c=(l=n.kakao_account)==null?void 0:l.profile)==null?void 0:c.nickname,avatar_url:(u=(d=n.kakao_account)==null?void 0:d.profile)==null?void 0:u.profile_image_url};O({title:"카카오 로그인 성공",description:`${i.name}님 환영합니다!`}),t({error:null})},fail:n=>{O({title:"카카오 사용자 정보 조회 실패",description:"사용자 정보를 가져올 수 없습니다.",variant:"destructive"}),t({error:"사용자 정보 조회 실패"})}})}catch(n){t({error:n.message})}},fail:r=>{O({title:"카카오 로그인 실패",description:"카카오 로그인에 실패했습니다.",variant:"destructive"}),t({error:"카카오 로그인 실패"})}})}async signInWithNaver(){return new Promise(e=>{{O({title:"네이버 로그인 설정 오류",description:"네이버 클라이언트 설정이 완료되지 않았습니다.",variant:"destructive"}),e({error:"네이버 로그인 설정 오류"});return}})}async getCurrentUser(){var e,t,r,n;try{const{data:{user:i},error:o}=await ee.auth.getUser();if(o)throw o;return i?{id:i.id,email:i.email,full_name:(e=i.user_metadata)==null?void 0:e.full_name,avatar_url:(t=i.user_metadata)==null?void 0:t.avatar_url,phone:(r=i.user_metadata)==null?void 0:r.phone,provider:((n=i.app_metadata)==null?void 0:n.provider)||"email",created_at:i.created_at,updated_at:i.updated_at}:null}catch(i){return console.error("Get current user error:",i),null}}async updateProfile(e){try{const{error:t}=await ee.auth.updateUser({data:e});if(t)throw t;return O({title:"프로필 업데이트 완료",description:"프로필 정보가 성공적으로 업데이트되었습니다."}),{error:null}}catch(t){const r=this.getErrorMessage(t.message);return O({title:"프로필 업데이트 실패",description:r,variant:"destructive"}),{error:r}}}onAuthStateChange(e){return ee.auth.onAuthStateChange((t,r)=>{var n,i,o,l;if(r!=null&&r.user){const c={id:r.user.id,email:r.user.email,full_name:(n=r.user.user_metadata)==null?void 0:n.full_name,avatar_url:(i=r.user.user_metadata)==null?void 0:i.avatar_url,phone:(o=r.user.user_metadata)==null?void 0:o.phone,provider:((l=r.user.app_metadata)==null?void 0:l.provider)||"email"};e(c)}else e(null)})}getErrorMessage(e){return{"Invalid login credentials":"이메일 또는 비밀번호가 올바르지 않습니다.","User already registered":"이미 가입된 이메일입니다.","Password should be at least 6 characters":"비밀번호는 6자 이상이어야 합니다.","Unable to validate email address: invalid format":"올바르지 않은 이메일 형식입니다.","Email not confirmed":"이메일 인증이 완료되지 않았습니다.","Password is too weak":"비밀번호가 너무 약합니다.","Email address not authorized":"승인되지 않은 이메일 주소입니다.","Token has expired or is invalid":"토큰이 만료되었거나 유효하지 않습니다.","User not found":"사용자를 찾을 수 없습니다."}[e]||e||"알 수 없는 오류가 발생했습니다."}}const at=new Tp;function ys(){const[s,e]=m.useState({user:null,loading:!0});m.useEffect(()=>{(async()=>{try{const f=await at.getCurrentUser();e({user:f,loading:!1})}catch(f){console.error("Auth check failed:",f),e({user:null,loading:!1})}})();const{data:{subscription:h}}=at.onAuthStateChange(f=>{e({user:f,loading:!1})});return()=>{h==null||h.unsubscribe()}},[]);const t=m.useCallback(async(u,h,f,p)=>{try{const y=await at.signUp({email:u,password:h,full_name:f,phone:p});return y.user&&e({user:y.user,loading:!1}),{error:y.error?{message:y.error}:null,data:y}}catch(y){return{error:{message:y.message||"회원가입에 실패했습니다."},data:null}}},[]),r=m.useCallback(async(u,h)=>{try{const f=await at.signIn({email:u,password:h});return f.user&&e({user:f.user,loading:!1}),{error:f.error?{message:f.error}:null,data:f}}catch(f){return{error:{message:f.message||"로그인에 실패했습니다."},data:null}}},[]),n=m.useCallback(async()=>{try{const u=await at.signOut();return e({user:null,loading:!1}),{error:u.error?{message:u.error}:null}}catch(u){return{error:{message:u.message||"로그아웃에 실패했습니다."}}}},[]),i=m.useCallback(async u=>{try{const h=await at.resetPassword(u);return{error:h.error?{message:h.error}:null}}catch(h){return{error:{message:h.message||"비밀번호 재설정에 실패했습니다."}}}},[]),o=m.useCallback(async()=>{try{const u=await at.signInWithGoogle();return u.url?(window.location.href=u.url,{error:null}):{error:u.error?{message:u.error}:null}}catch(u){return{error:{message:u.message||"구글 로그인에 실패했습니다."}}}},[]),l=m.useCallback(async()=>{try{const u=await at.signInWithKakao();return u.url?(window.location.href=u.url,{error:null}):{error:u.error?{message:u.error}:null}}catch(u){return{error:{message:u.message||"카카오 로그인에 실패했습니다."}}}},[]),c=m.useCallback(async()=>{try{const u=await at.signInWithNaver();return{error:u.error?{message:u.error}:null}}catch(u){return{error:{message:u.message||"네이버 로그인에 실패했습니다."}}}},[]),d=m.useCallback(async u=>{try{const h=await at.updateProfile(u);if(!h.error){const f=await at.getCurrentUser();e(p=>({...p,user:f}))}return{error:h.error?{message:h.error}:null}}catch(h){return{error:{message:h.message||"프로필 업데이트에 실패했습니다."}}}},[]);return{...s,signUp:t,signIn:r,signOut:n,resetPassword:i,signInWithGoogle:o,signInWithKakao:l,signInWithNaver:c,updateProfile:d}}const Ic=m.createContext(void 0),xs=()=>{const s=m.useContext(Ic);if(!s)throw new Error("useCart must be used within a CartProvider");return s},Rp=({children:s})=>{const[e,t]=m.useState([]),[r,n]=m.useState(!0),{user:i}=ys(),o=G.useMemo(()=>Ht.calculateCartStats(e),[e]),{itemsCount:l,totalAmount:c}=o,d=m.useCallback(async()=>{try{n(!0);const _=await Ht.getCart();t(_),console.log("🛒 Cart loaded from PHP API:",_.length,"items")}catch(_){console.error("❌ Failed to load cart:",_),t([])}finally{n(!1)}},[]);m.useEffect(()=>{d()},[d]),m.useEffect(()=>{i&&e.length>0&&Ht.syncLocalCartToServer(e).then(()=>d()).catch(_=>console.error("❌ Failed to sync cart:",_))},[i,d]);const u=m.useCallback(async _=>{await Ht.addItem(_.product_id,_.quantity||1),await d()},[d]),h=m.useCallback(async(_,w=1)=>{await Ht.addItem(_,w),await d()},[d]),f=m.useCallback(async(_,w)=>{await Ht.updateQuantity(_,w),await d()},[d]),p=m.useCallback(async _=>{await Ht.removeItem(_),await d()},[d]),y=m.useCallback(async()=>{await Ht.clearCart(),await d()},[d]),g=m.useCallback(async()=>{await d()},[d]),x={items:e,loading:r,itemsCount:l,totalAmount:c,addItem:u,addToCart:h,updateQuantity:f,removeItem:p,clearCart:y,refreshCart:g};return a.jsx(Ic.Provider,{value:x,children:s})},Ip=Rp;class Op{async getAllProducts(){try{return await xt.getProducts()}catch(e){return console.error("❌ Failed to load products:",e),this.getFallbackProducts()}}async getProductsByCategory(e){try{return await xt.getProducts({category:e})}catch(t){return console.error("❌ Failed to load products by category:",t),[]}}async searchProducts(e){try{return await xt.getProducts({search:e})}catch(t){return console.error("❌ Failed to search products:",t),[]}}async getProduct(e){try{return await xt.getProduct(e)}catch(t){return console.error("❌ Failed to load product:",t),null}}async getAllCategories(){try{const e=await xt.getCategories();return console.log("✅ Categories loaded from PHP API:",e.length),e}catch(e){return console.error("❌ Failed to load categories:",e),this.getFallbackCategories()}}async getFallbackProducts(){try{const t=await(await fetch("/src/data/products.json")).json();return console.log("🔄 Using fallback products from JSON:",t.length),t}catch(e){return console.error("❌ Failed to load fallback products:",e),[]}}async getFallbackCategories(){try{const t=await(await fetch("/src/data/categories.json")).json();return console.log("🔄 Using fallback categories from JSON:",t.length),t}catch(e){return console.error("❌ Failed to load fallback categories:",e),[]}}getProductUrl(e){return`/products/${e.slug}`}getCategoryUrl(e){return`/categories/${e.slug}`}normalizeImageUrl(e){return!e||e==="/images/placeholder.svg"?"/placeholder.svg":e.startsWith("http")||e.startsWith("/")?e:`/images/${e}`}}const To=new Op,Oc=m.createContext(void 0),Si=()=>{const s=m.useContext(Oc);if(!s)throw new Error("useProducts must be used within a ProductProvider");return s},Mp=({children:s})=>{const[e,t]=m.useState([]),[r,n]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(null),[d,u]=m.useState("all"),[h,f]=m.useState(""),p=m.useCallback(async()=>{try{o(!0),c(null);const[v,S]=await Promise.all([To.getAllProducts(),To.getAllCategories()]);t(v),n(S)}catch(v){console.error("❌ Failed to load data:",v),c(v instanceof Error?v.message:"Failed to load data")}finally{o(!1)}},[]);m.useEffect(()=>{p()},[p]);const y=G.useMemo(()=>{let v=[...e];if(d!=="all"&&(v=v.filter(S=>{var N;const A=(typeof S.category_id=="string",S.category_id);return A===d||A===`cat_${d}`||typeof S.category=="object"&&((N=S.category)==null?void 0:N.slug)===d})),h){const S=h.toLowerCase();v=v.filter(A=>{var N,R,Y;return A.name.toLowerCase().includes(S)||((N=A.description)==null?void 0:N.toLowerCase().includes(S))||((R=A.sku)==null?void 0:R.toLowerCase().includes(S))||((Y=A.tags)==null?void 0:Y.some($=>$.toLowerCase().includes(S)))})}return v},[e,d,h]),g=m.useCallback(v=>{console.log("🔍 getProductsByCategory called with:",v),console.log("📦 Total products available:",e.length);const S=r.find(N=>N.slug===v);return console.log("📂 Found category:",S),e.filter(N=>{const R=(typeof N.category_id=="string",N.category_id);return S&&R===S.id})},[e,r]),x=m.useCallback(v=>{if(!v)return e;const S=v.toLowerCase();return e.filter(A=>{var N,R,Y;return A.name.toLowerCase().includes(S)||((N=A.description)==null?void 0:N.toLowerCase().includes(S))||((R=A.sku)==null?void 0:R.toLowerCase().includes(S))||((Y=A.tags)==null?void 0:Y.some($=>$.toLowerCase().includes(S)))})},[e]),_=m.useCallback(async()=>{await p()},[p]),w={products:e,categories:r,loading:i,error:l,selectedCategory:d,searchTerm:h,filteredProducts:y,setSelectedCategory:u,setSearchTerm:f,getProductsByCategory:g,searchProducts:x,refreshProducts:_};return a.jsx(Oc.Provider,{value:w,children:s})},Dp=Mp;function Mc(s){var e,t,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var n=s.length;for(e=0;e<n;e++)s[e]&&(t=Mc(s[e]))&&(r&&(r+=" "),r+=t)}else for(t in s)s[t]&&(r&&(r+=" "),r+=t);return r}function Dc(){for(var s,e,t=0,r="",n=arguments.length;t<n;t++)(s=arguments[t])&&(e=Mc(s))&&(r&&(r+=" "),r+=e);return r}const Ro=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Io=Dc,aa=(s,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return Io(s,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:n,defaultVariants:i}=e,o=Object.keys(n).map(d=>{const u=t==null?void 0:t[d],h=i==null?void 0:i[d];if(u===null)return null;const f=Ro(u)||Ro(h);return n[d][f]}),l=t&&Object.entries(t).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(y=>{let[g,x]=y;return Array.isArray(x)?x.includes({...i,...l}[g]):{...i,...l}[g]===x})?[...d,h,f]:d},[]);return Io(s,o,c,t==null?void 0:t.class,t==null?void 0:t.className)},Ci="-",Lp=s=>{const e=Fp(s),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=s;return{getClassGroupId:o=>{const l=o.split(Ci);return l[0]===""&&l.length!==1&&l.shift(),Lc(l,e)||$p(o)},getConflictingClassGroupIds:(o,l)=>{const c=t[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Lc=(s,e)=>{var o;if(s.length===0)return e.classGroupId;const t=s[0],r=e.nextPart.get(t),n=r?Lc(s.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const i=s.join(Ci);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Oo=/^\[(.+)\]$/,$p=s=>{if(Oo.test(s)){const e=Oo.exec(s)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Fp=s=>{const{theme:e,prefix:t}=s,r={nextPart:new Map,validators:[]};return qp(Object.entries(s.classGroups),t).forEach(([i,o])=>{zn(o,r,i,e)}),r},zn=(s,e,t,r)=>{s.forEach(n=>{if(typeof n=="string"){const i=n===""?e:Mo(e,n);i.classGroupId=t;return}if(typeof n=="function"){if(Up(n)){zn(n(r),e,t,r);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([i,o])=>{zn(o,Mo(e,i),t,r)})})},Mo=(s,e)=>{let t=s;return e.split(Ci).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},Up=s=>s.isThemeGetter,qp=(s,e)=>e?s.map(([t,r])=>{const n=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[t,n]}):s,Vp=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const n=(i,o)=>{t.set(i,o),e++,e>s&&(e=0,r=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return n(i,o),o},set(i,o){t.has(i)?t.set(i,o):n(i,o)}}},$c="!",Bp=s=>{const{separator:e,experimentalParseClassName:t}=s,r=e.length===1,n=e[0],i=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let x=0;x<l.length;x++){let _=l[x];if(d===0){if(_===n&&(r||l.slice(x,x+i)===e)){c.push(l.slice(u,x)),u=x+i;continue}if(_==="/"){h=x;continue}}_==="["?d++:_==="]"&&d--}const f=c.length===0?l:l.substring(u),p=f.startsWith($c),y=p?f.substring(1):f,g=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return t?l=>t({className:l,parseClassName:o}):o},zp=s=>{if(s.length<=1)return s;const e=[];let t=[];return s.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},Kp=s=>({cache:Vp(s.cacheSize),parseClassName:Bp(s),...Lp(s)}),Wp=/\s+/,Hp=(s,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:n}=e,i=[],o=s.trim().split(Wp);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=t(d);let y=!!p,g=r(y?f.substring(0,p):f);if(!g){if(!y){l=d+(l.length>0?" "+l:l);continue}if(g=r(f),!g){l=d+(l.length>0?" "+l:l);continue}y=!1}const x=zp(u).join(":"),_=h?x+$c:x,w=_+g;if(i.includes(w))continue;i.push(w);const v=n(g,y);for(let S=0;S<v.length;++S){const A=v[S];i.push(_+A)}l=d+(l.length>0?" "+l:l)}return l};function Gp(){let s=0,e,t,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=Fc(e))&&(r&&(r+=" "),r+=t);return r}const Fc=s=>{if(typeof s=="string")return s;let e,t="";for(let r=0;r<s.length;r++)s[r]&&(e=Fc(s[r]))&&(t&&(t+=" "),t+=e);return t};function Zp(s,...e){let t,r,n,i=o;function o(c){const d=e.reduce((u,h)=>h(u),s());return t=Kp(d),r=t.cache.get,n=t.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=Hp(c,t);return n(c,u),u}return function(){return i(Gp.apply(null,arguments))}}const Ce=s=>{const e=t=>t[s]||[];return e.isThemeGetter=!0,e},Uc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jp=/^\d+\/\d+$/,Qp=new Set(["px","full","screen"]),Yp=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xp=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eg=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tg=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sg=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tt=s=>nr(s)||Qp.has(s)||Jp.test(s),Zt=s=>Sr(s,"length",dg),nr=s=>!!s&&!Number.isNaN(Number(s)),jn=s=>Sr(s,"number",nr),Ir=s=>!!s&&Number.isInteger(Number(s)),rg=s=>s.endsWith("%")&&nr(s.slice(0,-1)),ie=s=>Uc.test(s),Jt=s=>Yp.test(s),ag=new Set(["length","size","percentage"]),ng=s=>Sr(s,ag,qc),ig=s=>Sr(s,"position",qc),og=new Set(["image","url"]),lg=s=>Sr(s,og,hg),cg=s=>Sr(s,"",ug),Or=()=>!0,Sr=(s,e,t)=>{const r=Uc.exec(s);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},dg=s=>Xp.test(s)&&!eg.test(s),qc=()=>!1,ug=s=>tg.test(s),hg=s=>sg.test(s),fg=()=>{const s=Ce("colors"),e=Ce("spacing"),t=Ce("blur"),r=Ce("brightness"),n=Ce("borderColor"),i=Ce("borderRadius"),o=Ce("borderSpacing"),l=Ce("borderWidth"),c=Ce("contrast"),d=Ce("grayscale"),u=Ce("hueRotate"),h=Ce("invert"),f=Ce("gap"),p=Ce("gradientColorStops"),y=Ce("gradientColorStopPositions"),g=Ce("inset"),x=Ce("margin"),_=Ce("opacity"),w=Ce("padding"),v=Ce("saturate"),S=Ce("scale"),A=Ce("sepia"),N=Ce("skew"),R=Ce("space"),Y=Ce("translate"),$=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",ie,e],I=()=>[ie,e],q=()=>["",Tt,Zt],re=()=>["auto",nr,ie],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>["start","end","center","between","around","evenly","stretch"],Te=()=>["","0",ie],ht=()=>["auto","avoid","all","avoid-page","page","left","right","column"],qe=()=>[nr,ie];return{cacheSize:500,separator:":",theme:{colors:[Or],spacing:[Tt,Zt],blur:["none","",Jt,ie],brightness:qe(),borderColor:[s],borderRadius:["none","","full",Jt,ie],borderSpacing:I(),borderWidth:q(),contrast:qe(),grayscale:Te(),hueRotate:qe(),invert:Te(),gap:I(),gradientColorStops:[s],gradientColorStopPositions:[rg,Zt],inset:K(),margin:K(),opacity:qe(),padding:I(),saturate:qe(),scale:qe(),sepia:Te(),skew:qe(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ie]}],container:["container"],columns:[{columns:[Jt]}],"break-after":[{"break-after":ht()}],"break-before":[{"break-before":ht()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),ie]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ir,ie]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ie]}],grow:[{grow:Te()}],shrink:[{shrink:Te()}],order:[{order:["first","last","none",Ir,ie]}],"grid-cols":[{"grid-cols":[Or]}],"col-start-end":[{col:["auto",{span:["full",Ir,ie]},ie]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[Or]}],"row-start-end":[{row:["auto",{span:[Ir,ie]},ie]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ie]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...ke()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ke(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ke(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ie,e]}],"min-w":[{"min-w":[ie,e,"min","max","fit"]}],"max-w":[{"max-w":[ie,e,"none","full","min","max","fit","prose",{screen:[Jt]},Jt]}],h:[{h:[ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Jt,Zt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jn]}],"font-family":[{font:[Or]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ie]}],"line-clamp":[{"line-clamp":["none",nr,jn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tt,ie]}],"list-image":[{"list-image":["none",ie]}],"list-style-type":[{list:["none","disc","decimal",ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tt,Zt]}],"underline-offset":[{"underline-offset":["auto",Tt,ie]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),ig]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ng]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lg]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ae()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[Tt,ie]}],"outline-w":[{outline:[Tt,Zt]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Tt,Zt]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",Jt,cg]}],"shadow-color":[{shadow:[Or]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Jt,ie]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ie]}],duration:[{duration:qe()}],ease:[{ease:["linear","in","out","in-out",ie]}],delay:[{delay:qe()}],animate:[{animate:["none","spin","ping","pulse","bounce",ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Ir,ie]}],"translate-x":[{"translate-x":[Y]}],"translate-y":[{"translate-y":[Y]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ie]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[Tt,Zt,jn]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mg=Zp(fg);function z(...s){return mg(Dc(s))}const pg=aa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),M=m.forwardRef(({className:s,variant:e,size:t,asChild:r=!1,...n},i)=>{const o=r?Rl:"button";return a.jsx(o,{className:z(pg({variant:e,size:t,className:s})),ref:i,...n})});M.displayName="Button";const fe=m.forwardRef(({className:s,type:e,...t},r)=>a.jsx("input",{type:e,className:z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...t}));fe.displayName="Input";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vc=(...s)=>s.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=m.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:n="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...yg,width:e,height:e,stroke:s,strokeWidth:r?Number(t)*24/Number(e):t,className:Vc("lucide",n),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=(s,e)=>{const t=m.forwardRef(({className:r,...n},i)=>m.createElement(xg,{ref:i,iconNode:e,className:Vc(`lucide-${gg(s)}`,r),...n}));return t.displayName=`${s}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=W("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=W("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=W("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=W("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=W("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=W("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=W("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=W("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=W("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=W("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=W("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=W("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=W("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=W("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=W("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=W("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=W("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=W("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=W("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=W("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=W("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=W("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=W("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=W("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=W("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=W("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=W("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=W("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=W("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=W("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=W("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=W("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=W("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=W("Rotate3d",[["path",{d:"M16.466 7.5C15.643 4.237 13.952 2 12 2 9.239 2 7 6.477 7 12s2.239 10 5 10c.342 0 .677-.069 1-.2",key:"10n0gc"}],["path",{d:"m15.194 13.707 3.814 1.86-1.86 3.814",key:"16shm9"}],["path",{d:"M19 15.57c-1.804.885-4.274 1.43-7 1.43-5.523 0-10-2.239-10-5s4.477-5 10-5c4.838 0 8.873 1.718 9.8 4",key:"1lxi77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=W("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=W("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=W("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=W("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=W("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=W("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=W("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Gn=dh,Zn=uh,Vg=m.forwardRef(({className:s,inset:e,children:t,...r},n)=>a.jsxs(Il,{ref:n,className:z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",s),...r,children:[t,a.jsx(Ei,{className:"ml-auto h-4 w-4"})]}));Vg.displayName=Il.displayName;const Bg=m.forwardRef(({className:s,...e},t)=>a.jsx(Ol,{ref:t,className:z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...e}));Bg.displayName=Ol.displayName;const Na=m.forwardRef(({className:s,sideOffset:e=4,...t},r)=>a.jsx(ch,{children:a.jsx(Ml,{ref:r,sideOffset:e,className:z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t})}));Na.displayName=Ml.displayName;const ar=m.forwardRef(({className:s,inset:e,...t},r)=>a.jsx(Dl,{ref:r,className:z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",s),...t}));ar.displayName=Dl.displayName;const zg=m.forwardRef(({className:s,children:e,checked:t,...r},n)=>a.jsxs(Ll,{ref:n,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:t,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($l,{children:a.jsx(Ja,{className:"h-4 w-4"})})}),e]}));zg.displayName=Ll.displayName;const Kg=m.forwardRef(({className:s,children:e,...t},r)=>a.jsxs(Fl,{ref:r,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($l,{children:a.jsx(Wc,{className:"h-2 w-2 fill-current"})})}),e]}));Kg.displayName=Fl.displayName;const Wg=m.forwardRef(({className:s,inset:e,...t},r)=>a.jsx(Ul,{ref:r,className:z("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",s),...t}));Wg.displayName=Ul.displayName;const Hg=m.forwardRef(({className:s,...e},t)=>a.jsx(ql,{ref:t,className:z("-mx-1 my-1 h-px bg-muted",s),...e}));Hg.displayName=ql.displayName;const Ya=zl,Gg=Vl,Xc=m.forwardRef(({className:s,...e},t)=>a.jsx(La,{ref:t,className:z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...e}));Xc.displayName=La.displayName;const na=m.forwardRef(({className:s,children:e,...t},r)=>a.jsxs(Gg,{children:[a.jsx(Xc,{}),a.jsxs($a,{ref:r,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t,children:[e,a.jsxs(Bl,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Cr,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));na.displayName=$a.displayName;const ia=({className:s,...e})=>a.jsx("div",{className:z("flex flex-col space-y-1.5 text-center sm:text-left",s),...e});ia.displayName="DialogHeader";const ed=({className:s,...e})=>a.jsx("div",{className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...e});ed.displayName="DialogFooter";const oa=m.forwardRef(({className:s,...e},t)=>a.jsx(Fa,{ref:t,className:z("text-lg font-semibold leading-none tracking-tight",s),...e}));oa.displayName=Fa.displayName;const td=m.forwardRef(({className:s,...e},t)=>a.jsx(Ua,{ref:t,className:z("text-sm text-muted-foreground",s),...e}));td.displayName=Ua.displayName;var Zg="Label",sd=m.forwardRef((s,e)=>a.jsx(ve.label,{...s,ref:e,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||((n=s.onMouseDown)==null||n.call(s,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));sd.displayName=Zg;var rd=sd;const Jg=aa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=m.forwardRef(({className:s,...e},t)=>a.jsx(rd,{ref:t,className:z(Jg(),s),...e}));ue.displayName=rd.displayName;const ad=hh,Ri=m.forwardRef(({className:s,...e},t)=>a.jsx(Kl,{ref:t,className:z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...e}));Ri.displayName=Kl.displayName;const Ts=m.forwardRef(({className:s,...e},t)=>a.jsx(Wl,{ref:t,className:z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...e}));Ts.displayName=Wl.displayName;const Rs=m.forwardRef(({className:s,...e},t)=>a.jsx(Hl,{ref:t,className:z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...e}));Rs.displayName=Hl.displayName;function Qg({open:s,onOpenChange:e}){const{signIn:t,signUp:r,signInWithGoogle:n,signInWithKakao:i}=ys(),[o,l]=m.useState(!1),[c,d]=m.useState(null),[u,h]=m.useState({email:"",password:"",fullName:"",confirmPassword:""}),f=async x=>{x.preventDefault(),l(!0);const{error:_}=await t(u.email,u.password);_?O({variant:"destructive",title:"로그인 실패",description:_.message}):(O({title:"로그인 성공",description:"환영합니다!"}),e(!1),h({email:"",password:"",fullName:"",confirmPassword:""})),l(!1)},p=async x=>{if(x.preventDefault(),u.password!==u.confirmPassword){O({variant:"destructive",title:"회원가입 실패",description:"비밀번호가 일치하지 않습니다."});return}l(!0);const{error:_}=await r(u.email,u.password,u.fullName);_?O({variant:"destructive",title:"회원가입 실패",description:_.message}):(O({title:"회원가입 완료",description:"이메일을 확인해 주세요."}),e(!1),h({email:"",password:"",fullName:"",confirmPassword:""})),l(!1)},y=(x,_)=>{h(w=>({...w,[x]:_}))},g=async x=>{d(x);try{let _;x==="google"?_=await n():x==="kakao"&&(_=await i()),_!=null&&_.error?O({variant:"destructive",title:"소셜 로그인 실패",description:_.error.message}):(O({title:"로그인 성공",description:"환영합니다!"}),e(!1))}catch{O({variant:"destructive",title:"소셜 로그인 오류",description:"다시 시도해주세요."})}finally{d(null)}};return a.jsx(Ya,{open:s,onOpenChange:e,children:a.jsxs(na,{className:"sm:max-w-md",children:[a.jsxs(ia,{children:[a.jsx(oa,{children:"계정"}),a.jsx(td,{children:"로그인하거나 새 계정을 만드세요."})]}),a.jsxs(ad,{defaultValue:"signin",className:"w-full",children:[a.jsxs(Ri,{className:"grid w-full grid-cols-2",children:[a.jsx(Ts,{value:"signin",children:"로그인"}),a.jsx(Ts,{value:"signup",children:"회원가입"})]}),a.jsxs(Rs,{value:"signin",className:"space-y-4",children:[a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"signin-email",children:"이메일"}),a.jsx(fe,{id:"signin-email",type:"email",value:u.email,onChange:x=>y("email",x.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"signin-password",children:"비밀번호"}),a.jsx(fe,{id:"signin-password",type:"password",value:u.password,onChange:x=>y("password",x.target.value),required:!0})]}),a.jsxs(M,{type:"submit",className:"w-full",disabled:o,children:[o&&a.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"로그인"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"또는"})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs(M,{variant:"outline",onClick:()=>g("kakao"),disabled:c!==null,className:"w-full bg-yellow-400 hover:bg-yellow-500 text-black border-yellow-400",children:[c==="kakao"?a.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx("span",{className:"mr-2",children:"💬"}),"카카오 로그인"]}),a.jsxs(M,{variant:"outline",onClick:()=>g("google"),disabled:c!==null,className:"w-full",children:[c==="google"?a.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx("span",{className:"mr-2",children:"🔍"}),"구글 로그인"]})]})]})]}),a.jsxs(Rs,{value:"signup",className:"space-y-4",children:[a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"signup-name",children:"이름"}),a.jsx(fe,{id:"signup-name",type:"text",value:u.fullName,onChange:x=>y("fullName",x.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"signup-email",children:"이메일"}),a.jsx(fe,{id:"signup-email",type:"email",value:u.email,onChange:x=>y("email",x.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"signup-password",children:"비밀번호"}),a.jsx(fe,{id:"signup-password",type:"password",value:u.password,onChange:x=>y("password",x.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"signup-confirm",children:"비밀번호 확인"}),a.jsx(fe,{id:"signup-confirm",type:"password",value:u.confirmPassword,onChange:x=>y("confirmPassword",x.target.value),required:!0})]}),a.jsxs(M,{type:"submit",className:"w-full",disabled:o,children:[o&&a.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"회원가입"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"또는"})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs(M,{variant:"outline",onClick:()=>g("kakao"),disabled:c!==null,className:"w-full bg-yellow-400 hover:bg-yellow-500 text-black border-yellow-400",children:[c==="kakao"?a.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx("span",{className:"mr-2",children:"💬"}),"카카오로 가입"]}),a.jsxs(M,{variant:"outline",onClick:()=>g("google"),disabled:c!==null,className:"w-full",children:[c==="google"?a.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx("span",{className:"mr-2",children:"🔍"}),"구글로 가입"]})]})]})]})]})]})})}const Yg=aa("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Es=m.forwardRef(({className:s,variant:e,...t},r)=>a.jsx("div",{ref:r,role:"alert",className:z(Yg({variant:e}),s),...t}));Es.displayName="Alert";const Xg=m.forwardRef(({className:s,...e},t)=>a.jsx("h5",{ref:t,className:z("mb-1 font-medium leading-none tracking-tight",s),...e}));Xg.displayName="AlertTitle";const Ps=m.forwardRef(({className:s,...e},t)=>a.jsx("div",{ref:t,className:z("text-sm [&_p]:leading-relaxed",s),...e}));Ps.displayName="AlertDescription";const kn={email:"admin@jpcaster.com",password:"admin123!",userData:{id:"admin_001",email:"admin@jpcaster.com",name:"관리자",role:"admin"}};function nd(){ys();const[s,e]=m.useState(()=>{try{const l=localStorage.getItem("admin_session"),c=localStorage.getItem("admin_session_expiry");if(l&&c){const d=JSON.parse(l),u=parseInt(c);if(new Date().getTime()<u)return console.log("🟢 Initial admin session found and valid"),{isAdmin:!0,adminUser:d,loading:!1,error:null};console.log("🟡 Initial admin session expired, clearing"),localStorage.removeItem("admin_session"),localStorage.removeItem("admin_session_expiry")}return console.log("🔴 No valid admin session found initially"),{isAdmin:!1,adminUser:null,loading:!1,error:null}}catch(l){return console.error("❌ Error checking initial admin status:",l),{isAdmin:!1,adminUser:null,loading:!1,error:null}}});return m.useEffect(()=>{console.log("🔄 useAdmin effect running, current state:",s)},[]),{...s,loginAsAdmin:async(l,c)=>{console.log("🔐 Admin login attempt:",l),e(d=>({...d,loading:!0,error:null}));try{if(await new Promise(d=>setTimeout(d,1e3)),l===kn.email&&c===kn.password){const d={...kn.userData,lastLogin:new Date().toISOString()},u=new Date().getTime()+8*60*60*1e3;return localStorage.setItem("admin_session",JSON.stringify(d)),localStorage.setItem("admin_session_expiry",u.toString()),console.log("✅ Admin login successful, updating state immediately",d),e({isAdmin:!0,adminUser:d,loading:!1,error:null}),!0}else return console.log("❌ Invalid admin credentials"),e(d=>({...d,loading:!1,error:"잘못된 관리자 계정 정보입니다."})),!1}catch(d){return console.error("❌ Login error:",d),e(u=>({...u,loading:!1,error:"로그인 중 오류가 발생했습니다."})),!1}},logoutAdmin:()=>{console.log("🚪 Admin logout"),localStorage.removeItem("admin_session"),localStorage.removeItem("admin_session_expiry"),e({isAdmin:!1,adminUser:null,loading:!1,error:null})},clearError:()=>{e(l=>({...l,error:null}))},isSessionExpiringSoon:()=>{const l=localStorage.getItem("admin_session_expiry");return l?parseInt(l)-new Date().getTime()<30*60*1e3:!1},extendSession:()=>{if(s.isAdmin&&s.adminUser){const l=new Date().getTime()+288e5;localStorage.setItem("admin_session_expiry",l.toString()),console.log("⏰ Admin session extended")}}}}function ey({isOpen:s,onClose:e,onSuccess:t}){const[r,n]=m.useState(""),[i,o]=m.useState(""),[l,c]=m.useState(!1),{loginAsAdmin:d,loading:u,error:h,clearError:f}=nd(),p=async g=>{if(g.preventDefault(),f(),!r||!i)return;console.log("🔑 AdminLoginModal: attempting login..."),await d(r,i)&&(console.log("🎉 AdminLoginModal: login successful, calling onSuccess"),n(""),o(""),e(),t==null||t())},y=()=>{n(""),o(""),f(),e()};return a.jsx(Ya,{open:s,onOpenChange:y,children:a.jsxs(na,{className:"sm:max-w-md",children:[a.jsx(ia,{children:a.jsxs(oa,{className:"flex items-center gap-2",children:[a.jsx(Ti,{className:"w-5 h-5 text-amber-600"}),"관리자 로그인"]})}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h&&a.jsx(Es,{variant:"destructive",children:a.jsx(Ps,{children:h})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"admin-email",children:"이메일"}),a.jsx(fe,{id:"admin-email",type:"email",placeholder:"admin@jpcaster.com",value:r,onChange:g=>n(g.target.value),disabled:u,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"admin-password",children:"비밀번호"}),a.jsxs("div",{className:"relative",children:[a.jsx(fe,{id:"admin-password",type:l?"text":"password",placeholder:"관리자 비밀번호를 입력하세요",value:i,onChange:g=>o(g.target.value),disabled:u,required:!0}),a.jsx(M,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>c(!l),disabled:u,children:l?a.jsx(Wn,{className:"h-4 w-4"}):a.jsx(pr,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200",children:[a.jsx("p",{className:"text-sm text-amber-800",children:a.jsx("strong",{children:"개발용 계정:"})}),a.jsxs("p",{className:"text-xs text-amber-700 mt-1",children:["이메일: admin@jpcaster.com",a.jsx("br",{}),"비밀번호: admin123!"]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(M,{type:"button",variant:"outline",onClick:y,disabled:u,className:"flex-1",children:"취소"}),a.jsx(M,{type:"submit",disabled:u||!r||!i,className:"flex-1 bg-amber-600 hover:bg-amber-700",children:u?a.jsxs(a.Fragment,{children:[a.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"로그인 중..."]}):"로그인"})]})]})]})})}const ty=zl,sy=fh,ry=Vl,id=m.forwardRef(({className:s,...e},t)=>a.jsx(La,{className:z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...e,ref:t}));id.displayName=La.displayName;const ay=aa("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),od=m.forwardRef(({side:s="right",className:e,children:t,...r},n)=>a.jsxs(ry,{children:[a.jsx(id,{}),a.jsxs($a,{ref:n,className:z(ay({side:s}),e),...r,children:[t,a.jsxs(Bl,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(Cr,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));od.displayName=$a.displayName;const ld=({className:s,...e})=>a.jsx("div",{className:z("flex flex-col space-y-2 text-center sm:text-left",s),...e});ld.displayName="SheetHeader";const cd=m.forwardRef(({className:s,...e},t)=>a.jsx(Fa,{ref:t,className:z("text-lg font-semibold text-foreground",s),...e}));cd.displayName=Fa.displayName;const ny=m.forwardRef(({className:s,...e},t)=>a.jsx(Ua,{ref:t,className:z("text-sm text-muted-foreground",s),...e}));ny.displayName=Ua.displayName;function iy({item:s}){const{updateQuantity:e,removeItem:t}=xs(),r=()=>{e(s.id,s.quantity+1)},n=()=>{s.quantity>1&&e(s.id,s.quantity-1)},i=()=>{t(s.id)},o=s.price*s.quantity;return a.jsxs("div",{className:"flex gap-3 p-3 border rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0",children:s.image?a.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-16 object-cover rounded"}):a.jsx("div",{className:"w-16 h-16 bg-muted rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-muted-foreground",children:"이미지 없음"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium truncate",children:s.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["₩",s.price.toLocaleString()]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(M,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:n,disabled:s.quantity<=1,children:a.jsx(Zc,{className:"h-3 w-3"})}),a.jsx("span",{className:"w-12 text-center text-sm",children:s.quantity}),a.jsx(M,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:r,children:a.jsx(Jc,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"font-medium",children:["₩",o.toLocaleString()]}),a.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:i,children:a.jsx(Cr,{className:"h-4 w-4"})})]})]})]})]})}function oy({children:s,open:e,onOpenChange:t}){const{items:r,itemsCount:n,totalAmount:i,loading:o}=xs(),[l,c]=m.useState(!1),d=zt();m.useEffect(()=>{n>0&&!o&&console.log("🛒 CartDrawer: cart has",n,"items, total:",i)},[n,i,o]);const u=e!==void 0?!!e:l,h=t||c;return m.useEffect(()=>{console.log("🚪 CartDrawer state:",{controlledOpen:e,internalOpen:l,open:u,hasOnOpenChange:!!t})},[e,l,u,t]),a.jsxs(ty,{open:u,onOpenChange:h,children:[a.jsx(sy,{asChild:!0,children:s}),a.jsxs(od,{className:"flex flex-col w-full sm:max-w-lg",children:[a.jsx(ld,{children:a.jsxs(cd,{className:"flex items-center gap-2",children:[a.jsx(Us,{className:"h-5 w-5"}),"장바구니 (",n,"개)"]})}),a.jsx("div",{className:"flex-1 overflow-auto py-4",children:o?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"text-muted-foreground",children:"로딩 중..."})}):r.length?a.jsx("div",{className:"space-y-4",children:r.map(f=>a.jsx(iy,{item:f},f.id))}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-center",children:[a.jsx(Us,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"장바구니가 비어있습니다"})]})}),r.length?a.jsxs("div",{className:"border-t pt-4 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[a.jsx("span",{children:"총 금액"}),a.jsxs("span",{children:["₩",i.toLocaleString()]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(M,{variant:"outline",onClick:()=>h(!1),children:"계속 쇼핑"}),a.jsx(M,{onClick:()=>{h(!1),d("/checkout")},children:"주문하기"})]})]}):null]})]})}function ly(){const{language:s,setLanguage:e}=Va(),t=[{code:"ko",name:"한국어",flag:"🇰🇷"},{code:"en",name:"English",flag:"🇺🇸"}],r=t.find(n=>n.code===s);return a.jsxs(Gn,{children:[a.jsx(Zn,{asChild:!0,children:a.jsxs(M,{variant:"ghost",size:"sm",className:"text-inherit hover:text-primary hover:bg-transparent transition-colors font-medium",children:[a.jsx(Tg,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:r==null?void 0:r.name}),a.jsx("span",{className:"sm:hidden",children:r==null?void 0:r.flag})]})}),a.jsx(Na,{align:"end",children:t.map(n=>a.jsxs(ar,{onClick:()=>e(n.code),className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("span",{className:"text-lg",children:n.flag}),a.jsx("span",{children:n.name}),s===n.code&&a.jsx(Ja,{className:"w-4 h-4 ml-auto text-yellow-600"})]},n.code))})]})}function cy(){const[s,e]=m.useState(!1),[t,r]=m.useState(!1),[n,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(""),[u,h]=m.useState(0),[f,p]=m.useState(!1),[y,g]=m.useState(!1),{user:x,signOut:_}=ys(),{itemsCount:w}=xs();m.useEffect(()=>{console.log("🔢 Header: cart count 업데이트:",w),w>0?console.log("🎯 Header: 장바구니에 상품 있음!",w,"개"):console.log("📭 Header: 장바구니 비어있음")},[w]);const{isAdmin:v,adminUser:S,logoutAdmin:A}=nd(),{t:N}=Va(),R=zt(),Y=[{nameKey:"nav.agv-caster",href:"/categories/agv-casters"},{nameKey:"nav.equipment-caster",href:"/categories/industrial-casters"},{nameKey:"nav.polyurethane-wheel",href:"/categories/polyurethane-wheels"},{nameKey:"nav.rubber-wheel",href:"/categories/rubber-wheels"},{nameKey:"nav.board",href:"/board"},{nameKey:"nav.notices",href:"/board/notice"},{nameKey:"nav.support",href:"/support"}],$=[{nameKey:"nav.company",href:"/company"},{nameKey:"nav.agv-caster",href:"/categories/agv-casters"},{nameKey:"nav.equipment-caster",href:"/categories/industrial-casters"},{nameKey:"nav.polyurethane-wheel",href:"/categories/polyurethane-wheels"},{nameKey:"nav.rubber-wheel",href:"/categories/rubber-wheels"},{nameKey:"nav.board",href:"/board"},{nameKey:"nav.notices",href:"/board/notice"},{nameKey:"nav.support",href:"/support"}],E=[{titleKey:"megamenu.productCategory",icon:Qc,items:[{nameKey:"megamenu.allProducts",href:"/products",icon:Rg},{nameKey:"nav.agv-caster",href:"/categories/agv-casters",icon:gr},{nameKey:"nav.equipment-caster",href:"/categories/industrial-casters",icon:Yc},{nameKey:"nav.polyurethane-wheel",href:"/categories/polyurethane-wheels",icon:Do},{nameKey:"nav.rubber-wheel",href:"/categories/rubber-wheels",icon:Ti}]},{titleKey:"megamenu.customerSupport",icon:As,items:[{nameKey:"nav.notices",href:"/board/notice",icon:As},{nameKey:"megamenu.techSupport",href:"/support",icon:As},{nameKey:"megamenu.contact",href:"/contact",icon:As},{nameKey:"megamenu.downloads",href:"/downloads",icon:gr}]}],K=q=>{q.preventDefault(),c.trim()&&(R(`/products?search=${encodeURIComponent(c.trim())}`),d(""),e(!1))},I=async()=>{await _(),R("/")};return a.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white shadow-sm border-b border-gray-200",children:[a.jsx("div",{className:"bg-steel text-white text-sm border-b border-steel-light/20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex justify-between items-center h-12",children:[a.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[a.jsxs(Q,{to:"/support",className:"flex items-center hover:text-primary transition-colors font-medium",children:[a.jsx(As,{className:"w-4 h-4 mr-2"}),N("header.support")]}),a.jsxs(Q,{to:"/quality",className:"flex items-center hover:text-primary transition-colors font-medium",children:[a.jsx(Do,{className:"w-4 h-4 mr-2"}),N("header.quality")]}),a.jsxs(Q,{to:"/dealers",className:"flex items-center hover:text-primary transition-colors font-medium",children:[a.jsx(Gc,{className:"w-4 h-4 mr-2"}),N("header.dealers")]})]}),a.jsxs("div",{className:"flex items-center space-x-4 md:space-x-6",children:[v?a.jsxs(Gn,{children:[a.jsx(Zn,{asChild:!0,children:a.jsxs("button",{className:"flex items-center gap-1 hover:text-primary transition-colors font-medium",children:["관리자: ",S==null?void 0:S.name]})}),a.jsxs(Na,{align:"end",children:[a.jsx(ar,{onClick:()=>R("/admin"),className:"cursor-pointer",children:"관리자 페이지"}),a.jsx(ar,{onClick:A,className:"cursor-pointer",children:"관리자 로그아웃"})]})]}):a.jsx("button",{onClick:()=>i(!0),className:"hover:text-primary transition-colors font-medium",children:"관리자"}),a.jsx(ly,{})]})]})})}),a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex items-center justify-between h-20",children:[a.jsx(Q,{to:"/",className:"flex items-center",children:a.jsx("div",{className:"bg-primary text-primary-foreground px-4 md:px-6 py-3 font-black text-lg md:text-xl tracking-wider",children:"Korean Caster"})}),a.jsx("div",{className:"hidden md:flex flex-1 max-w-2xl mx-8",children:a.jsxs("form",{onSubmit:K,className:"relative border-2 border-primary/30 rounded-lg overflow-hidden w-full",children:[a.jsx(fe,{type:"text",placeholder:N("header.search"),value:c,onChange:q=>d(q.target.value),className:"w-full pl-4 pr-12 py-3 text-base border-0 focus:ring-0 focus:outline-none bg-white"}),a.jsx(M,{type:"submit",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 px-4 bg-primary hover:bg-primary/90 text-primary-foreground",children:a.jsx(Nn,{className:"w-4 h-4"})})]})}),a.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[a.jsx(M,{variant:"ghost",size:"icon",className:"relative hover:bg-primary/10 hover:text-primary md:hidden",children:a.jsx(Nn,{className:"w-5 h-5"})}),x?a.jsxs(Gn,{children:[a.jsx(Zn,{asChild:!0,children:a.jsxs(M,{variant:"ghost",className:"relative hover:bg-primary/10 hover:text-primary hidden md:flex px-3",children:[a.jsx(xa,{className:"w-5 h-5 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:N("header.account")})]})}),a.jsxs(Na,{align:"end",children:[a.jsx(ar,{asChild:!0,children:a.jsxs(Q,{to:"/account",className:"flex items-center gap-2 cursor-pointer",children:[a.jsx(xa,{className:"w-4 h-4"}),N("header.account")]})}),a.jsxs(ar,{onClick:I,className:"flex items-center gap-2 cursor-pointer",children:[a.jsx(Ig,{className:"w-4 h-4"}),N("header.logout")]})]})]}):a.jsxs(M,{variant:"ghost",className:"relative hover:bg-primary/10 hover:text-primary hidden md:flex px-3",onClick:()=>r(!0),children:[a.jsx(xa,{className:"w-5 h-5 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:N("header.login")})]}),a.jsxs(M,{variant:"ghost",size:"icon",className:"relative hover:bg-yellow-50 hover:text-yellow-600 transition-colors",onClick:()=>l(!0),children:[a.jsx(Us,{className:"w-5 h-5"}),w>0&&a.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-yellow-400 text-gray-900 text-xs rounded-full flex items-center justify-center font-bold border border-white",children:w})]}),a.jsx(M,{variant:"ghost",size:"icon",className:"md:hidden hover:bg-primary/10 hover:text-primary",onClick:()=>e(!s),children:s?a.jsx(Cr,{className:"w-5 h-5"}):a.jsx(Og,{className:"w-5 h-5"})})]})]})}),a.jsx("div",{className:"bg-card border-t shadow-sm",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("nav",{className:"hidden md:flex items-center h-14 relative",children:[a.jsxs("div",{className:"relative",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[a.jsxs("button",{className:"flex items-center text-base font-semibold text-foreground hover:text-primary transition-colors py-4 px-5 hover:bg-yellow-50",children:[N("megamenu.allMenu"),a.jsx(Ai,{className:"w-4 h-4 ml-1"})]}),y&&a.jsx("div",{className:"absolute top-full left-0 z-50 bg-white shadow-2xl border border-gray-200 rounded-lg min-w-[800px] mt-1",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"grid grid-cols-3 gap-8",children:E.map((q,re)=>(q.icon,a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"pb-2 border-b border-gray-200",children:a.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:N(q.titleKey)})}),a.jsx("div",{className:"space-y-2",children:q.items.map((le,ae)=>(le.icon,a.jsx(Q,{to:le.href,className:"flex items-center p-2 rounded-md hover:bg-yellow-50 hover:text-yellow-600 transition-colors group",onClick:()=>g(!1),children:a.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-yellow-600",children:N(le.nameKey)})},ae)))})]},re)))}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:N("megamenu.description")})})]})})]}),Y.map(q=>a.jsx(Q,{to:q.href,className:"flex items-center text-base font-semibold text-foreground hover:text-primary whitespace-nowrap transition-colors py-4 px-5",children:a.jsx("span",{children:N(q.nameKey)})},q.nameKey))]}),s&&a.jsxs("div",{className:"md:hidden py-4 space-y-2",children:[a.jsxs("form",{onSubmit:K,className:"relative border-2 border-primary/30 rounded-lg overflow-hidden mb-4",children:[a.jsx(fe,{type:"text",placeholder:N("header.search"),value:c,onChange:q=>d(q.target.value),className:"w-full pl-4 pr-12 py-3 text-base border-0 focus:ring-0 focus:outline-none bg-white"}),a.jsx(M,{type:"submit",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 px-4 bg-primary hover:bg-primary/90 text-primary-foreground",children:a.jsx(Nn,{className:"w-4 h-4"})})]}),$.map(q=>a.jsx(Q,{to:q.href,className:"block text-base font-semibold text-foreground hover:text-primary transition-colors py-3 px-2 border-b border-muted last:border-b-0",onClick:()=>e(!1),children:N(q.nameKey)},q.nameKey)),a.jsxs("div",{className:"pt-4 border-t border-muted space-y-2",children:[a.jsx(Q,{to:"/support",className:"block text-sm text-muted-foreground hover:text-primary transition-colors py-2 px-2",children:N("header.support")}),a.jsx(Q,{to:"/quality",className:"block text-sm text-muted-foreground hover:text-primary transition-colors py-2 px-2",children:N("header.quality")}),a.jsx(Q,{to:"/dealers",className:"block text-sm text-muted-foreground hover:text-primary transition-colors py-2 px-2",children:N("header.dealers")})]})]})]})}),a.jsx(Qg,{open:t,onOpenChange:r}),a.jsx(ey,{isOpen:n,onClose:()=>i(!1),onSuccess:()=>{console.log("🎯 Header: Admin login success, navigating to admin page immediately"),R("/admin")}}),a.jsx(oy,{open:o,onOpenChange:l})]})}var dy="Separator",Fo="horizontal",uy=["horizontal","vertical"],dd=m.forwardRef((s,e)=>{const{decorative:t,orientation:r=Fo,...n}=s,i=hy(r)?r:Fo,l=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(ve.div,{"data-orientation":i,...l,...n,ref:e})});dd.displayName=dy;function hy(s){return uy.includes(s)}var ud=dd;const Ut=m.forwardRef(({className:s,orientation:e="horizontal",decorative:t=!0,...r},n)=>a.jsx(ud,{ref:n,decorative:t,orientation:e,className:z("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...r}));Ut.displayName=ud.displayName;function fy(){const{t:s}=Va(),[e,t]=m.useState([]),[r,n]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const d=(await(await fetch("/data/notices.json")).json()).sort((u,h)=>u.isPinned&&!h.isPinned?-1:!u.isPinned&&h.isPinned?1:new Date(h.createdAt).getTime()-new Date(u.createdAt).getTime());t(d.slice(0,2)),n(!1)}catch(l){console.error("Error loading notices:",l),n(!1)}})()},[]);const i=o=>new Date(o).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,".").replace(/\.$/,"");return a.jsx("footer",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold",children:s("footer.notice.title")}),a.jsx("div",{className:"space-y-4",children:r?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-4 border border-white/10 animate-pulse",children:[a.jsx("div",{className:"h-4 bg-white/10 rounded mb-2 w-3/4"}),a.jsx("div",{className:"h-3 bg-white/10 rounded mb-1 w-full"}),a.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-2/3"}),a.jsx("div",{className:"h-3 bg-white/10 rounded w-1/4"})]}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-4 border border-white/10 animate-pulse",children:[a.jsx("div",{className:"h-4 bg-white/10 rounded mb-2 w-3/4"}),a.jsx("div",{className:"h-3 bg-white/10 rounded mb-1 w-full"}),a.jsx("div",{className:"h-3 bg-white/10 rounded mb-3 w-2/3"}),a.jsx("div",{className:"h-3 bg-white/10 rounded w-1/4"})]})]}):e.length>0?e.map(o=>a.jsx(Q,{to:`/notices/${o.id}`,className:"block group",children:a.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-4 border border-white/10 group-hover:bg-white/10 group-hover:border-amber-400/30 transition-all duration-300",children:[a.jsx("h4",{className:"font-semibold text-amber-400 mb-2 group-hover:text-amber-300 transition-colors",children:o.title.length>30?`${o.title.substring(0,30)}...`:o.title}),a.jsxs("p",{className:"text-sm text-gray-300 leading-relaxed line-clamp-2",children:[o.content.replace(/\n/g," ").substring(0,80),"..."]}),a.jsxs("div",{className:"flex items-center mt-3 text-xs text-amber-400 group-hover:text-amber-300 transition-colors",children:[a.jsx("span",{children:i(o.createdAt)}),a.jsx(fs,{className:"h-3 w-3 ml-auto group-hover:translate-x-1 transition-transform"})]})]})},o.id)):a.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-4 border border-white/10",children:a.jsx("p",{className:"text-sm text-gray-400 text-center",children:s("footer.noNotices")})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold",children:s("footer.store.title")}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-4 border border-white/10",children:[a.jsx("h4",{className:"font-semibold text-amber-400 mb-3",children:s("footer.store.findDealer")}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-300",children:s("footer.store.seoul")}),a.jsx("span",{className:"text-xs bg-amber-400 text-slate-900 px-2 py-1 rounded-full",children:s("footer.store.open")})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-300",children:s("footer.store.busan")}),a.jsx("span",{className:"text-xs bg-amber-400 text-slate-900 px-2 py-1 rounded-full",children:s("footer.store.open")})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-300",children:s("footer.store.daegu")}),a.jsx("span",{className:"text-xs bg-gray-600 px-2 py-1 rounded-full",children:s("footer.store.closed")})]})]}),a.jsx(M,{asChild:!0,variant:"outline",size:"sm",className:"mt-4 w-full border-amber-400/50 text-amber-400 hover:bg-amber-400 hover:text-slate-900",children:a.jsxs(Q,{to:"/dealers",children:[s("footer.store.viewAll"),a.jsx(fs,{className:"h-3 w-3 ml-2"})]})})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold",children:s("footer.customerCenter.title")}),a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-4 border border-white/10",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-amber-400 mb-1",children:s("footer.customerCenter.phone")}),a.jsx("div",{className:"text-sm text-gray-300",children:s("footer.customerCenter.consultation")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-amber-400 font-medium",children:s("footer.customerCenter.weekday")}),a.jsx("div",{className:"text-gray-300",children:s("footer.customerCenter.weekdayTime")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-amber-400 font-medium",children:s("footer.customerCenter.saturday")}),a.jsx("div",{className:"text-gray-300",children:s("footer.customerCenter.saturdayTime")})]})]}),a.jsx(Ut,{className:"bg-white/10"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(M,{asChild:!0,size:"sm",className:"w-full bg-gradient-to-r from-amber-400 to-amber-500 hover:from-amber-500 hover:to-amber-600 text-slate-900",children:a.jsx(Q,{to:"/support",children:s("footer.customerCenter.onlineInquiry")})}),a.jsx(M,{asChild:!0,variant:"outline",size:"sm",className:"w-full border-amber-400/50 text-amber-400 hover:bg-amber-400 hover:text-slate-900",children:a.jsx(Q,{to:"/faq",children:s("footer.customerCenter.faq")})})]})]})})})]})]}),a.jsx(Ut,{className:"my-12 bg-white/10"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-amber-400 to-yellow-400 bg-clip-text text-transparent",children:s("footer.company")}),a.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:s("footer.companyDesc")}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gc,{className:"h-4 w-4 text-amber-400"}),a.jsx("span",{children:s("footer.address1")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hc,{className:"h-4 w-4 text-amber-400"}),a.jsx("span",{children:"info@koreancaster.co.kr"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-semibold text-amber-400",children:s("footer.quickLinks")}),a.jsxs("nav",{className:"grid grid-cols-2 gap-2",children:[a.jsx(Q,{to:"/about",className:"text-sm text-gray-300 hover:text-white transition-colors",children:s("footer.about")}),a.jsx(Q,{to:"/products",className:"text-sm text-gray-300 hover:text-white transition-colors",children:s("footer.catalog")}),a.jsx(Q,{to:"/support",className:"text-sm text-gray-300 hover:text-white transition-colors",children:s("footer.customerSupport")}),a.jsx(Q,{to:"/quality",className:"text-sm text-gray-300 hover:text-white transition-colors",children:s("footer.quality")}),a.jsx(Q,{to:"/products?category=agv-caster",className:"text-sm text-gray-300 hover:text-white transition-colors",children:s("nav.agv-caster")}),a.jsx(Q,{to:"/products?category=equipment-caster",className:"text-sm text-gray-300 hover:text-white transition-colors",children:s("nav.equipment-caster")})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-semibold text-amber-400",children:s("footer.certification.title")}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full"}),a.jsx("span",{children:s("footer.certification.iso")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full"}),a.jsx("span",{children:s("footer.certification.kc")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full"}),a.jsx("span",{children:s("footer.certification.warranty")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full"}),a.jsx("span",{children:s("footer.certification.service")})]})]})]})]}),a.jsx(Ut,{className:"my-8 bg-white/10"}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-sm text-gray-400",children:[a.jsx("div",{className:"mb-4 md:mb-0",children:a.jsx("p",{children:s("footer.copyright")})}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsx(Q,{to:"/privacy",className:"hover:text-white transition-colors",children:s("footer.privacy")}),a.jsx(Q,{to:"/terms",className:"hover:text-white transition-colors",children:s("footer.terms")})]})]})]})})}function my(){const{pathname:s}=yi();return m.useEffect(()=>{setTimeout(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},0),console.log("⬆️ ScrollToTop - Navigated to:",s)},[s]),null}class py extends m.Component{constructor(){super(...arguments);Gs(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,r){console.error("🚨 ErrorBoundary caught an error:",t,r),console.error("🚨 Error stack:",t.stack),console.error("🚨 Component stack:",r.componentStack),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?a.jsx("div",{className:"container mx-auto px-4 py-16",children:a.jsxs("div",{className:"max-w-md mx-auto text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"앗! 문제가 발생했습니다"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"페이지를 로드하는 중 오류가 발생했습니다."}),!1,a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx(M,{onClick:()=>window.location.reload(),children:"페이지 새로고침"}),a.jsx(M,{variant:"outline",onClick:()=>window.location.href="/",children:"홈으로 이동"})]})]})}):this.props.children}}const gy=aa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _t({className:s,variant:e,...t}){return a.jsx("div",{className:z(gy({variant:e}),s),...t})}function Jn(s,[e,t]){return Math.min(t,Math.max(e,s))}function yy(s,e){return m.useReducer((t,r)=>e[t][r]??t,s)}var Ii="ScrollArea",[hd,Kb]=ea(Ii),[xy,dt]=hd(Ii),fd=m.forwardRef((s,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:n,scrollHideDelay:i=600,...o}=s,[l,c]=m.useState(null),[d,u]=m.useState(null),[h,f]=m.useState(null),[p,y]=m.useState(null),[g,x]=m.useState(null),[_,w]=m.useState(0),[v,S]=m.useState(0),[A,N]=m.useState(!1),[R,Y]=m.useState(!1),$=Me(e,K=>c(K)),E=mi(n);return a.jsx(xy,{scope:t,type:r,dir:E,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:A,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:R,onScrollbarYEnabledChange:Y,onCornerWidthChange:w,onCornerHeightChange:S,children:a.jsx(ve.div,{dir:E,...o,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":v+"px",...s.style}})})});fd.displayName=Ii;var md="ScrollAreaViewport",pd=m.forwardRef((s,e)=>{const{__scopeScrollArea:t,children:r,nonce:n,...i}=s,o=dt(md,t),l=m.useRef(null),c=Me(e,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(ve.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...s.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});pd.displayName=md;var Et="ScrollAreaScrollbar",Oi=m.forwardRef((s,e)=>{const{forceMount:t,...r}=s,n=dt(Et,s.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l=s.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),n.type==="hover"?a.jsx(vy,{...r,ref:e,forceMount:t}):n.type==="scroll"?a.jsx(by,{...r,ref:e,forceMount:t}):n.type==="auto"?a.jsx(gd,{...r,ref:e,forceMount:t}):n.type==="always"?a.jsx(Mi,{...r,ref:e}):null});Oi.displayName=Et;var vy=m.forwardRef((s,e)=>{const{forceMount:t,...r}=s,n=dt(Et,s.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const l=n.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),a.jsx(_r,{present:t||i,children:a.jsx(gd,{"data-state":i?"visible":"hidden",...r,ref:e})})}),by=m.forwardRef((s,e)=>{const{forceMount:t,...r}=s,n=dt(Et,s.__scopeScrollArea),i=s.orientation==="horizontal",o=en(()=>c("SCROLL_END"),100),[l,c]=yy("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,n.scrollHideDelay,c]),m.useEffect(()=>{const d=n.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const p=d[u];h!==p&&(c("SCROLL"),o()),h=p};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[n.viewport,i,c,o]),a.jsx(_r,{present:t||l!=="hidden",children:a.jsx(Mi,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:xe(s.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:xe(s.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),gd=m.forwardRef((s,e)=>{const t=dt(Et,s.__scopeScrollArea),{forceMount:r,...n}=s,[i,o]=m.useState(!1),l=s.orientation==="horizontal",c=en(()=>{if(t.viewport){const d=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;o(l?d:u)}},10);return yr(t.viewport,c),yr(t.content,c),a.jsx(_r,{present:r||i,children:a.jsx(Mi,{"data-state":i?"visible":"hidden",...n,ref:e})})}),Mi=m.forwardRef((s,e)=>{const{orientation:t="vertical",...r}=s,n=dt(Et,s.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=wd(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,p){return Sy(f,o.current,l,p)}return t==="horizontal"?a.jsx(wy,{...u,ref:e,onThumbPositionChange:()=>{if(n.viewport&&i.current){const f=n.viewport.scrollLeft,p=Uo(f,l,n.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollLeft=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollLeft=h(f,n.dir))}}):t==="vertical"?a.jsx(_y,{...u,ref:e,onThumbPositionChange:()=>{if(n.viewport&&i.current){const f=n.viewport.scrollTop,p=Uo(f,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollTop=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollTop=h(f))}}):null}),wy=m.forwardRef((s,e)=>{const{sizes:t,onSizesChange:r,...n}=s,i=dt(Et,s.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=Me(e,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(xd,{"data-orientation":"horizontal",...n,ref:d,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Xa(t)+"px",...s.style},onThumbPointerDown:u=>s.onThumbPointerDown(u.x),onDragScroll:u=>s.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;s.onWheelScroll(f),jd(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Sa(o.paddingLeft),paddingEnd:Sa(o.paddingRight)}})}})}),_y=m.forwardRef((s,e)=>{const{sizes:t,onSizesChange:r,...n}=s,i=dt(Et,s.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=Me(e,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(xd,{"data-orientation":"vertical",...n,ref:d,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Xa(t)+"px",...s.style},onThumbPointerDown:u=>s.onThumbPointerDown(u.y),onDragScroll:u=>s.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;s.onWheelScroll(f),jd(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Sa(o.paddingTop),paddingEnd:Sa(o.paddingBottom)}})}})}),[jy,yd]=hd(Et),xd=m.forwardRef((s,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=s,p=dt(Et,t),[y,g]=m.useState(null),x=Me(e,$=>g($)),_=m.useRef(null),w=m.useRef(""),v=p.viewport,S=r.content-r.viewport,A=es(u),N=es(c),R=en(h,10);function Y($){if(_.current){const E=$.clientX-_.current.left,K=$.clientY-_.current.top;d({x:E,y:K})}}return m.useEffect(()=>{const $=E=>{const K=E.target;(y==null?void 0:y.contains(K))&&A(E,S)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[v,y,S,A]),m.useEffect(N,[r,N]),yr(y,R),yr(p.content,R),a.jsx(jy,{scope:t,scrollbar:y,hasThumb:n,onThumbChange:es(i),onThumbPointerUp:es(o),onThumbPositionChange:N,onThumbPointerDown:es(l),children:a.jsx(ve.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:xe(s.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),_.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),Y($))}),onPointerMove:xe(s.onPointerMove,Y),onPointerUp:xe(s.onPointerUp,$=>{const E=$.target;E.hasPointerCapture($.pointerId)&&E.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),_.current=null})})})}),ka="ScrollAreaThumb",vd=m.forwardRef((s,e)=>{const{forceMount:t,...r}=s,n=yd(ka,s.__scopeScrollArea);return a.jsx(_r,{present:t||n.hasThumb,children:a.jsx(Ny,{ref:e,...r})})}),Ny=m.forwardRef((s,e)=>{const{__scopeScrollArea:t,style:r,...n}=s,i=dt(ka,t),o=yd(ka,t),{onThumbPositionChange:l}=o,c=Me(e,h=>o.onThumbChange(h)),d=m.useRef(void 0),u=en(()=>{d.current&&(d.current(),d.current=void 0)},100);return m.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(u(),!d.current){const p=Cy(h,l);d.current=p,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,u,l]),a.jsx(ve.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:xe(s.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),y=h.clientX-p.left,g=h.clientY-p.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:xe(s.onPointerUp,o.onThumbPointerUp)})});vd.displayName=ka;var Di="ScrollAreaCorner",bd=m.forwardRef((s,e)=>{const t=dt(Di,s.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?a.jsx(ky,{...s,ref:e}):null});bd.displayName=Di;var ky=m.forwardRef((s,e)=>{const{__scopeScrollArea:t,...r}=s,n=dt(Di,t),[i,o]=m.useState(0),[l,c]=m.useState(0),d=!!(i&&l);return yr(n.scrollbarX,()=>{var h;const u=((h=n.scrollbarX)==null?void 0:h.offsetHeight)||0;n.onCornerHeightChange(u),c(u)}),yr(n.scrollbarY,()=>{var h;const u=((h=n.scrollbarY)==null?void 0:h.offsetWidth)||0;n.onCornerWidthChange(u),o(u)}),d?a.jsx(ve.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...s.style}}):null});function Sa(s){return s?parseInt(s,10):0}function wd(s,e){const t=s/e;return isNaN(t)?0:t}function Xa(s){const e=wd(s.viewport,s.content),t=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,r=(s.scrollbar.size-t)*e;return Math.max(r,18)}function Sy(s,e,t,r="ltr"){const n=Xa(t),i=n/2,o=e||i,l=n-o,c=t.scrollbar.paddingStart+o,d=t.scrollbar.size-t.scrollbar.paddingEnd-l,u=t.content-t.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return _d([c,d],h)(s)}function Uo(s,e,t="ltr"){const r=Xa(e),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-n,o=e.content-e.viewport,l=i-r,c=t==="ltr"?[0,o]:[o*-1,0],d=Jn(s,c);return _d([0,o],[0,l])(d)}function _d(s,e){return t=>{if(s[0]===s[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(s[1]-s[0]);return e[0]+r*(t-s[0])}}function jd(s,e){return s>0&&s<e}var Cy=(s,e=()=>{})=>{let t={left:s.scrollLeft,top:s.scrollTop},r=0;return function n(){const i={left:s.scrollLeft,top:s.scrollTop},o=t.left!==i.left,l=t.top!==i.top;(o||l)&&e(),t=i,r=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(r)};function en(s,e){const t=es(s),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function yr(s,e){const t=es(e);Vt(()=>{let r=0;if(s){const n=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return n.observe(s),()=>{window.cancelAnimationFrame(r),n.unobserve(s)}}},[s,t])}var Nd=fd,Ay=pd,Ey=bd;const Li=m.forwardRef(({className:s,children:e,...t},r)=>a.jsxs(Nd,{ref:r,className:z("relative overflow-hidden",s),...t,children:[a.jsx(Ay,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(kd,{}),a.jsx(Ey,{})]}));Li.displayName=Nd.displayName;const kd=m.forwardRef(({className:s,orientation:e="vertical",...t},r)=>a.jsx(Oi,{ref:r,orientation:e,className:z("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...t,children:a.jsx(vd,{className:"relative flex-1 rounded-full bg-border"})}));kd.displayName=Oi.displayName;const Py=()=>(console.log("🔑 하드코딩된 API 키 사용 (프로덕션용)"),"AIzaSyD8AQziB3NYBRGP62PLrrZv4UFYhNv72OM"),Sn=Py();function Ty({isOpen:s,onClose:e,currentProduct:t}){const[r,n]=m.useState([{id:"1",content:"안녕하세요! JPCaster AI 고객지원입니다. 캐스터 제품에 대한 문의나 기술 상담을 도와드리겠습니다. 어떤 도움이 필요하신가요?",isUser:!1,timestamp:new Date}]),[i,o]=m.useState(""),[l,c]=m.useState(!1),[d,u]=m.useState(!1),h=m.useRef(null),f=m.useRef(null);m.useEffect(()=>{if(h.current){const v=h.current.querySelector("[data-radix-scroll-area-viewport]");v&&(v.scrollTop=v.scrollHeight)}},[r]),m.useEffect(()=>{s&&!d&&f.current&&setTimeout(()=>{var v;return(v=f.current)==null?void 0:v.focus()},100)},[s,d]);const p=()=>{let v=`
당신은 JPCaster의 전문 AI 고객지원 담당자입니다. 다음 역할을 수행해주세요:

1. 캐스터 제품에 대한 전문적인 기술 상담
2. 제품 추천 및 선택 가이드
3. 설치 및 유지보수 안내
4. 가격 및 주문 문의 처리
5. 친근하고 전문적인 톤으로 응답

회사 정보:
- JPCaster는 산업용 캐스터 전문 제조업체입니다
- 주요 제품: AGV 캐스터, 산업용 캐스터, 폴리우레탄 휠, 러버 휠, 구동 모듈
- 특징: 고품질, 내구성, 정밀 제어, 안전성

응답 가이드라인:
- 간결하고 명확하게 답변
- 기술적 질문에는 전문적으로, 일반 질문에는 친근하게
- 필요시 관련 제품 추천
- 복잡한 문의는 전문 상담사 연결 안내
- 한국어로 응답

`;return t&&(v+=`
현재 고객이 보고 있는 제품:
- 제품명: ${t.name}
- 카테고리: ${t.category}
- 설명: ${t.description}
- 가격: ${t.price.toLocaleString()}원

이 제품과 관련된 질문이 들어오면 해당 제품을 중심으로 답변해주세요.
`),v},y=async v=>{if(!Sn)return console.error("❌ Gemini API 키가 없습니다."),"죄송합니다. AI 챗봇 서비스 설정에 문제가 있습니다. 관리자에게 문의해주세요. (API 키 미설정)";console.log("🤖 Gemini API 호출 시작... 키:",Sn.substring(0,10)+"...");try{const S=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${Sn}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:p()+`

사용자 질문: `+v}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!S.ok)throw new Error(`Gemini API Error: ${S.status}`);const A=await S.json();if(A.candidates&&A.candidates[0]&&A.candidates[0].content)return A.candidates[0].content.parts[0].text;throw new Error("Invalid response format from Gemini API")}catch(S){return console.error("Gemini API Error:",S),"죄송합니다. 일시적인 오류가 발생했습니다. 잠시 후 다시 시도해주세요. 급한 문의사항은 고객센터(1588-1234)로 연락해주세요."}},g=async()=>{if(!i.trim()||l)return;const v=i.trim();o(""),c(!0);const S={id:Date.now().toString(),content:v,isUser:!0,timestamp:new Date};n(N=>[...N,S]);const A={id:"typing",content:"",isUser:!1,timestamp:new Date,typing:!0};n(N=>[...N,A]);try{const N=await y(v);n(R=>R.filter(Y=>Y.id!=="typing").concat({id:(Date.now()+1).toString(),content:N,isUser:!1,timestamp:new Date})),setTimeout(()=>{f.current&&f.current.focus()},100)}catch(N){console.error("Error sending message:",N),n(R=>R.filter(Y=>Y.id!=="typing").concat({id:(Date.now()+1).toString(),content:"죄송합니다. 메시지 전송 중 오류가 발생했습니다. 다시 시도해주세요.",isUser:!1,timestamp:new Date})),setTimeout(()=>{f.current&&f.current.focus()},100),O({title:"메시지 전송 실패",description:"일시적인 오류가 발생했습니다. 다시 시도해주세요.",variant:"destructive"})}finally{c(!1)}},x=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),g())},_=()=>{n([{id:"1",content:"안녕하세요! JPCaster AI 고객지원입니다. 캐스터 제품에 대한 문의나 기술 상담을 도와드리겠습니다. 어떤 도움이 필요하신가요?",isUser:!1,timestamp:new Date}]),O({title:"대화 내역 삭제",description:"새로운 대화를 시작합니다."})},w=v=>v.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return d?a.jsxs("div",{className:"fixed bottom-6 right-6 z-40",children:[a.jsx(M,{onClick:()=>u(!1),className:"h-14 w-14 rounded-full bg-amber-500 hover:bg-amber-600 shadow-lg",size:"icon",children:a.jsx(Qa,{className:"h-6 w-6 text-white"})}),a.jsx(_t,{variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 p-0 flex items-center justify-center text-xs",children:r.filter(v=>!v.isUser).length})]}):a.jsx(Ya,{open:s,onOpenChange:e,children:a.jsxs(na,{className:"sm:max-w-md h-[600px] p-0 flex flex-col [&>button]:hidden",children:[a.jsx(ia,{className:"flex-shrink-0 px-4 py-3 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 bg-amber-500 rounded-full flex items-center justify-center",children:a.jsx(Kn,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{children:[a.jsx(oa,{className:"text-base",children:"JPCaster AI 지원"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"온라인 상태"})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:_,title:"대화 내역 삭제",children:a.jsx(zr,{className:"h-4 w-4"})}),a.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>u(!0),children:a.jsx(Mg,{className:"h-4 w-4"})}),a.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e,children:a.jsx(Cr,{className:"h-4 w-4"})})]})]})}),t&&a.jsx("div",{className:"flex-shrink-0 px-4 py-2 bg-amber-50 border-b",children:a.jsxs("div",{className:"text-xs text-amber-700",children:[a.jsx("span",{className:"font-medium",children:"현재 제품:"})," ",t.name]})}),a.jsx(Li,{className:"flex-1 px-4",ref:h,children:a.jsx("div",{className:"space-y-4 py-4",children:r.map(v=>a.jsx("div",{className:`flex ${v.isUser?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`flex gap-2 max-w-[80%] ${v.isUser?"flex-row-reverse":"flex-row"}`,children:[a.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center flex-shrink-0 ${v.isUser?"bg-blue-500":"bg-amber-500"}`,children:v.isUser?a.jsx(xa,{className:"h-4 w-4 text-white"}):a.jsx(Kn,{className:"h-4 w-4 text-white"})}),a.jsx("div",{className:`rounded-lg px-3 py-2 ${v.isUser?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:v.typing?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),a.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"입력 중..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:v.content}),a.jsx("p",{className:`text-xs mt-1 ${v.isUser?"text-blue-100":"text-gray-500"}`,children:w(v.timestamp)})]})})]})},v.id))})}),a.jsxs("div",{className:"flex-shrink-0 p-4 border-t",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(fe,{ref:f,value:i,onChange:v=>o(v.target.value),onKeyPress:x,placeholder:"메시지를 입력하세요...",disabled:l,className:"flex-1"}),a.jsx(M,{onClick:g,disabled:!i.trim()||l,size:"icon",className:"bg-amber-500 hover:bg-amber-600",children:a.jsx($g,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"AI가 생성한 응답입니다. 정확한 정보는 고객센터로 문의해주세요."})]})]})})}function Sd(s){const{products:e,loading:t,error:r}=Si(),n=m.useMemo(()=>!s||!e.length?null:e.find(o=>o.slug===s),[e,s]);return{data:n,isLoading:t,error:r||(!t&&!n?"Product not found":null),refetch:()=>{}}}function Ry(){const[s,e]=m.useState(!1),[t,r]=m.useState(!1),[n,i]=m.useState(!1),[o,l]=m.useState(),c=yi(),d=c.pathname.startsWith("/products/")&&c.pathname!=="/products",u=d?c.pathname.split("/products/")[1]:"",{data:h}=Sd(u||"");m.useEffect(()=>{var p;l(h&&d?{name:h.name,category:((p=h.category)==null?void 0:p.name)||"캐스터",description:h.description,price:h.price}:void 0)},[h,d]),m.useEffect(()=>{s&&r(!1)},[s]),m.useEffect(()=>{const p=setTimeout(()=>{i(!0)},100);return()=>clearTimeout(p)},[]);const f=()=>{e(!s),s||r(!1)};return n?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"fixed bottom-6 right-6 z-40",children:[a.jsx(M,{onClick:f,className:`
            h-14 w-14 rounded-full shadow-lg transition-all duration-300 hover:scale-110
            ${s?"bg-gray-500 hover:bg-gray-600":"bg-amber-500 hover:bg-amber-600"}
            ${t?"animate-pulse":""}
          `,size:"icon",style:{opacity:n?1:0,transition:"opacity 0.3s ease-out"},children:s?a.jsx(Cr,{className:"h-6 w-6 text-white"}):a.jsx(Qa,{className:"h-6 w-6 text-white"})}),t&&!s&&a.jsx(_t,{variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 p-0 flex items-center justify-center text-xs animate-bounce",children:a.jsx(Ug,{className:"h-3 w-3"})}),!s&&a.jsx("div",{className:"absolute bottom-full right-0 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.jsxs("div",{className:"bg-gray-900 text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap",children:["AI 상담 문의하기",a.jsx("div",{className:"absolute top-full right-4 -mt-1",children:a.jsx("div",{className:"border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})})]})})]}),a.jsx(Ty,{isOpen:s,onClose:()=>e(!1),currentProduct:o})]}):null}const Iy="/assets/hero-main-CEuUtG0R.jpg",Oy="/assets/hero-agv-De-d3K2u.jpg",My="/assets/hero-mecanum-HiW4vg0k.jpg",Dy="/assets/hero-custom-FUauRVZu.jpg",Ly="/assets/hero-quality-hCP1R5Ak.jpg",$y=s=>[{titleKey:"hero.agv.title",subtitleKey:"hero.agv.subtitle",descriptionKey:"hero.agv.description",image:Oy,ctaKey:"hero.agv.cta",link:"/categories/agv-casters"},{titleKey:"hero.mecanum.title",subtitleKey:"hero.mecanum.subtitle",descriptionKey:"hero.mecanum.description",image:My,ctaKey:"hero.mecanum.cta",link:"/categories/mecanum-wheels"},{titleKey:"hero.custom.title",subtitleKey:"hero.custom.subtitle",descriptionKey:"hero.custom.description",image:Dy,ctaKey:"hero.custom.cta",link:"/support"},{titleKey:"hero.quality.title",subtitleKey:"hero.quality.subtitle",descriptionKey:"hero.quality.description",image:Ly,ctaKey:"hero.quality.cta",link:"/quality"},{titleKey:"hero.main.title",subtitleKey:"hero.main.subtitle",descriptionKey:"hero.main.description",image:Iy,ctaKey:"hero.main.cta",link:"/products"}],Fy=()=>{const{t:s}=Va(),[e,t]=m.useState(0),r=$y();m.useEffect(()=>{const o=setInterval(()=>{t(l=>(l+1)%r.length)},6e3);return()=>clearInterval(o)},[]);const n=()=>t(o=>(o+1)%r.length),i=()=>t(o=>(o-1+r.length)%r.length);return a.jsxs("section",{className:"relative h-[600px] overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-700",children:[r.map((o,l)=>a.jsxs("div",{className:`absolute inset-0 transition-all duration-1000 ease-in-out ${l===e?"opacity-100 translate-x-0":"opacity-0 translate-x-full"}`,children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("img",{src:o.image,alt:"Industrial Background",className:"w-full h-full object-cover opacity-20"}),a.jsx("div",{className:"absolute inset-0 bg-black/60"})]}),a.jsx("div",{className:"container mx-auto px-4 h-full relative z-10",children:a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 h-full items-center",children:a.jsxs("div",{className:"text-white space-y-6 animate-fade-in-up",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-4 leading-tight",children:s(o.titleKey)}),a.jsx("h2",{className:"text-xl md:text-2xl text-amber-400 font-semibold mb-6",children:s(o.subtitleKey)})]}),a.jsx("p",{className:"text-lg md:text-xl text-slate-200 leading-relaxed max-w-lg",children:s(o.descriptionKey)}),a.jsx("div",{className:"pt-4",children:a.jsx(M,{asChild:!0,size:"lg",className:"bg-amber-400 hover:bg-amber-500 text-slate-900 text-lg font-semibold px-8 py-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",children:a.jsxs(Q,{to:o.link,children:[a.jsx(fs,{className:"mr-2 h-5 w-5"}),s(o.ctaKey)]})})})]})})})]},l)),a.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center z-20",children:a.jsx(M,{variant:"ghost",size:"sm",onClick:i,className:"h-12 w-12 rounded-full bg-black/20 backdrop-blur-sm hover:bg-black/40 text-white border border-white/20",children:a.jsx(zc,{className:"h-6 w-6"})})}),a.jsx("div",{className:"absolute inset-y-0 right-4 flex items-center z-20",children:a.jsx(M,{variant:"ghost",size:"sm",onClick:n,className:"h-12 w-12 rounded-full bg-black/20 backdrop-blur-sm hover:bg-black/40 text-white border border-white/20",children:a.jsx(Ei,{className:"h-6 w-6"})})}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-3 z-20",children:r.map((o,l)=>a.jsx("button",{onClick:()=>t(l),className:`w-3 h-3 rounded-full transition-all duration-300 ${l===e?"bg-amber-400":"bg-white/50"}`},l))})]})},Ae=m.forwardRef(({className:s,...e},t)=>a.jsx("div",{ref:t,className:z("rounded-lg border bg-card text-card-foreground shadow-sm",s),...e}));Ae.displayName="Card";const lt=m.forwardRef(({className:s,...e},t)=>a.jsx("div",{ref:t,className:z("flex flex-col space-y-1.5 p-6",s),...e}));lt.displayName="CardHeader";const wt=m.forwardRef(({className:s,...e},t)=>a.jsx("h3",{ref:t,className:z("text-2xl font-semibold leading-none tracking-tight",s),...e}));wt.displayName="CardTitle";const $i=m.forwardRef(({className:s,...e},t)=>a.jsx("p",{ref:t,className:z("text-sm text-muted-foreground",s),...e}));$i.displayName="CardDescription";const Ee=m.forwardRef(({className:s,...e},t)=>a.jsx("div",{ref:t,className:z("p-6 pt-0",s),...e}));Ee.displayName="CardContent";const Uy=m.forwardRef(({className:s,...e},t)=>a.jsx("div",{ref:t,className:z("flex items-center p-6 pt-0",s),...e}));Uy.displayName="CardFooter";function Cd({categorySlug:s,searchTerm:e,page:t=1,limit:r=12}={}){const n=Si(),i=m.useMemo(()=>{let c=[...n.products];return s&&(c=n.getProductsByCategory(s)),e&&(c=n.searchProducts(e)),c},[n,s,e]);return{data:{data:m.useMemo(()=>{const c=(t-1)*r,d=c+r;return i.slice(c,d)},[i,t,r]),count:i.length,hasMore:i.length>t*r},isLoading:n.loading,error:n.error}}function Fi(){const s=Si();return{data:s.categories,isLoading:s.loading,error:s.error}}const cs=s=>{if(!s||s.trim()==="")return console.log("⚠️ Empty image path, using placeholder"),"/images/placeholder.svg";if(s.startsWith("http://")||s.startsWith("https://"))return console.log("✅ Full URL found:",s),s;if(s.startsWith("/lovable-uploads/"))return console.log("✅ Lovable upload path found:",s),s;if(s.startsWith("/images/"))return console.log("✅ Local image path found:",s),s;if(s.startsWith("images/")){const e=`/${s}`;return console.log("✅ Relative path corrected:",e),e}if(!s.includes("/")){const e=`/images/${s}`;return console.log("✅ Filename only, path corrected to:",e),e}return console.log("✅ Using original path:",s),s},qy=()=>{const[s,e]=m.useState([]),{data:t,isLoading:r}=Cd(),{toast:n}=lc();ys();const{addItem:i}=xs(),o=m.useMemo(()=>(t==null?void 0:t.data)||[],[t==null?void 0:t.data]);m.useEffect(()=>{if(o.length>0){const c=o.filter(d=>!(!(d!=null&&d.name)||!(d!=null&&d.id)||!(d!=null&&d.slug))).slice(0,5);e(c)}},[o]);const l=async c=>{try{i({id:c.id,name:c.name,price:c.price,image:cs(c.main_image_url),slug:c.slug,product_id:c.id,quantity:1}),n({title:"추가 완료",description:"장바구니에 추가되었습니다."})}catch{n({title:"오류",description:"장바구니 추가 중 오류가 발생했습니다.",variant:"destructive"})}};return r?a.jsx("section",{className:"py-20 bg-background",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl font-black text-foreground mb-4",children:"Featured Products"}),a.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Discover our most popular premium casters and wheels"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-12",children:[...Array(5)].map((c,d)=>a.jsx(Ae,{className:"bg-card",children:a.jsxs(Ee,{className:"p-0",children:[a.jsx("div",{className:"aspect-square bg-muted animate-pulse"}),a.jsxs("div",{className:"p-4 space-y-2",children:[a.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-muted rounded w-2/3 animate-pulse"})]})]})},d))})]})}):a.jsx("section",{className:"py-20 bg-gray-50",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-4",children:"인기 제품"}),a.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"가장 인기 있는 프리미엄 캐스터와 휠을 만나보세요"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-12",children:s.map((c,d)=>{var u;return!c||!c.name||!c.id?null:a.jsx(Ae,{className:"group bg-white border-2 hover:border-yellow-400/50 transition-all duration-300 hover:shadow-xl overflow-hidden",children:a.jsxs(Ee,{className:"p-0",children:[a.jsxs("div",{className:"relative aspect-square bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[a.jsx("img",{src:cs(c.main_image_url),alt:c.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),a.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[d<3&&a.jsx(_t,{className:"bg-red-500 text-white border-0 px-2 py-1 text-xs",children:"BEST"}),a.jsx(_t,{variant:"secondary",className:"bg-yellow-400 text-gray-900 border-0 px-2 py-1 text-xs font-bold",children:((u=c.category)==null?void 0:u.name)||"캐스터"})]}),a.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:a.jsx(Q,{to:`/products/${c.slug}`,children:a.jsxs(M,{className:"bg-yellow-400 text-gray-900 hover:bg-yellow-500 font-bold",children:[a.jsx(pr,{className:"w-4 h-4 mr-2"}),"상세보기"]})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((h,f)=>a.jsx(gr,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},f)),a.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(24)"})]}),(c.stock_quantity||0)<=5&&(c.stock_quantity||0)>0&&a.jsx(_t,{variant:"destructive",className:"text-xs",children:"재고부족"})]}),a.jsx(Q,{to:`/products/${c.slug}`,children:a.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-yellow-600 transition-colors",children:c.name})}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:c.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-xl font-black text-yellow-600",children:["₩",c.price.toLocaleString()]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["재고: ",c.stock_quantity||0,"개"]})]}),a.jsx(M,{onClick:()=>l(c),variant:"outline",size:"sm",className:"border-yellow-400/30 hover:bg-yellow-400 hover:text-gray-900",disabled:(c.stock_quantity||0)===0,children:"담기"})]})]})]})},c.id)})}),a.jsx("div",{className:"text-center",children:a.jsx(Q,{to:"/products",children:a.jsxs(M,{size:"lg",className:"bg-yellow-400 text-gray-900 hover:bg-yellow-500 font-black px-8 py-3 text-lg",children:["전체 제품 보기",a.jsx(fs,{className:"w-5 h-5 ml-2"})]})})})]})})};function We({className:s,...e}){return a.jsx("div",{className:z("animate-pulse rounded-md bg-muted",s),...e})}const Vy=()=>{const[s,e]=m.useState([]),[t,r]=m.useState(!0);return Fi(),m.useEffect(()=>{(async()=>{try{const[i,o]=await Promise.all([fetch("/data/categories.json"),fetch("/data/products.json")]),l=await i.json(),d=(await o.json()).reduce((f,p)=>(f[p.category_id]=(f[p.category_id]||0)+1,f),{}),u={cat_agv:{icon:Kn,color:"text-blue-600",bgColor:"bg-blue-100",image:"/images/ABUIABACGAAgiO7CoQYooebvrAYwoAY4oAY.jpg"},cat_industrial:{icon:Pg,color:"text-gray-600",bgColor:"bg-gray-100",image:"/images/ABUIABACGAAg0rLUswYotNOjtgYwoAY4oAY.jpg"},cat_heavy_duty:{icon:Eg,color:"text-red-600",bgColor:"bg-red-100",image:"/images/ABUIABACGAAg277EoQYo0srl7gQwoAY4oAY.jpg"},cat_polyurethane:{icon:Cg,color:"text-purple-600",bgColor:"bg-purple-100",image:"/images/ABUIABACGAAg0LHIoQYo8PKWiAQwoAY4oAY.jpg"},cat_rubber:{icon:Sg,color:"text-green-600",bgColor:"bg-green-100",image:"/images/ABUIABACGAAg7L7IoQYoiJS5cDCgBjigBg.jpg"},cat_mecanum:{icon:Lg,color:"text-orange-600",bgColor:"bg-orange-100",image:"/images/ABUIABACGAAg3PifvgYo35jC6wEwoAY4oAY.jpg"},cat_drive_module:{icon:vg,color:"text-yellow-600",bgColor:"bg-yellow-100",image:"/images/ABUIABACGAAgktLTqQYoyO_QrQMwoAY4oAY.jpg"}},h=l.map(f=>{var p,y,g,x;return{id:f.id,name:f.name,slug:f.slug,description:f.description,icon:((p=u[f.id])==null?void 0:p.icon)||Qc,color:((y=u[f.id])==null?void 0:y.color)||"text-gray-600",bgColor:((g=u[f.id])==null?void 0:g.bgColor)||"bg-gray-100",product_count:d[f.id]||0,image:((x=u[f.id])==null?void 0:x.image)||"/images/placeholder.svg"}});e(h),r(!1)}catch(i){console.error("Error loading categories:",i),r(!1)}})()},[]),a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6 animate-fade-in-up",children:"제품 카테고리"}),a.jsx("p",{className:"text-gray-600 text-xl max-w-3xl mx-auto leading-relaxed animate-fade-in-up",children:"산업용 캐스터와 휠의 전문 제조업체로서 다양한 분야에 최적화된 고품질 제품을 제공합니다"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t?[...Array(5)].map((n,i)=>a.jsx(Ae,{className:"border-0 bg-card overflow-hidden shadow-lg",children:a.jsx(Ee,{className:"p-8",children:a.jsx(We,{className:"h-48 w-full rounded-lg animate-pulse"})})},i)):s.map((n,i)=>(n.icon,a.jsx(Q,{to:`/categories/${n.slug}`,children:a.jsx(Ae,{className:"group cursor-pointer border-0 bg-white shadow-lg hover:shadow-2xl overflow-hidden transition-all duration-300 hover:scale-105",style:{animationDelay:`${i*.1}s`},children:a.jsxs(Ee,{className:"p-8 relative",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 opacity-10 overflow-hidden",children:a.jsx("img",{src:n.image,alt:"",className:"w-full h-full object-cover transform rotate-12 scale-150",onError:o=>{o.currentTarget.src="/images/placeholder.svg"}})}),a.jsx("div",{className:"relative z-10",children:a.jsxs("div",{className:"flex items-start space-x-5",children:[a.jsx("div",{className:`p-2 rounded-2xl ${n.bgColor} group-hover:scale-110 transition-transform duration-300 shadow-lg overflow-hidden`,children:a.jsx("img",{src:n.image,alt:n.name,className:"h-12 w-12 object-cover rounded-lg",onError:o=>{o.currentTarget.src="/images/placeholder.svg"}})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-amber-600 transition-colors",children:n.name}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 leading-relaxed",children:n.description}),a.jsxs("div",{className:"bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-sm font-semibold inline-block mb-4",children:[n.product_count," Products"]}),a.jsxs(M,{variant:"ghost",size:"sm",className:"group-hover:bg-amber-400 group-hover:text-slate-900 transition-all duration-300 p-3 h-auto rounded-full font-medium",children:["제품 보기",a.jsx(fs,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})]})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400/5 to-orange-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg"})]})})},n.id)))}),a.jsx("div",{className:"text-center mt-16",children:a.jsx(Q,{to:"/products",children:a.jsxs(M,{size:"lg",className:"bg-amber-400 hover:bg-amber-500 text-slate-900 text-lg px-8 py-4 rounded-full transition-all duration-300 shadow-lg hover:shadow-xl",children:["전체 제품 둘러보기",a.jsx(fs,{className:"ml-2 h-5 w-5"})]})})})]})})},By=()=>{const[s,e]=m.useState([]),[t,r]=m.useState(!0),n=zt();m.useEffect(()=>{(async()=>{try{const u=(await(await fetch("/data/notices.json")).json()).sort((h,f)=>h.isPinned&&!f.isPinned?-1:!h.isPinned&&f.isPinned?1:new Date(f.createdAt).getTime()-new Date(h.createdAt).getTime());e(u.slice(0,4)),r(!1)}catch(c){console.error("Error loading notices:",c),r(!1)}})()},[]);const i=l=>new Date(l).toLocaleDateString("ko-KR",{month:"short",day:"numeric"}),o=l=>({제품:"bg-blue-100 text-blue-800",공지:"bg-red-100 text-red-800",사업:"bg-green-100 text-green-800",시스템:"bg-purple-100 text-purple-800",인증:"bg-slate-100 text-slate-800",기술:"bg-indigo-100 text-indigo-800",행사:"bg-pink-100 text-pink-800"})[l]||"bg-gray-100 text-gray-800";return a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"mb-4",children:a.jsx("h2",{className:"text-4xl font-bold text-gray-900",children:"NOTICE"})}),a.jsx("p",{className:"text-gray-600 text-xl max-w-2xl mx-auto",children:"JP CASTER의 최신 소식과 중요한 공지사항을 확인하세요"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:t?[...Array(4)].map((l,c)=>a.jsx(Ae,{className:"border-0 shadow-lg",children:a.jsxs(Ee,{className:"p-6",children:[a.jsx(We,{className:"h-32 w-full mb-4 rounded-lg"}),a.jsx(We,{className:"h-5 w-3/4 mb-2"}),a.jsx(We,{className:"h-4 w-full mb-2"}),a.jsx(We,{className:"h-4 w-1/2"})]})},c)):s.map((l,c)=>a.jsx(Ae,{className:"group cursor-pointer border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 bg-white",style:{animationDelay:`${c*.1}s`},onClick:()=>n(`/notices/${l.id}`),children:a.jsxs(Ee,{className:"p-6",children:[a.jsxs("div",{className:"relative mb-4",children:[l.thumbnail?a.jsx("div",{className:"w-full h-32 rounded-lg overflow-hidden bg-gray-100",children:a.jsx("img",{src:l.thumbnail,alt:"",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:d=>{d.currentTarget.src="/images/placeholder.svg"}})}):a.jsx("div",{className:"w-full h-32 rounded-lg overflow-hidden bg-gray-100",children:a.jsx("img",{src:"https://images.unsplash.com/photo-1504384764586-bb4cdc1707b0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",alt:"공지사항",className:"w-full h-full object-cover"})}),l.isPinned&&a.jsx("div",{className:"absolute top-2 right-2 bg-primary text-primary-foreground p-1 rounded-full",children:a.jsx(Dg,{className:"w-3 h-3"})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(_t,{className:`${o(l.category)} mb-2`,children:l.category}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-slate-600 transition-colors line-clamp-2 leading-tight",children:l.title})]}),a.jsxs("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:[l.content.replace(/\n/g," ").substring(0,80),"..."]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(wg,{className:"w-3 h-3"}),a.jsx("span",{children:i(l.createdAt)})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(pr,{className:"w-3 h-3"}),a.jsx("span",{children:l.views})]})]})]})},l.id))}),a.jsx("div",{className:"text-center",children:a.jsx(M,{asChild:!0,size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground text-lg px-8 py-4 rounded-full transition-all duration-300 shadow-lg hover:shadow-xl",children:a.jsxs(Q,{to:"/notices",children:["전체 공지사항 보기",a.jsx(fs,{className:"ml-2 h-5 w-5"})]})})})]})})},zy=()=>a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("main",{children:[a.jsx(Fy,{}),a.jsx(Vy,{}),a.jsx(qy,{}),a.jsx(By,{}),a.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-800 to-gray-900",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-4xl font-black text-white mb-6",children:["전문가를 위한 ",a.jsx("span",{className:"text-yellow-400",children:"CASTER PRO"})]}),a.jsx("p",{className:"text-gray-300 text-lg mb-8 leading-relaxed",children:"산업용 장비부터 로봇까지, 모든 용도에 최적화된 고품질 캐스터와 휠을 제공합니다. 10년 이상의 전문 경험과 ISO 인증을 바탕으로 신뢰할 수 있는 솔루션을 제공합니다."}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-black text-yellow-400 mb-2",children:"10+"}),a.jsx("div",{className:"text-white font-semibold",children:"년간 경험"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-black text-yellow-400 mb-2",children:"1000+"}),a.jsx("div",{className:"text-white font-semibold",children:"협력 업체"})]})]})]}),a.jsx("div",{className:"relative",children:a.jsx("div",{className:"bg-yellow-400/10 rounded-2xl p-8 border border-yellow-400/20",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-center border border-white/10",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-400 mb-2",children:"ISO"}),a.jsx("div",{className:"text-white text-sm",children:"품질 인증"})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-center border border-white/10",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-400 mb-2",children:"24H"}),a.jsx("div",{className:"text-white text-sm",children:"빠른 출고"})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-center border border-white/10",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-400 mb-2",children:"A/S"}),a.jsx("div",{className:"text-white text-sm",children:"완벽 보장"})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-center border border-white/10",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-400 mb-2",children:"맞춤"}),a.jsx("div",{className:"text-white text-sm",children:"제작 가능"})]})]})})})]})})})]})});var Ky="AspectRatio",Ad=m.forwardRef((s,e)=>{const{ratio:t=1/1,style:r,...n}=s;return a.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/t}%`},"data-radix-aspect-ratio-wrapper":"",children:a.jsx(ve.div,{...n,ref:e,style:{...r,position:"absolute",top:0,right:0,bottom:0,left:0}})})});Ad.displayName=Ky;var Wy=Ad;const Ed=Wy;function Hy({product:s}){var u;const[e,t]=m.useState(!0),[r,n]=m.useState(!1),[i,o]=m.useState(!1),{addItem:l}=xs(),c=h=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(h).replace("₩","₩ "),d=async h=>{console.log("🛒 장바구니 버튼 클릭됨!",s.name),h.preventDefault(),h.stopPropagation();try{const f=cs(s.main_image_url);console.log("📦 장바구니에 추가할 상품:",{id:s.id,name:s.name,price:s.price,image:f,slug:s.slug,quantity:1}),l({id:s.id,name:s.name,price:s.price,image:f,slug:s.slug,product_id:s.id,quantity:1}),console.log("✅ addItem 함수 호출 완료")}catch(f){console.error("❌ 장바구니 추가 중 오류:",f)}};return a.jsx(Ae,{className:"group cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 border-0 shadow-lg bg-white overflow-hidden",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:a.jsx(Ee,{className:"p-0",children:a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsxs(Ed,{ratio:1,className:"bg-gray-100",children:[s.main_image_url&&!r?a.jsx("img",{src:cs(s.main_image_url),alt:s.name,className:`object-cover w-full h-full transition-all duration-500 group-hover:scale-110 ${e?"opacity-0":"opacity-100"}`,onLoad:()=>t(!1),onError:()=>{n(!0),t(!1)}}):a.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-100 text-gray-400",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:"📦"}),a.jsx("p",{className:"text-sm",children:"이미지 없음"})]})}),a.jsxs("div",{className:`absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center gap-3 transition-all duration-300 ${i?"opacity-100":"opacity-0"}`,children:[a.jsx(M,{asChild:!0,size:"sm",className:"bg-white/90 text-gray-900 hover:bg-white hover:text-black shadow-lg",children:a.jsxs(Q,{to:`/products/${s.slug}`,children:[a.jsx(pr,{className:"h-4 w-4 mr-2"}),"상세보기"]})}),a.jsxs(M,{size:"sm",onClick:d,className:"bg-amber-400 hover:bg-amber-500 text-slate-900 shadow-lg",children:[a.jsx(Us,{className:"h-4 w-4 mr-2"}),"장바구니"]})]})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2 group-hover:text-slate-900 transition-colors leading-tight text-sm",children:s.name}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:((u=s.category)==null?void 0:u.name)||"카테고리 없음"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-lg font-bold text-slate-900",children:c(s.price)}),s.stock_quantity>0?a.jsx("span",{className:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:"재고 있음"}):a.jsx("span",{className:"text-xs text-red-600 bg-red-50 px-2 py-1 rounded-full",children:"품절"})]}),s.sku&&a.jsxs("p",{className:"text-xs text-gray-400 font-mono",children:["SKU: ",s.sku]})]})]})})})}function Gy({products:s,isLoading:e,error:t}){return t?a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"text-destructive",children:[a.jsx("div",{className:"text-6xl mb-4",children:"❌"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"제품을 불러오는 중 오류가 발생했습니다"}),a.jsx("p",{className:"text-muted-foreground",children:t.message||"알 수 없는 오류가 발생했습니다."})]})}):e?a.jsx("div",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:12}).map((r,n)=>a.jsx(Ae,{children:a.jsxs(Ee,{className:"p-4",children:[a.jsx(Ed,{ratio:1,className:"mb-4",children:a.jsx(We,{className:"w-full h-full rounded-md"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{className:"h-4 w-full"}),a.jsx(We,{className:"h-4 w-2/3"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(We,{className:"h-5 w-16"}),a.jsx(We,{className:"h-5 w-12"})]})]})]})},n))}):s.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"text-muted-foreground",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"제품을 찾을 수 없습니다"}),a.jsx("p",{children:"검색 조건을 조정하거나 다른 카테고리를 확인해보세요."})]})}):a.jsx("div",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:s.map(r=>a.jsx(Hy,{product:r},r.id))})}function Zy(){const{categorySlug:s}=xi(),{data:e,isLoading:t}=Fi();return t?a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{className:"h-8 w-full"}),Array.from({length:8}).map((r,n)=>a.jsx(We,{className:"h-6 w-full"},n))]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"카테고리"}),a.jsx(Li,{className:"h-[600px]",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx(M,{asChild:!0,variant:s?"ghost":"default",className:z("w-full justify-start",!s&&"bg-primary text-primary-foreground"),children:a.jsx(Q,{to:"/products",children:"모든 제품"})}),e==null?void 0:e.map(r=>a.jsx(M,{asChild:!0,variant:s===r.slug?"default":"ghost",className:z("w-full justify-start",s===r.slug&&"bg-primary text-primary-foreground"),children:a.jsx(Q,{to:`/categories/${r.slug}`,children:r.name})},r.id))]})})]})}const Cn=()=>{try{return!1}catch{return!1}},Be={log:(...s)=>{Cn()&&console.log(...s)},error:(...s)=>{Cn()&&console.error(...s)},warn:(...s)=>{Cn()&&console.warn(...s)}};function qo(){const{categorySlug:s}=xi(),[e,t]=jr(),[r,n]=m.useState(1),i=e.get("search")||void 0,o=s||i?12:50,{data:l,isLoading:c,error:d}=Cd({categorySlug:s,searchTerm:i,page:r,limit:o}),{data:u}=Fi(),h=u==null?void 0:u.find(w=>w.slug===s);if(Be.log("🔍 ProductListPage - categorySlug:",s),Be.log("📋 Categories:",u==null?void 0:u.map(w=>({id:w.id,name:w.name,slug:w.slug}))),Be.log("🎯 Current category:",h),Be.log("📦 Products response:",l),d&&Be.error("❌ Error:",d),l){const w=(l==null?void 0:l.data)||[],v=(l==null?void 0:l.count)||0;Be.log("📊 Products count:",w==null?void 0:w.length),Be.log("⏳ Loading state:",c),Be.log("🔢 Total count:",v),Be.log("📋 Full response:",l)}if(s&&u){Be.log("🔍 Searching for category with slug:",s),Be.log("📋 Available category slugs:",u.map(v=>v.slug));const w=u.find(v=>v.slug===s);Be.log("🎯 Matched category:",w),w||(Be.warn("⚠️ No category found for slug:",s),Be.log("💡 Did you mean one of these?",u.map(v=>v.slug).slice(0,5)))}const f=(l==null?void 0:l.data)||[],p=(l==null?void 0:l.count)||0;l!=null&&l.hasMore;const y=Math.ceil(p/o),g=w=>{n(w),window.scrollTo({top:0,behavior:"smooth"})},x=()=>i?`"${i}" 검색 결과`:h?h.name:"모든 제품",_=()=>i?`"${i}"에 대한 ${p}개의 제품을 찾았습니다`:h!=null&&h.description?h.description:`총 ${p}개의 제품을 만나보세요`;return d?(Be.error("❌ ProductListPage error:",d),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"데이터를 불러오는 중 오류가 발생했습니다"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:d.message||"알 수 없는 오류가 발생했습니다."}),s&&a.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["카테고리: ",s]}),a.jsx(M,{onClick:()=>window.location.reload(),className:"mr-4",children:"다시 시도"}),a.jsx(M,{variant:"outline",onClick:()=>window.location.href="/",children:"홈으로 돌아가기"})]})})):c?(Be.log("⏳ ProductListPage loading..."),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsxs("p",{className:"text-muted-foreground",children:[s?`${s} 카테고리`:"제품"," 로딩 중..."]})]})})):s&&u&&u.length>0&&!h?(Be.error("❌ Invalid category slug:",s),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"카테고리를 찾을 수 없습니다"}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:['요청하신 카테고리 "',s,'"를 찾을 수 없습니다.']}),a.jsx(M,{variant:"outline",onClick:()=>window.location.href="/products",children:"모든 제품 보기"})]})})):a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"grid gap-8 lg:grid-cols-[250px_1fr]",children:[a.jsx("aside",{className:"hidden lg:block",children:a.jsx(Zy,{})}),a.jsxs("main",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:x()}),a.jsx("p",{className:"text-muted-foreground",children:_()}),p>0&&a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{children:["총 ",p,"개 제품 중 ",(r-1)*o+1,"-",Math.min(r*o,p),"번째 제품"]}),y>1&&a.jsxs("span",{children:[r," / ",y," 페이지"]})]})]}),a.jsx(Ut,{}),a.jsx(Gy,{products:f,isLoading:c,error:d}),y>1&&a.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>g(r-1),disabled:r===1,children:[a.jsx(zc,{className:"h-4 w-4 mr-1"}),"Previous"]}),a.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(y,7)},(w,v)=>{let S;return y<=7||r<=4?S=v+1:r>=y-3?S=y-6+v:S=r-3+v,a.jsx(M,{variant:r===S?"default":"outline",size:"sm",onClick:()=>g(S),className:"w-10",children:S},S)})}),a.jsxs(M,{variant:"outline",size:"sm",onClick:()=>g(r+1),disabled:r===y,children:["Next",a.jsx(Ei,{className:"h-4 w-4 ml-1"})]})]})]})]})})}const Pd=m.forwardRef(({className:s,...e},t)=>a.jsx("textarea",{className:z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...e}));Pd.displayName="Textarea";function Ui(s){const e=m.useRef({value:s,previous:s});return m.useMemo(()=>(e.current.value!==s&&(e.current.previous=e.current.value,e.current.value=s),e.current.previous),[s])}var Td=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Jy="VisuallyHidden",Qy=m.forwardRef((s,e)=>a.jsx(ve.span,{...s,ref:e,style:{...Td,...s.style}}));Qy.displayName=Jy;var Yy=[" ","Enter","ArrowUp","ArrowDown"],Xy=[" ","Enter"],Vs="Select",[tn,sn,ex]=mh(Vs),[Ar,Wb]=ea(Vs,[ex,Gl]),rn=Gl(),[tx,vs]=Ar(Vs),[sx,rx]=Ar(Vs),Rd=s=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:p,form:y}=s,g=rn(e),[x,_]=m.useState(null),[w,v]=m.useState(null),[S,A]=m.useState(!1),N=mi(d),[R,Y]=ba({prop:r,defaultProp:n??!1,onChange:i,caller:Vs}),[$,E]=ba({prop:o,defaultProp:l,onChange:c,caller:Vs}),K=m.useRef(null),I=x?y||!!x.closest("form"):!0,[q,re]=m.useState(new Set),le=Array.from(q).map(ae=>ae.props.value).join(";");return a.jsx(Nh,{...g,children:a.jsxs(tx,{required:p,scope:e,trigger:x,onTriggerChange:_,valueNode:w,onValueNodeChange:v,valueNodeHasChildren:S,onValueNodeHasChildrenChange:A,contentId:pi(),value:$,onValueChange:E,open:R,onOpenChange:Y,dir:N,triggerPointerDownPosRef:K,disabled:f,children:[a.jsx(tn.Provider,{scope:e,children:a.jsx(sx,{scope:s.__scopeSelect,onNativeOptionAdd:m.useCallback(ae=>{re(Z=>new Set(Z).add(ae))},[]),onNativeOptionRemove:m.useCallback(ae=>{re(Z=>{const ke=new Set(Z);return ke.delete(ae),ke})},[]),children:t})}),I?a.jsxs(su,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:$,onChange:ae=>E(ae.target.value),disabled:f,form:y,children:[$===void 0?a.jsx("option",{value:""}):null,Array.from(q)]},le):null]})})};Rd.displayName=Vs;var Id="SelectTrigger",Od=m.forwardRef((s,e)=>{const{__scopeSelect:t,disabled:r=!1,...n}=s,i=rn(t),o=vs(Id,t),l=o.disabled||r,c=Me(e,o.onTriggerChange),d=sn(t),u=m.useRef("touch"),[h,f,p]=au(g=>{const x=d().filter(v=>!v.disabled),_=x.find(v=>v.value===o.value),w=nu(x,g,_);w!==void 0&&o.onValueChange(w.value)}),y=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(ph,{asChild:!0,...i,children:a.jsx(ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ru(o.value)?"":void 0,...n,ref:c,onClick:xe(n.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&y(g)}),onPointerDown:xe(n.onPointerDown,g=>{u.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:xe(n.onKeyDown,g=>{const x=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(x&&g.key===" ")&&Yy.includes(g.key)&&(y(),g.preventDefault())})})})});Od.displayName=Id;var Md="SelectValue",Dd=m.forwardRef((s,e)=>{const{__scopeSelect:t,className:r,style:n,children:i,placeholder:o="",...l}=s,c=vs(Md,t),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=Me(e,c.onValueNodeChange);return Vt(()=>{d(u)},[d,u]),a.jsx(ve.span,{...l,ref:h,style:{pointerEvents:"none"},children:ru(c.value)?a.jsx(a.Fragment,{children:o}):i})});Dd.displayName=Md;var ax="SelectIcon",Ld=m.forwardRef((s,e)=>{const{__scopeSelect:t,children:r,...n}=s;return a.jsx(ve.span,{"aria-hidden":!0,...n,ref:e,children:r||"▼"})});Ld.displayName=ax;var nx="SelectPortal",$d=s=>a.jsx(gh,{asChild:!0,...s});$d.displayName=nx;var Bs="SelectContent",Fd=m.forwardRef((s,e)=>{const t=vs(Bs,s.__scopeSelect),[r,n]=m.useState();if(Vt(()=>{n(new DocumentFragment)},[]),!t.open){const i=r;return i?gi.createPortal(a.jsx(Ud,{scope:s.__scopeSelect,children:a.jsx(tn.Slot,{scope:s.__scopeSelect,children:a.jsx("div",{children:s.children})})}),i):null}return a.jsx(qd,{...s,ref:e})});Fd.displayName=Bs;var mt=10,[Ud,bs]=Ar(Bs),ix="SelectContentImpl",ox=bh("SelectContent.RemoveScroll"),qd=m.forwardRef((s,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:x,..._}=s,w=vs(Bs,t),[v,S]=m.useState(null),[A,N]=m.useState(null),R=Me(e,X=>S(X)),[Y,$]=m.useState(null),[E,K]=m.useState(null),I=sn(t),[q,re]=m.useState(!1),le=m.useRef(!1);m.useEffect(()=>{if(v)return yh(v)},[v]),xh();const ae=m.useCallback(X=>{const[Se,...Ve]=I().map(be=>be.ref.current),[we]=Ve.slice(-1),_e=document.activeElement;for(const be of X)if(be===_e||(be==null||be.scrollIntoView({block:"nearest"}),be===Se&&A&&(A.scrollTop=0),be===we&&A&&(A.scrollTop=A.scrollHeight),be==null||be.focus(),document.activeElement!==_e))return},[I,A]),Z=m.useCallback(()=>ae([Y,v]),[ae,Y,v]);m.useEffect(()=>{q&&Z()},[q,Z]);const{onOpenChange:ke,triggerPointerDownPosRef:Te}=w;m.useEffect(()=>{if(v){let X={x:0,y:0};const Se=we=>{var _e,be;X={x:Math.abs(Math.round(we.pageX)-(((_e=Te.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(we.pageY)-(((be=Te.current)==null?void 0:be.y)??0))}},Ve=we=>{X.x<=10&&X.y<=10?we.preventDefault():v.contains(we.target)||ke(!1),document.removeEventListener("pointermove",Se),Te.current=null};return Te.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[v,ke,Te]),m.useEffect(()=>{const X=()=>ke(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[ke]);const[ht,qe]=au(X=>{const Se=I().filter(_e=>!_e.disabled),Ve=Se.find(_e=>_e.ref.current===document.activeElement),we=nu(Se,X,Ve);we&&setTimeout(()=>we.ref.current.focus())}),Er=m.useCallback((X,Se,Ve)=>{const we=!le.current&&!Ve;(w.value!==void 0&&w.value===Se||we)&&($(X),we&&(le.current=!0))},[w.value]),Ws=m.useCallback(()=>v==null?void 0:v.focus(),[v]),Kt=m.useCallback((X,Se,Ve)=>{const we=!le.current&&!Ve;(w.value!==void 0&&w.value===Se||we)&&K(X)},[w.value]),ws=r==="popper"?Qn:Vd,_s=ws===Qn?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:x}:{};return a.jsx(Ud,{scope:t,content:v,viewport:A,onViewportChange:N,itemRefCallback:Er,selectedItem:Y,onItemLeave:Ws,itemTextRefCallback:Kt,focusSelectedItem:Z,selectedItemText:E,position:r,isPositioned:q,searchRef:ht,children:a.jsx(vh,{as:ox,allowPinchZoom:!0,children:a.jsx(wh,{asChild:!0,trapped:w.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:xe(n,X=>{var Se;(Se=w.trigger)==null||Se.focus({preventScroll:!0}),X.preventDefault()}),children:a.jsx(_h,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:a.jsx(ws,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:X=>X.preventDefault(),..._,..._s,onPlaced:()=>re(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:xe(_.onKeyDown,X=>{const Se=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!Se&&X.key.length===1&&qe(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let we=I().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(X.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const _e=X.target,be=we.indexOf(_e);we=we.slice(be+1)}setTimeout(()=>ae(we)),X.preventDefault()}})})})})})})});qd.displayName=ix;var lx="SelectItemAlignedPosition",Vd=m.forwardRef((s,e)=>{const{__scopeSelect:t,onPlaced:r,...n}=s,i=vs(Bs,t),o=bs(Bs,t),[l,c]=m.useState(null),[d,u]=m.useState(null),h=Me(e,R=>u(R)),f=sn(t),p=m.useRef(!1),y=m.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:_,focusSelectedItem:w}=o,v=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&x&&_){const R=i.trigger.getBoundingClientRect(),Y=d.getBoundingClientRect(),$=i.valueNode.getBoundingClientRect(),E=_.getBoundingClientRect();if(i.dir!=="rtl"){const _e=E.left-Y.left,be=$.left-_e,Pt=R.left-be,jt=R.width+Pt,Hs=Math.max(jt,Y.width),Pr=window.innerWidth-mt,Tr=Jn(be,[mt,Math.max(mt,Pr-Hs)]);l.style.minWidth=jt+"px",l.style.left=Tr+"px"}else{const _e=Y.right-E.right,be=window.innerWidth-$.right-_e,Pt=window.innerWidth-R.right-be,jt=R.width+Pt,Hs=Math.max(jt,Y.width),Pr=window.innerWidth-mt,Tr=Jn(be,[mt,Math.max(mt,Pr-Hs)]);l.style.minWidth=jt+"px",l.style.right=Tr+"px"}const K=f(),I=window.innerHeight-mt*2,q=g.scrollHeight,re=window.getComputedStyle(d),le=parseInt(re.borderTopWidth,10),ae=parseInt(re.paddingTop,10),Z=parseInt(re.borderBottomWidth,10),ke=parseInt(re.paddingBottom,10),Te=le+ae+q+ke+Z,ht=Math.min(x.offsetHeight*5,Te),qe=window.getComputedStyle(g),Er=parseInt(qe.paddingTop,10),Ws=parseInt(qe.paddingBottom,10),Kt=R.top+R.height/2-mt,ws=I-Kt,_s=x.offsetHeight/2,X=x.offsetTop+_s,Se=le+ae+X,Ve=Te-Se;if(Se<=Kt){const _e=K.length>0&&x===K[K.length-1].ref.current;l.style.bottom="0px";const be=d.clientHeight-g.offsetTop-g.offsetHeight,Pt=Math.max(ws,_s+(_e?Ws:0)+be+Z),jt=Se+Pt;l.style.height=jt+"px"}else{const _e=K.length>0&&x===K[0].ref.current;l.style.top="0px";const Pt=Math.max(Kt,le+g.offsetTop+(_e?Er:0)+_s)+Ve;l.style.height=Pt+"px",g.scrollTop=Se-Kt+g.offsetTop}l.style.margin=`${mt}px 0`,l.style.minHeight=ht+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,l,d,g,x,_,i.dir,r]);Vt(()=>v(),[v]);const[S,A]=m.useState();Vt(()=>{d&&A(window.getComputedStyle(d).zIndex)},[d]);const N=m.useCallback(R=>{R&&y.current===!0&&(v(),w==null||w(),y.current=!1)},[v,w]);return a.jsx(dx,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(ve.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Vd.displayName=lx;var cx="SelectPopperPosition",Qn=m.forwardRef((s,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:n=mt,...i}=s,o=rn(t);return a.jsx(jh,{...o,...i,ref:e,align:r,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qn.displayName=cx;var[dx,qi]=Ar(Bs,{}),Yn="SelectViewport",Bd=m.forwardRef((s,e)=>{const{__scopeSelect:t,nonce:r,...n}=s,i=bs(Yn,t),o=qi(Yn,t),l=Me(e,i.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(tn.Slot,{scope:t,children:a.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:xe(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const y=window.innerHeight-mt*2,g=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),_=Math.max(g,x);if(_<y){const w=_+p,v=Math.min(y,w),S=w-v;h.style.height=v+"px",h.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Bd.displayName=Yn;var zd="SelectGroup",[ux,hx]=Ar(zd),fx=m.forwardRef((s,e)=>{const{__scopeSelect:t,...r}=s,n=pi();return a.jsx(ux,{scope:t,id:n,children:a.jsx(ve.div,{role:"group","aria-labelledby":n,...r,ref:e})})});fx.displayName=zd;var Kd="SelectLabel",Wd=m.forwardRef((s,e)=>{const{__scopeSelect:t,...r}=s,n=hx(Kd,t);return a.jsx(ve.div,{id:n.id,...r,ref:e})});Wd.displayName=Kd;var Ca="SelectItem",[mx,Hd]=Ar(Ca),Gd=m.forwardRef((s,e)=>{const{__scopeSelect:t,value:r,disabled:n=!1,textValue:i,...o}=s,l=vs(Ca,t),c=bs(Ca,t),d=l.value===r,[u,h]=m.useState(i??""),[f,p]=m.useState(!1),y=Me(e,w=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,w,r,n)}),g=pi(),x=m.useRef("touch"),_=()=>{n||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(mx,{scope:t,value:r,disabled:n,textId:g,isSelected:d,onItemTextChange:m.useCallback(w=>{h(v=>v||((w==null?void 0:w.textContent)??"").trim())},[]),children:a.jsx(tn.ItemSlot,{scope:t,value:r,disabled:n,textValue:u,children:a.jsx(ve.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:y,onFocus:xe(o.onFocus,()=>p(!0)),onBlur:xe(o.onBlur,()=>p(!1)),onClick:xe(o.onClick,()=>{x.current!=="mouse"&&_()}),onPointerUp:xe(o.onPointerUp,()=>{x.current==="mouse"&&_()}),onPointerDown:xe(o.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:xe(o.onPointerMove,w=>{var v;x.current=w.pointerType,n?(v=c.onItemLeave)==null||v.call(c):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(o.onPointerLeave,w=>{var v;w.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:xe(o.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(Xy.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});Gd.displayName=Ca;var $r="SelectItemText",Zd=m.forwardRef((s,e)=>{const{__scopeSelect:t,className:r,style:n,...i}=s,o=vs($r,t),l=bs($r,t),c=Hd($r,t),d=rx($r,t),[u,h]=m.useState(null),f=Me(e,_=>h(_),c.onItemTextChange,_=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,_,c.value,c.disabled)}),p=u==null?void 0:u.textContent,y=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=d;return Vt(()=>(g(y),()=>x(y)),[g,x,y]),a.jsxs(a.Fragment,{children:[a.jsx(ve.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?gi.createPortal(i.children,o.valueNode):null]})});Zd.displayName=$r;var Jd="SelectItemIndicator",Qd=m.forwardRef((s,e)=>{const{__scopeSelect:t,...r}=s;return Hd(Jd,t).isSelected?a.jsx(ve.span,{"aria-hidden":!0,...r,ref:e}):null});Qd.displayName=Jd;var Xn="SelectScrollUpButton",Yd=m.forwardRef((s,e)=>{const t=bs(Xn,s.__scopeSelect),r=qi(Xn,s.__scopeSelect),[n,i]=m.useState(!1),o=Me(e,r.onScrollButtonChange);return Vt(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),n?a.jsx(eu,{...s,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Yd.displayName=Xn;var ei="SelectScrollDownButton",Xd=m.forwardRef((s,e)=>{const t=bs(ei,s.__scopeSelect),r=qi(ei,s.__scopeSelect),[n,i]=m.useState(!1),o=Me(e,r.onScrollButtonChange);return Vt(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),n?a.jsx(eu,{...s,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Xd.displayName=ei;var eu=m.forwardRef((s,e)=>{const{__scopeSelect:t,onAutoScroll:r,...n}=s,i=bs("SelectScrollButton",t),o=m.useRef(null),l=sn(t),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Vt(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),a.jsx(ve.div,{"aria-hidden":!0,...n,ref:e,style:{flexShrink:0,...n.style},onPointerDown:xe(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:xe(n.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:xe(n.onPointerLeave,()=>{c()})})}),px="SelectSeparator",tu=m.forwardRef((s,e)=>{const{__scopeSelect:t,...r}=s;return a.jsx(ve.div,{"aria-hidden":!0,...r,ref:e})});tu.displayName=px;var ti="SelectArrow",gx=m.forwardRef((s,e)=>{const{__scopeSelect:t,...r}=s,n=rn(t),i=vs(ti,t),o=bs(ti,t);return i.open&&o.position==="popper"?a.jsx(kh,{...n,...r,ref:e}):null});gx.displayName=ti;var yx="SelectBubbleInput",su=m.forwardRef(({__scopeSelect:s,value:e,...t},r)=>{const n=m.useRef(null),i=Me(r,n),o=Ui(e);return m.useEffect(()=>{const l=n.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),a.jsx(ve.select,{...t,style:{...Td,...t.style},ref:i,defaultValue:e})});su.displayName=yx;function ru(s){return s===""||s===void 0}function au(s){const e=es(s),t=m.useRef(""),r=m.useRef(0),n=m.useCallback(o=>{const l=t.current+o;e(l),function c(d){t.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=m.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,n,i]}function nu(s,e,t){const n=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=t?s.indexOf(t):-1;let o=xx(s,Math.max(i,0));n.length===1&&(o=o.filter(d=>d!==t));const c=o.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==t?c:void 0}function xx(s,e){return s.map((t,r)=>s[(e+r)%s.length])}var vx=Rd,iu=Od,bx=Dd,wx=Ld,_x=$d,ou=Fd,jx=Bd,lu=Wd,cu=Gd,Nx=Zd,kx=Qd,du=Yd,uu=Xd,hu=tu;const Sx=vx,Cx=bx,fu=m.forwardRef(({className:s,children:e,...t},r)=>a.jsxs(iu,{ref:r,className:z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[e,a.jsx(wx,{asChild:!0,children:a.jsx(Ai,{className:"h-4 w-4 opacity-50"})})]}));fu.displayName=iu.displayName;const mu=m.forwardRef(({className:s,...e},t)=>a.jsx(du,{ref:t,className:z("flex cursor-default items-center justify-center py-1",s),...e,children:a.jsx(_g,{className:"h-4 w-4"})}));mu.displayName=du.displayName;const pu=m.forwardRef(({className:s,...e},t)=>a.jsx(uu,{ref:t,className:z("flex cursor-default items-center justify-center py-1",s),...e,children:a.jsx(Ai,{className:"h-4 w-4"})}));pu.displayName=uu.displayName;const gu=m.forwardRef(({className:s,children:e,position:t="popper",...r},n)=>a.jsx(_x,{children:a.jsxs(ou,{ref:n,className:z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...r,children:[a.jsx(mu,{}),a.jsx(jx,{className:z("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(pu,{})]})}));gu.displayName=ou.displayName;const Ax=m.forwardRef(({className:s,...e},t)=>a.jsx(lu,{ref:t,className:z("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...e}));Ax.displayName=lu.displayName;const yu=m.forwardRef(({className:s,children:e,...t},r)=>a.jsxs(cu,{ref:r,className:z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(kx,{children:a.jsx(Ja,{className:"h-4 w-4"})})}),a.jsx(Nx,{children:e})]}));yu.displayName=cu.displayName;const Ex=m.forwardRef(({className:s,...e},t)=>a.jsx(hu,{ref:t,className:z("-mx-1 my-1 h-px bg-muted",s),...e}));Ex.displayName=hu.displayName;const Px=[{value:"general",label:"일반 문의"},{value:"technical",label:"기술 문의"},{value:"price",label:"가격 문의"},{value:"stock",label:"재고 문의"},{value:"custom",label:"맞춤 제작 문의"},{value:"partnership",label:"파트너십 문의"}];function Tx({isOpen:s,onClose:e,productName:t,productId:r}){const[n,i]=m.useState({name:"",email:"",phone:"",company:"",inquiryType:"general",subject:t?`${t} 관련 문의`:"",message:""}),[o,l]=m.useState(!1),[c,d]=m.useState({}),u=()=>{const p={};return n.name.trim()||(p.name="이름을 입력해주세요."),n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(p.email="올바른 이메일 주소를 입력해주세요."):p.email="이메일을 입력해주세요.",n.phone.trim()||(p.phone="연락처를 입력해주세요."),n.subject.trim()||(p.subject="문의 제목을 입력해주세요."),n.message.trim()||(p.message="문의 내용을 입력해주세요."),d(p),Object.keys(p).length===0},h=async p=>{if(p.preventDefault(),!!u()){l(!0);try{await new Promise(_=>setTimeout(_,2e3));const y={...n,productId:r,productName:t,submittedAt:new Date().toISOString()};console.log("Inquiry submitted:",y);const g=JSON.parse(localStorage.getItem("product_inquiries")||"[]"),x={id:Date.now().toString(),...y};g.push(x),localStorage.setItem("product_inquiries",JSON.stringify(g)),O({title:"문의가 접수되었습니다",description:"빠른 시일 내에 답변 드리겠습니다."}),f()}catch{O({title:"문의 접수 실패",description:"문의 접수 중 오류가 발생했습니다. 다시 시도해주세요.",variant:"destructive"})}finally{l(!1)}}},f=()=>{i({name:"",email:"",phone:"",company:"",inquiryType:"general",subject:t?`${t} 관련 문의`:"",message:""}),d({}),e()};return a.jsx(Ya,{open:s,onOpenChange:f,children:a.jsxs(na,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ia,{children:[a.jsxs(oa,{className:"flex items-center gap-2",children:[a.jsx(Qa,{className:"w-5 h-5 text-amber-600"}),"제품 문의하기"]}),t&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["문의 제품: ",a.jsx("span",{className:"font-medium",children:t})]})]}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"name",children:"이름 *"}),a.jsx(fe,{id:"name",value:n.name,onChange:p=>i(y=>({...y,name:p.target.value})),placeholder:"성함을 입력하세요",disabled:o}),c.name&&a.jsx(Es,{variant:"destructive",children:a.jsx(Ps,{children:c.name})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"company",children:"회사명"}),a.jsx(fe,{id:"company",value:n.company,onChange:p=>i(y=>({...y,company:p.target.value})),placeholder:"회사명 (선택사항)",disabled:o})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"email",children:"이메일 *"}),a.jsx(fe,{id:"email",type:"email",value:n.email,onChange:p=>i(y=>({...y,email:p.target.value})),placeholder:"이메일을 입력하세요",disabled:o}),c.email&&a.jsx(Es,{variant:"destructive",children:a.jsx(Ps,{children:c.email})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"phone",children:"연락처 *"}),a.jsx(fe,{id:"phone",type:"tel",value:n.phone,onChange:p=>i(y=>({...y,phone:p.target.value})),placeholder:"연락처를 입력하세요",disabled:o}),c.phone&&a.jsx(Es,{variant:"destructive",children:a.jsx(Ps,{children:c.phone})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"inquiryType",children:"문의 유형"}),a.jsxs(Sx,{value:n.inquiryType,onValueChange:p=>i(y=>({...y,inquiryType:p})),disabled:o,children:[a.jsx(fu,{children:a.jsx(Cx,{placeholder:"문의 유형 선택"})}),a.jsx(gu,{children:Px.map(p=>a.jsx(yu,{value:p.value,children:p.label},p.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"subject",children:"문의 제목 *"}),a.jsx(fe,{id:"subject",value:n.subject,onChange:p=>i(y=>({...y,subject:p.target.value})),placeholder:"문의 제목을 입력하세요",disabled:o}),c.subject&&a.jsx(Es,{variant:"destructive",children:a.jsx(Ps,{children:c.subject})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"message",children:"문의 내용 *"}),a.jsx(Pd,{id:"message",value:n.message,onChange:p=>i(y=>({...y,message:p.target.value})),placeholder:"상세한 문의 내용을 입력해주세요...",rows:6,disabled:o}),c.message&&a.jsx(Es,{variant:"destructive",children:a.jsx(Ps,{children:c.message})})]}),a.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200",children:[a.jsx("h4",{className:"font-medium text-amber-800 mb-2",children:"직접 연락하기"}),a.jsxs("div",{className:"space-y-1 text-sm text-amber-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(As,{className:"w-4 h-4"}),a.jsx("span",{children:"전화: 1588-1234"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hc,{className:"w-4 h-4"}),a.jsx("span",{children:"이메일: support@jpcaster.com"})]})]})]}),a.jsxs(ed,{children:[a.jsx(M,{type:"button",variant:"outline",onClick:f,disabled:o,children:"취소"}),a.jsx(M,{type:"submit",disabled:o,className:"bg-amber-600 hover:bg-amber-700",children:o?a.jsxs(a.Fragment,{children:[a.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}),"문의 접수 중..."]}):"문의 접수"})]})]})]})})}function Rx(){var Y,$;const{slug:s}=xi(),[e,t]=m.useState(1),[r,n]=m.useState([]),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState(0),{data:h,isLoading:f,error:p,refetch:y}=Sd(s||"");ys();const{toast:g}=lc(),{addItem:x}=xs();m.useEffect(()=>{(async()=>{if(h){c(!0);try{console.log("🔄 Loading related products for:",h.name);const[K,I]=await Promise.all([fetch("/data/products.json"),fetch("/data/categories.json")]);if(!K.ok||!I.ok)throw new Error("Failed to fetch related products data");const q=await K.json(),re=await I.json(),le=new Map(re.map(Z=>[Z.id,Z])),ae=q.filter(Z=>Z.id!==h.id&&(Z.category_id===h.category_id||h.category_id==="cat_agv"&&["cat_industrial","cat_heavy_duty"].includes(Z.category_id)||h.category_id==="cat_industrial"&&["cat_agv","cat_heavy_duty"].includes(Z.category_id)||["cat_polyurethane","cat_rubber"].includes(h.category_id)&&["cat_polyurethane","cat_rubber"].includes(Z.category_id))).slice(0,3).map(Z=>{const ke=le.get(Z.category_id)||{id:Z.category_id,name:"Unknown Category",slug:"unknown",description:"",created_at:new Date().toISOString()};return{id:Z.id,created_at:Z.created_at||new Date().toISOString(),name:Z.name,slug:Z.slug,description:Z.description,price:Z.price||0,sku:Z.sku,stock_quantity:Z.stock_quantity||0,manufacturer:Z.manufacturer||"",is_published:!0,category_id:Z.category_id,main_image_url:Z.main_image_url||"",image_urls:Z.image_urls||[],features:Z.features||{},category:{id:ke.id,name:ke.name,slug:ke.slug,description:ke.description,created_at:ke.created_at}}});console.log("✅ Related products loaded:",ae.length),n(ae)}catch(K){console.error("❌ Error loading related products:",K),n([])}finally{c(!1)}}})()},[h]);const _=async()=>{console.log("🔄 Manual retry initiated, attempt:",d+1),u(E=>E+1);try{await y(),g({title:"재시도 성공",description:"제품 정보를 다시 불러왔습니다."})}catch(E){console.error("❌ Manual retry failed:",E),g({title:"재시도 실패",description:"제품 정보를 불러오는데 실패했습니다.",variant:"destructive"})}};if(!s)return a.jsx(Eh,{to:"/products",replace:!0});if(f)return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(We,{className:"aspect-square w-full rounded-lg"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(We,{className:"h-8 w-3/4"}),a.jsx(We,{className:"h-4 w-1/2"}),a.jsx(We,{className:"h-6 w-1/4"}),a.jsx(We,{className:"h-20 w-full"})]})]})})});if(p||!f&&!h){console.log("❌ ProductDetailPage - Error or no product:",{error:p,product:h,slug:s,isLoading:f});const E=((Y=p==null?void 0:p.message)==null?void 0:Y.includes("네트워크"))||(($=p==null?void 0:p.message)==null?void 0:$.includes("fetch")),K=!h&&!p;return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("nav",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[a.jsx(Q,{to:"/",className:"hover:text-primary transition-colors",children:"홈"}),a.jsx("span",{children:"/"}),a.jsx(Q,{to:"/products",className:"hover:text-primary transition-colors",children:"제품"}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-foreground",children:"오류"})]})}),a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center max-w-md mx-auto",children:[a.jsx("div",{className:"mb-6",children:E?a.jsx("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(zr,{className:"w-10 h-10 text-yellow-600"})}):a.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(jg,{className:"w-10 h-10 text-red-600"})})}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:E?"연결 문제가 발생했습니다":"제품을 찾을 수 없습니다"}),a.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:E?"네트워크 연결을 확인하고 다시 시도해주세요.":K?a.jsxs(a.Fragment,{children:["요청하신 제품 ",a.jsxs("span",{className:"font-medium text-foreground",children:['"',s,'"']}),"을 찾을 수 없습니다.",a.jsx("br",{}),"제품명을 확인하거나 다른 제품을 찾아보세요."]}):`오류가 발생했습니다: ${(p==null?void 0:p.message)||"알 수 없는 오류"}`}),a.jsxs("div",{className:"space-y-3",children:[E&&a.jsx(M,{onClick:_,className:"w-full",disabled:f,children:f?a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"w-4 h-4 mr-2 animate-spin"}),"재시도 중..."]}):a.jsxs(a.Fragment,{children:[a.jsx(zr,{className:"w-4 h-4 mr-2"}),"다시 시도"]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(M,{variant:"outline",className:"flex-1",asChild:!0,children:a.jsxs(Q,{to:"/products",children:[a.jsx(Us,{className:"w-4 h-4 mr-2"}),"제품 목록"]})}),a.jsx(M,{variant:"outline",className:"flex-1",asChild:!0,children:a.jsxs(Q,{to:"/",children:[a.jsx(Pi,{className:"w-4 h-4 mr-2"}),"홈으로"]})})]})]}),d>0&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-4",children:["재시도 횟수: ",d]}),K&&a.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"추천 검색어"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["AGV 캐스터","장비용 캐스터","폴리우레탄 휠","러버 휠"].map(I=>a.jsx(Q,{to:`/products?search=${encodeURIComponent(I)}`,className:"inline-block px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs hover:bg-blue-200 transition-colors",children:I},I))})]})]})})]})})}const w=E=>`₩${E.toLocaleString()}`,v=async()=>{if(!h){console.error("❌ addToCart: product is null"),g({title:"오류",description:"제품 정보를 불러올 수 없습니다.",variant:"destructive"});return}if(e<=0){g({title:"수량 오류",description:"수량은 1개 이상이어야 합니다.",variant:"destructive"});return}if(h.stock_quantity&&e>h.stock_quantity){g({title:"재고 부족",description:`최대 ${h.stock_quantity}개까지만 주문할 수 있습니다.`,variant:"destructive"});return}console.log("🎯 Adding to cart:",h.name,"x",e);try{const E={id:h.id,name:h.name,price:h.price,image:cs(h.main_image_url),slug:h.slug,quantity:e};x(E),g({title:"장바구니에 추가됨",description:`${h.name} ${e}개가 장바구니에 추가되었습니다.`})}catch(E){console.error("❌ Error adding to cart:",E),g({title:"장바구니 추가 실패",description:E instanceof Error?E.message:"알 수 없는 오류가 발생했습니다.",variant:"destructive"})}},S=()=>{h&&o(!0)},A=()=>{if(!h)return;const E=`${window.location.origin}/products/${h.slug}`;navigator.share?navigator.share({title:h.name,text:h.description,url:E}).catch(console.error):navigator.clipboard&&navigator.clipboard.writeText(E).then(()=>{g({title:"링크 복사됨",description:"제품 링크가 클립보드에 복사되었습니다."})}).catch(()=>{g({title:"복사 실패",description:"링크 복사에 실패했습니다.",variant:"destructive"})})},R=h.stock_quantity===0?{text:"Out of Stock",variant:"destructive",available:!1}:h.stock_quantity<=5?{text:`Only ${h.stock_quantity} left`,variant:"secondary",available:!0}:{text:"In Stock",variant:"default",available:!0};return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("nav",{className:"mb-8 animate-fade-in-up",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[a.jsx(Q,{to:"/",className:"hover:text-primary transition-colors",children:"홈"}),a.jsx("span",{children:"/"}),a.jsx(Q,{to:"/products",className:"hover:text-primary transition-colors",children:"제품"}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-foreground",children:h.name})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4 animate-fade-in-up",style:{animationDelay:"0.1s"},children:[a.jsxs("div",{className:"relative aspect-square bg-white rounded-lg overflow-hidden border group",children:[a.jsx("img",{src:cs(h.main_image_url),alt:h.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),a.jsx("div",{className:"absolute bottom-4 right-4 bg-black/70 text-white px-2 py-1 rounded text-sm",children:"1 / 4"}),a.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 shadow-sm transition-all",children:a.jsx("span",{className:"text-gray-600 text-lg",children:"‹"})}),a.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 shadow-sm transition-all",children:a.jsx("span",{className:"text-gray-600 text-lg",children:"›"})})]}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:[1,2,3,4].map(E=>a.jsx("div",{className:`aspect-square bg-white rounded-lg border-2 transition-colors cursor-pointer ${E===1?"border-blue-400":"border-gray-200 hover:border-blue-400/50"}`,children:a.jsx("img",{src:cs(h.main_image_url),alt:`${h.name} view ${E}`,className:"w-full h-full object-cover rounded-lg"})},E))})]}),a.jsxs("div",{className:"space-y-8 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-gray-500 font-medium",children:["모델: ",h.sku||"AGV-LG"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 leading-tight",children:h.name}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(E=>a.jsx(gr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},E))}),a.jsx("span",{className:"text-sm text-yellow-500 font-medium",children:"4.8"}),a.jsx("span",{className:"text-sm text-gray-500",children:"(사용자 리뷰)"})]}),a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:w(h.price)}),a.jsx("div",{className:"text-sm text-gray-600 leading-relaxed",children:h.description})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"주요 특징"}),a.jsx("div",{className:"space-y-2",children:["방향 전환","정밀 제어","내구성","안전성","360도 회전","부품 취급 기술"].map((E,K)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-sm text-gray-600",children:E})]},K))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"수량:"}),a.jsxs("div",{className:"flex items-center border rounded-lg",children:[a.jsx(M,{variant:"ghost",size:"sm",onClick:()=>{const E=Math.max(1,e-1);t(E),E===1&&console.log("⚠️ Minimum quantity reached")},disabled:e<=1,className:"px-3 py-1 h-8",title:"수량 감소",children:a.jsx(Zc,{className:"h-4 w-4"})}),a.jsx("span",{className:"px-4 py-1 text-center min-w-[40px] text-sm font-medium border-x",children:e}),a.jsx(M,{variant:"ghost",size:"sm",onClick:()=>{const E=h.stock_quantity||99,K=Math.min(E,e+1);t(K),K>=E&&h.stock_quantity&&g({title:"재고 한계",description:`최대 재고량 ${E}개에 도달했습니다.`,variant:"destructive"})},disabled:e>=(h.stock_quantity||99),className:"px-3 py-1 h-8",title:"수량 증가",children:a.jsx(Jc,{className:"h-4 w-4"})})]}),h.stock_quantity&&h.stock_quantity<=10&&a.jsxs("span",{className:"text-xs text-amber-600 font-medium",children:["재고 ",h.stock_quantity,"개 남음"]})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs(M,{onClick:v,className:"w-full h-12 text-base bg-amber-400 hover:bg-amber-500 text-slate-900 font-medium disabled:opacity-50 transition-all duration-300",disabled:!R.available,children:[a.jsx(Us,{className:"w-4 h-4 mr-2"}),"장바구니 담기"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(M,{variant:"outline",className:"flex-1 h-10 text-sm hover:bg-gray-50 hover:text-gray-900 border-gray-300",onClick:S,children:[a.jsx(Qa,{className:"w-4 h-4 mr-1"}),"문의하기"]}),a.jsxs(M,{variant:"outline",className:"flex-1 h-10 text-sm hover:bg-gray-50 hover:text-gray-900 border-gray-300",onClick:A,children:[a.jsx(Fg,{className:"w-4 h-4 mr-1"}),"공유하기"]})]})]}),!R.available&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:a.jsx("p",{className:"text-red-700 text-sm font-medium",children:"현재 품절된 상품입니다."})})]})]})]}),a.jsx("div",{className:"mt-12 animate-fade-in-up",style:{animationDelay:"0.3s"},children:a.jsxs(ad,{defaultValue:"specifications",className:"w-full",children:[a.jsxs(Ri,{className:"grid w-full grid-cols-4 bg-white border border-gray-200 p-0 h-auto",children:[a.jsx(Ts,{value:"specifications",className:"flex items-center gap-2 py-3 px-4 data-[state=active]:bg-gray-50 data-[state=active]:border-b-2 data-[state=active]:border-blue-500 rounded-none",children:"제품 사양"}),a.jsx(Ts,{value:"components",className:"flex items-center gap-2 py-3 px-4 data-[state=active]:bg-gray-50 data-[state=active]:border-b-2 data-[state=active]:border-blue-500 rounded-none",children:"구성품"}),a.jsx(Ts,{value:"reviews",className:"flex items-center gap-2 py-3 px-4 data-[state=active]:bg-gray-50 data-[state=active]:border-b-2 data-[state=active]:border-blue-500 rounded-none",children:"리뷰"}),a.jsx(Ts,{value:"usage",className:"flex items-center gap-2 py-3 px-4 data-[state=active]:bg-gray-50 data-[state=active]:border-b-2 data-[state=active]:border-blue-500 rounded-none",children:"사용법"})]}),a.jsx(Rs,{value:"specifications",className:"mt-6",children:a.jsx(Ae,{className:"border-0 shadow-sm",children:a.jsxs(Ee,{className:"p-8",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"제품 사양"}),a.jsx("div",{className:"space-y-4",children:[{label:"최대 하중",value:"100kg",label2:"휠 직경",value2:"75mm"},{label:"휠 폭",value:"25mm",label2:"전체 높이",value2:"100mm"},{label:"플레이트 크기",value:"60 × 60mm",label2:"볼트 구멍",value2:"M8 × 4개"},{label:"휠 재질",value:"폴리우레탄",label2:"프레임 재질",value2:"알루미늄 합금"},{label:"베어링",value:"정밀 볼베어링",label2:"브레이크",value2:"자동 잠금식"}].map((E,K)=>a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"flex justify-between items-center py-3",children:[a.jsx("span",{className:"text-gray-600",children:E.label}),a.jsx("span",{className:"text-gray-900 font-medium",children:E.value})]}),a.jsxs("div",{className:"flex justify-between items-center py-3",children:[a.jsx("span",{className:"text-gray-600",children:E.label2}),a.jsx("span",{className:"text-gray-900 font-medium",children:E.value2})]})]},K))}),a.jsxs("div",{className:"mt-12",children:[a.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4 text-center",children:"관련 제품"}),a.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"함께 구매하면 좋은 캐스터 제품들을 확인해보세요"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l?[1,2,3].map(E=>a.jsxs("div",{className:"relative bg-white rounded-lg border p-4 animate-pulse",children:[a.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg mb-3"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2 w-2/3"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},E)):r.length>0?r.map((E,K)=>{const I=Math.floor(Math.random()*20)+10,q=Math.random()>.5;return a.jsxs(Q,{to:`/products/${E.slug}`,className:"relative bg-white rounded-lg border p-4 hover:shadow-md transition-shadow cursor-pointer block",children:[a.jsxs("div",{className:"absolute top-2 left-2 flex gap-1",children:[q&&a.jsx(_t,{className:"bg-red-500 text-white text-xs px-2 py-1",children:"NEW"}),a.jsxs(_t,{className:"bg-amber-400 text-slate-900 text-xs px-2 py-1",children:[I,"% OFF"]})]}),a.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:[E.main_image_url?a.jsx("img",{src:cs(E.main_image_url),alt:E.name,className:"w-full h-full object-cover",onError:re=>{var Z;const le=re.target;le.style.display="none";const ae=(Z=le.parentNode)==null?void 0:Z.querySelector(".placeholder");ae&&(ae.style.display="block")}}):null,a.jsx("div",{className:"placeholder w-16 h-16 bg-gray-300 rounded-full",style:{display:E.main_image_url?"none":"block"}})]}),a.jsx("h5",{className:"font-medium text-sm text-gray-900 mb-1 line-clamp-2",children:E.name}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:E.category.name}),a.jsxs("p",{className:"text-sm font-bold text-slate-900",children:["₩",E.price.toLocaleString()]})]},E.id)}):a.jsxs("div",{className:"col-span-3 text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Us,{className:"w-8 h-8 text-gray-400"})}),a.jsx("p",{className:"text-gray-500 mb-4",children:"관련 제품이 없습니다."}),a.jsx(M,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(Q,{to:"/products",children:"모든 제품 보기"})})]})})]})]})})}),a.jsx(Rs,{value:"reviews",className:"mt-6",children:a.jsx(Ae,{className:"border-0 shadow-sm",children:a.jsxs(Ee,{className:"p-8",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"고객 리뷰"}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx(gr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"아직 리뷰가 없습니다."}),a.jsx("p",{className:"text-sm text-gray-500",children:"첫 번째 리뷰를 남겨보세요!"}),a.jsx(M,{variant:"outline",className:"mt-4 border-gray-300 hover:bg-gray-50 hover:text-gray-900",children:"리뷰 작성하기"})]})]})})}),a.jsx(Rs,{value:"components",className:"mt-6",children:a.jsx(Ae,{className:"border-0 shadow-sm",children:a.jsxs(Ee,{className:"p-8",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"구성품"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"기본 구성품"}),a.jsx("ul",{className:"space-y-2",children:["캐스터 본체 × 1개","고정 볼트 × 4개","와셔 × 4개","육각 렌치 × 1개","설치 매뉴얼 × 1부"].map((E,K)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),a.jsx("span",{className:"text-gray-600",children:E})]},K))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"선택 구성품"}),a.jsx("ul",{className:"space-y-2",children:["브레이크 키트","보호 커버","교체용 휠","추가 고정 볼트","전용 윤활유"].map((E,K)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-2"}),a.jsx("span",{className:"text-gray-600",children:E})]},K))})]})]})]})})}),a.jsx(Rs,{value:"usage",className:"mt-6",children:a.jsx(Ae,{className:"border-0 shadow-sm",children:a.jsxs(Ee,{className:"p-8",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"사용법"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"설치 방법"}),a.jsxs("ol",{className:"space-y-2 text-gray-600",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold mt-0.5",children:"1"}),a.jsx("span",{children:"장비 하단의 설치 위치를 확인하고 청소합니다."})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold mt-0.5",children:"2"}),a.jsx("span",{children:"캐스터 플레이트를 설치 위치에 맞춰 정렬합니다."})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold mt-0.5",children:"3"}),a.jsx("span",{children:"제공된 볼트와 와셔를 사용하여 고정합니다."})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold mt-0.5",children:"4"}),a.jsx("span",{children:"육각 렌치를 사용하여 적절한 토크로 조립합니다."})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold mt-0.5",children:"5"}),a.jsx("span",{children:"설치 완료 후 회전 및 이동이 원활한지 확인합니다."})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"유지보수"}),a.jsxs("ul",{className:"space-y-2 text-gray-600",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),a.jsx("span",{children:"월 1회 베어링 부분에 윤활유를 도포하세요."})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),a.jsx("span",{children:"휠 표면의 이물질을 정기적으로 청소하세요."})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),a.jsx("span",{children:"볼트 체결 상태를 주기적으로 점검하세요."})]})]})]})]})]})})})]})}),a.jsx(Tx,{isOpen:i,onClose:()=>o(!1),productName:h==null?void 0:h.name,productId:h==null?void 0:h.id})]})})}var Vi="Radio",[Ix,xu]=ea(Vi),[Ox,Mx]=Ix(Vi),vu=m.forwardRef((s,e)=>{const{__scopeRadio:t,name:r,checked:n=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=s,[h,f]=m.useState(null),p=Me(e,x=>f(x)),y=m.useRef(!1),g=h?d||!!h.closest("form"):!0;return a.jsxs(Ox,{scope:t,checked:n,disabled:o,children:[a.jsx(ve.button,{type:"button",role:"radio","aria-checked":n,"data-state":ju(n),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:xe(s.onClick,x=>{n||c==null||c(),g&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),g&&a.jsx(_u,{control:h,bubbles:!y.current,name:r,value:l,checked:n,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});vu.displayName=Vi;var bu="RadioIndicator",wu=m.forwardRef((s,e)=>{const{__scopeRadio:t,forceMount:r,...n}=s,i=Mx(bu,t);return a.jsx(_r,{present:r||i.checked,children:a.jsx(ve.span,{"data-state":ju(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})})});wu.displayName=bu;var Dx="RadioBubbleInput",_u=m.forwardRef(({__scopeRadio:s,control:e,checked:t,bubbles:r=!0,...n},i)=>{const o=m.useRef(null),l=Me(o,i),c=Ui(t),d=Jl(e);return m.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==t&&p){const y=new Event("click",{bubbles:r});p.call(u,t),u.dispatchEvent(y)}},[c,t,r]),a.jsx(ve.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:l,style:{...n.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_u.displayName=Dx;function ju(s){return s?"checked":"unchecked"}var Lx=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],an="RadioGroup",[$x,Hb]=ea(an,[Zl,xu]),Nu=Zl(),ku=xu(),[Fx,Ux]=$x(an),Su=m.forwardRef((s,e)=>{const{__scopeRadioGroup:t,name:r,defaultValue:n,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...f}=s,p=Nu(t),y=mi(d),[g,x]=ba({prop:i,defaultProp:n??null,onChange:h,caller:an});return a.jsx(Fx,{scope:t,name:r,required:o,disabled:l,value:g,onValueChange:x,children:a.jsx(Sh,{asChild:!0,...p,orientation:c,dir:y,loop:u,children:a.jsx(ve.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...f,ref:e})})})});Su.displayName=an;var Cu="RadioGroupItem",Au=m.forwardRef((s,e)=>{const{__scopeRadioGroup:t,disabled:r,...n}=s,i=Ux(Cu,t),o=i.disabled||r,l=Nu(t),c=ku(t),d=m.useRef(null),u=Me(e,d),h=i.value===n.value,f=m.useRef(!1);return m.useEffect(()=>{const p=g=>{Lx.includes(g.key)&&(f.current=!0)},y=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),a.jsx(Ch,{asChild:!0,...l,focusable:!o,active:h,children:a.jsx(vu,{disabled:o,required:i.required,checked:h,...c,...n,name:i.name,ref:u,onCheck:()=>i.onValueChange(n.value),onKeyDown:xe(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:xe(n.onFocus,()=>{var p;f.current&&((p=d.current)==null||p.click())})})})});Au.displayName=Cu;var qx="RadioGroupIndicator",Eu=m.forwardRef((s,e)=>{const{__scopeRadioGroup:t,...r}=s,n=ku(t);return a.jsx(wu,{...n,...r,ref:e})});Eu.displayName=qx;var Pu=Su,Tu=Au,Vx=Eu;const si=m.forwardRef(({className:s,...e},t)=>a.jsx(Pu,{className:z("grid gap-2",s),...e,ref:t}));si.displayName=Pu.displayName;const Fr=m.forwardRef(({className:s,...e},t)=>a.jsx(Tu,{ref:t,className:z("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...e,children:a.jsx(Vx,{className:"flex items-center justify-center",children:a.jsx(Wc,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Fr.displayName=Tu.displayName;var nn="Checkbox",[Bx,Gb]=ea(nn),[zx,Bi]=Bx(nn);function Kx(s){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:n,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=s,[f,p]=ba({prop:t,defaultProp:n??!1,onChange:c,caller:nn}),[y,g]=m.useState(null),[x,_]=m.useState(null),w=m.useRef(!1),v=y?!!o||!!y.closest("form"):!0,S={checked:f,disabled:i,setChecked:p,control:y,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:us(n)?!1:n,isFormControl:v,bubbleInput:x,setBubbleInput:_};return a.jsx(zx,{scope:e,...S,children:Wx(h)?h(S):r})}var Ru="CheckboxTrigger",Iu=m.forwardRef(({__scopeCheckbox:s,onKeyDown:e,onClick:t,...r},n)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:y}=Bi(Ru,s),g=Me(n,u),x=m.useRef(c);return m.useEffect(()=>{const _=i==null?void 0:i.form;if(_){const w=()=>h(x.current);return _.addEventListener("reset",w),()=>_.removeEventListener("reset",w)}},[i,h]),a.jsx(ve.button,{type:"button",role:"checkbox","aria-checked":us(c)?"mixed":c,"aria-required":d,"data-state":$u(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:g,onKeyDown:xe(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:xe(t,_=>{h(w=>us(w)?!0:!w),y&&p&&(f.current=_.isPropagationStopped(),f.current||_.stopPropagation())})})});Iu.displayName=Ru;var zi=m.forwardRef((s,e)=>{const{__scopeCheckbox:t,name:r,checked:n,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=s;return a.jsx(Kx,{__scopeCheckbox:t,checked:n,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>a.jsxs(a.Fragment,{children:[a.jsx(Iu,{...h,ref:e,__scopeCheckbox:t}),f&&a.jsx(Lu,{__scopeCheckbox:t})]})})});zi.displayName=nn;var Ou="CheckboxIndicator",Mu=m.forwardRef((s,e)=>{const{__scopeCheckbox:t,forceMount:r,...n}=s,i=Bi(Ou,t);return a.jsx(_r,{present:r||us(i.checked)||i.checked===!0,children:a.jsx(ve.span,{"data-state":$u(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e,style:{pointerEvents:"none",...s.style}})})});Mu.displayName=Ou;var Du="CheckboxBubbleInput",Lu=m.forwardRef(({__scopeCheckbox:s,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:f,setBubbleInput:p}=Bi(Du,s),y=Me(t,p),g=Ui(i),x=Jl(r);m.useEffect(()=>{const w=f;if(!w)return;const v=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(v,"checked").set,N=!n.current;if(g!==i&&A){const R=new Event("click",{bubbles:N});w.indeterminate=us(i),A.call(w,us(i)?!1:i),w.dispatchEvent(R)}},[f,g,i,n]);const _=m.useRef(us(i)?!1:i);return a.jsx(ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:l,disabled:c,name:d,value:u,form:h,...e,tabIndex:-1,ref:y,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Lu.displayName=Du;function Wx(s){return typeof s=="function"}function us(s){return s==="indeterminate"}function $u(s){return us(s)?"indeterminate":s?"checked":"unchecked"}const ri=m.forwardRef(({className:s,...e},t)=>a.jsx(zi,{ref:t,className:z("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...e,children:a.jsx(Mu,{className:z("flex items-center justify-center text-current"),children:a.jsx(Ja,{className:"h-4 w-4"})})}));ri.displayName=zi.displayName;class Hx{async createOrder(e){try{const{data:{user:t}}=await ee.auth.getUser(),r=e.items.reduce((d,u)=>d+u.price*u.quantity,0),{data:n,error:i}=await ee.from("orders").insert({user_id:(t==null?void 0:t.id)||null,email:e.email,full_name:e.full_name,phone:e.phone,address:e.address,total_amount:r,status:"pending"}).select().single();if(i)throw i;const o=e.items.map(d=>({order_id:n.id,product_id:d.product_id,product_name:d.name,product_price:d.price,quantity:d.quantity,total_price:d.price*d.quantity})),{data:l,error:c}=await ee.from("order_items").insert(o).select();if(c)throw c;for(const d of e.items){const{data:u}=await ee.from("products").select("stock_quantity").eq("id",d.product_id).single();if(u&&u.stock_quantity>=d.quantity){const{error:h}=await ee.from("products").update({stock_quantity:u.stock_quantity-d.quantity}).eq("id",d.product_id);h&&console.error("재고 업데이트 실패:",h)}}return O({title:"주문이 완료되었습니다",description:`주문번호: ${n.id.slice(0,8)}...`}),{...n,items:l.map(d=>({id:d.id,product_id:d.product_id,product_name:d.product_name,product_price:d.product_price,quantity:d.quantity,total_price:d.total_price}))}}catch(t){throw console.error("주문 생성 실패:",t),O({title:"주문 실패",description:"주문 처리 중 오류가 발생했습니다. 다시 시도해주세요.",variant:"destructive"}),t}}async getOrders(e){try{const{data:{user:t}}=await ee.auth.getUser(),r=e||(t==null?void 0:t.id);if(!r)return[];const{data:n,error:i}=await ee.from("orders").select(`
          *,
          order_items (*)
        `).eq("user_id",r).order("created_at",{ascending:!1});if(i)throw i;return(n==null?void 0:n.map(o=>({...o,items:o.order_items.map(l=>({id:l.id,product_id:l.product_id,product_name:l.product_name,product_price:l.product_price,quantity:l.quantity,total_price:l.total_price}))})))||[]}catch(t){return console.error("주문 목록 조회 실패:",t),[]}}async getOrder(e){try{const{data:t,error:r}=await ee.from("orders").select(`
          *,
          order_items (*)
        `).eq("id",e).single();if(r)throw r;return{...t,items:t.order_items.map(n=>({id:n.id,product_id:n.product_id,product_name:n.product_name,product_price:n.product_price,quantity:n.quantity,total_price:n.total_price}))}}catch(t){return console.error("주문 조회 실패:",t),null}}async updateOrderStatus(e,t){try{const{error:r}=await ee.from("orders").update({status:t}).eq("id",e);if(r)throw r;O({title:"주문 상태 업데이트",description:`주문 상태가 "${t}"로 변경되었습니다.`})}catch(r){console.error("주문 상태 업데이트 실패:",r),O({title:"오류",description:"주문 상태 업데이트 중 오류가 발생했습니다.",variant:"destructive"})}}async cancelOrder(e){try{const t=await this.getOrder(e);if(!t)throw new Error("주문을 찾을 수 없습니다.");await this.updateOrderStatus(e,"cancelled");for(const r of t.items){const{data:n}=await ee.from("products").select("stock_quantity").eq("id",r.product_id).single();if(n){const{error:i}=await ee.from("products").update({stock_quantity:n.stock_quantity+r.quantity}).eq("id",r.product_id);i&&console.error("재고 복원 실패:",i)}}O({title:"주문 취소 완료",description:"주문이 취소되었습니다. 재고가 복원되었습니다."})}catch(t){console.error("주문 취소 실패:",t),O({title:"주문 취소 실패",description:"주문 취소 중 오류가 발생했습니다.",variant:"destructive"})}}}const Fu=new Hx;function Gx(){const s=ic(),{user:e}=ys();return af({mutationFn:t=>Fu.createOrder(t),onSuccess:()=>{s.invalidateQueries({queryKey:["orders",e==null?void 0:e.id]})}})}function Zx(){var w,v,S,A;const s=zt(),{items:e,totalAmount:t,itemsCount:r,clearCart:n}=xs(),{user:i}=ys(),{mutateAsync:o,isPending:l}=Gx(),[c,d]=m.useState("card"),[u,h]=m.useState("standard"),[f,p]=m.useState({firstName:((v=(w=i==null?void 0:i.user_metadata)==null?void 0:w.full_name)==null?void 0:v.split(" ")[0])||"",lastName:((A=(S=i==null?void 0:i.user_metadata)==null?void 0:S.full_name)==null?void 0:A.split(" ")[1])||"",company:"",phone:"",email:(i==null?void 0:i.email)||"",address:"",addressDetail:"",city:"",postalCode:"",cardNumber:"",expiryDate:"",cvv:"",cardName:"",orderNotes:"",agreeTerms:!1,saveInfo:!1}),y=(N,R)=>{p(Y=>({...Y,[N]:R}))},g=async N=>{if(N.preventDefault(),!f.agreeTerms){O({title:"이용약관 동의 필요",description:"이용약관에 동의해주세요.",variant:"destructive"});return}if(r===0){O({title:"장바구니 비어있음",description:"장바구니에 상품이 없습니다.",variant:"destructive"});return}if(!f.firstName||!f.lastName||!f.email||!f.phone||!f.address){O({title:"필수 정보 누락",description:"모든 필수 정보를 입력해주세요.",variant:"destructive"});return}try{const R=await o({email:f.email,full_name:`${f.firstName} ${f.lastName}`,phone:f.phone,address:`${f.address} ${f.addressDetail} ${f.city} ${f.postalCode}`,items:e});n(),s("/checkout/success",{state:{orderId:R.id,orderTotal:R.total_amount}})}catch(R){console.error("Order processing error:",R),O({title:"주문 처리 실패",description:"주문 처리 중 오류가 발생했습니다. 다시 시도해주세요.",variant:"destructive"})}},x=u==="express"?5e3:0,_=t+x;return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("nav",{className:"mb-8 animate-fade-in-up",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[a.jsx(Q,{to:"/",className:"hover:text-yellow-600 transition-colors",children:"홈"}),a.jsx("span",{children:"/"}),a.jsx(Q,{to:"/products",className:"hover:text-yellow-600 transition-colors",children:"제품"}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-foreground",children:"결제"})]})}),a.jsx(M,{asChild:!0,variant:"ghost",className:"mb-6",children:a.jsxs(Q,{to:"/cart",children:[a.jsx(Bc,{className:"mr-2 h-4 w-4"}),"장바구니로 돌아가기"]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"주문 결제"}),a.jsx("p",{className:"text-muted-foreground",children:"주문 정보를 확인하고 결제를 완료하세요."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 space-y-8",children:a.jsxs("form",{onSubmit:g,className:"space-y-8",children:[a.jsxs(Ae,{children:[a.jsx(lt,{children:a.jsxs(wt,{className:"flex items-center gap-2",children:[a.jsx(Yc,{className:"w-5 h-5 text-yellow-600"}),"배송 정보"]})}),a.jsxs(Ee,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"firstName",children:"성"}),a.jsx(fe,{id:"firstName",value:f.firstName,onChange:N=>y("firstName",N.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"lastName",children:"이름"}),a.jsx(fe,{id:"lastName",value:f.lastName,onChange:N=>y("lastName",N.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"company",children:"회사명 (선택)"}),a.jsx(fe,{id:"company",value:f.company,onChange:N=>y("company",N.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"phone",children:"연락처"}),a.jsx(fe,{id:"phone",type:"tel",value:f.phone,onChange:N=>y("phone",N.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"email",children:"이메일"}),a.jsx(fe,{id:"email",type:"email",value:f.email,onChange:N=>y("email",N.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"address",children:"주소"}),a.jsx(fe,{id:"address",value:f.address,onChange:N=>y("address",N.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"addressDetail",children:"상세 주소"}),a.jsx(fe,{id:"addressDetail",value:f.addressDetail,onChange:N=>y("addressDetail",N.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"city",children:"도시"}),a.jsx(fe,{id:"city",value:f.city,onChange:N=>y("city",N.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"postalCode",children:"우편번호"}),a.jsx(fe,{id:"postalCode",value:f.postalCode,onChange:N=>y("postalCode",N.target.value),required:!0})]})]})]})]}),a.jsxs(Ae,{children:[a.jsx(lt,{children:a.jsx(wt,{children:"배송 방법"})}),a.jsx(Ee,{children:a.jsxs(si,{value:u,onValueChange:h,children:[a.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-lg",children:[a.jsx(Fr,{value:"standard",id:"standard"}),a.jsx(ue,{htmlFor:"standard",className:"flex-1 cursor-pointer",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"일반 배송"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"3-5 영업일"})]}),a.jsx("div",{className:"font-bold",children:"무료"})]})})]}),a.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-lg",children:[a.jsx(Fr,{value:"express",id:"express"}),a.jsx(ue,{htmlFor:"express",className:"flex-1 cursor-pointer",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"특급 배송"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"1-2 영업일"})]}),a.jsx("div",{className:"font-bold",children:"₩5,000"})]})})]})]})})]}),a.jsxs(Ae,{children:[a.jsx(lt,{children:a.jsxs(wt,{className:"flex items-center gap-2",children:[a.jsx(Lo,{className:"w-5 h-5 text-yellow-600"}),"결제 방법"]})}),a.jsxs(Ee,{children:[a.jsxs(si,{value:c,onValueChange:d,children:[a.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-lg",children:[a.jsx(Fr,{value:"card",id:"card"}),a.jsx(ue,{htmlFor:"card",className:"flex-1 cursor-pointer",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lo,{className:"w-4 h-4"}),a.jsx("span",{children:"신용카드"})]})})]}),a.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-lg",children:[a.jsx(Fr,{value:"bank",id:"bank"}),a.jsx(ue,{htmlFor:"bank",className:"flex-1 cursor-pointer",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hn,{className:"w-4 h-4"}),a.jsx("span",{children:"무통장 입금"})]})})]})]}),c==="card"&&a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"cardNumber",children:"카드 번호"}),a.jsx(fe,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:f.cardNumber,onChange:N=>y("cardNumber",N.target.value),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"expiryDate",children:"만료일"}),a.jsx(fe,{id:"expiryDate",placeholder:"MM/YY",value:f.expiryDate,onChange:N=>y("expiryDate",N.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"cvv",children:"CVV"}),a.jsx(fe,{id:"cvv",placeholder:"123",value:f.cvv,onChange:N=>y("cvv",N.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"cardName",children:"카드 소유자명"}),a.jsx(fe,{id:"cardName",value:f.cardName,onChange:N=>y("cardName",N.target.value),required:!0})]})]})]})]}),a.jsx(Ae,{children:a.jsx(Ee,{className:"pt-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ri,{id:"saveInfo",checked:f.saveInfo,onCheckedChange:N=>y("saveInfo",N)}),a.jsx(ue,{htmlFor:"saveInfo",className:"text-sm",children:"다음 주문을 위해 정보 저장"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ri,{id:"agreeTerms",checked:f.agreeTerms,onCheckedChange:N=>y("agreeTerms",N),required:!0}),a.jsxs(ue,{htmlFor:"agreeTerms",className:"text-sm",children:[a.jsx(Q,{to:"/terms",className:"text-yellow-600 hover:underline",children:"이용약관"}),"에 동의합니다"]})]})]})})})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs(Ae,{className:"sticky top-8",children:[a.jsx(lt,{children:a.jsx(wt,{children:"주문 요약"})}),a.jsxs(Ee,{className:"space-y-4",children:[a.jsx("div",{className:"space-y-3",children:(e==null?void 0:e.map(N=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-sm",children:N.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["수량: ",N.quantity]})]}),a.jsxs("div",{className:"text-sm font-medium",children:["₩",(N.price*N.quantity).toLocaleString()]})]},N.id)))||a.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"장바구니가 비어있습니다"})}),a.jsx(Ut,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"소계"}),a.jsxs("span",{children:["₩",t.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"배송비"}),a.jsx("span",{children:x>0?`₩${x.toLocaleString()}`:"무료"})]}),a.jsx(Ut,{}),a.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"총계"}),a.jsxs("span",{children:["₩",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[a.jsx(Ti,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-xs text-green-700",children:"SSL 보안 결제"})]}),a.jsxs(M,{type:"submit",className:"w-full bg-yellow-400 hover:bg-yellow-500 text-gray-900",disabled:!f.agreeTerms||r===0||l,onClick:g,children:[a.jsx(Kc,{className:"w-4 h-4 mr-2"}),l?"주문 처리 중...":`주문 완료 (₩${_.toLocaleString()})`]})]})]})})]})]})})}class Jx{constructor(){Gs(this,"tossPayments",null);Gs(this,"clientKey");Gs(this,"secretKey");this.clientKey="",this.secretKey="",this.clientKey||console.error("❌ VITE_TOSS_CLIENT_KEY가 설정되지 않았습니다.")}async initialize(){try{if(!this.clientKey)throw new Error("Toss Payments client key가 설정되지 않았습니다.");console.warn("Toss Payments SDK temporarily disabled"),console.log("✅ Toss Payments SDK 초기화 완료")}catch(e){throw console.error("❌ Toss Payments SDK 초기화 실패:",e),e}}async preparePayment(e){try{const{data:{user:t}}=await ee.auth.getUser(),{error:r}=await ee.from("payments").insert({order_id:e.orderId,user_id:(t==null?void 0:t.id)||null,amount:e.amount,status:"PENDING",customer_email:e.customerEmail,customer_name:e.customerName,customer_phone:e.customerMobilePhone,created_at:new Date().toISOString()});if(r)throw r;console.log("✅ 결제 정보 저장 완료:",e.orderId)}catch(t){throw console.error("❌ 결제 준비 실패:",t),t}}async requestPayment(e){try{this.tossPayments||await this.initialize(),await this.preparePayment(e);const t=e.successUrl||`${window.location.origin}/payment/success`,r=e.failUrl||`${window.location.origin}/payment/fail`;await this.tossPayments.requestPayment("카드",{amount:e.amount,orderId:e.orderId,orderName:e.orderName,customerName:e.customerName,customerEmail:e.customerEmail,customerMobilePhone:e.customerMobilePhone,successUrl:t,failUrl:r})}catch(t){throw console.error("❌ 결제 요청 실패:",t),await this.updatePaymentStatus(e.orderId,"FAILED"),O({title:"결제 실패",description:"결제 요청 중 오류가 발생했습니다. 다시 시도해주세요.",variant:"destructive"}),t}}async confirmPayment(e,t,r){try{const n=await fetch("https://api.tosspayments.com/v1/payments/confirm",{method:"POST",headers:{Authorization:`Basic ${btoa(this.secretKey+":")}`,"Content-Type":"application/json"},body:JSON.stringify({paymentKey:e,orderId:t,amount:r})});if(!n.ok){const o=await n.json();throw new Error(`결제 승인 실패: ${o.message}`)}const i=await n.json();return await this.updatePaymentStatus(t,"COMPLETED",e,i),await this.updateOrderStatus(t,"confirmed"),O({title:"결제 완료",description:`결제가 성공적으로 완료되었습니다. (결제키: ${e.slice(0,8)}...)`}),i}catch(n){throw console.error("❌ 결제 승인 실패:",n),await this.updatePaymentStatus(t,"FAILED"),O({title:"결제 승인 실패",description:"결제 승인 중 오류가 발생했습니다.",variant:"destructive"}),n}}async cancelPayment(e,t,r){try{const n=await fetch(`https://api.tosspayments.com/v1/payments/${e}/cancel`,{method:"POST",headers:{Authorization:`Basic ${btoa(this.secretKey+":")}`,"Content-Type":"application/json"},body:JSON.stringify({cancelReason:t,...r&&{cancelAmount:r}})});if(!n.ok){const o=await n.json();throw new Error(`결제 취소 실패: ${o.message}`)}const i=await n.json();await this.updatePaymentStatus(i.orderId,"CANCELLED",e,i),O({title:"결제 취소 완료",description:"결제가 성공적으로 취소되었습니다."})}catch(n){throw console.error("❌ 결제 취소 실패:",n),O({title:"결제 취소 실패",description:"결제 취소 중 오류가 발생했습니다.",variant:"destructive"}),n}}async getPayment(e){try{const t=await fetch(`https://api.tosspayments.com/v1/payments/${e}`,{method:"GET",headers:{Authorization:`Basic ${btoa(this.secretKey+":")}`}});if(!t.ok){const r=await t.json();throw new Error(`결제 정보 조회 실패: ${r.message}`)}return await t.json()}catch(t){throw console.error("❌ 결제 정보 조회 실패:",t),t}}async getPaymentByOrderId(e){try{const{data:t,error:r}=await ee.from("payments").select("*").eq("order_id",e).single();if(r)throw r;return t}catch(t){return console.error("❌ 결제 내역 조회 실패:",t),null}}async updatePaymentStatus(e,t,r,n){try{const i={status:t,updated_at:new Date().toISOString()};r&&(i.toss_payment_key=r),n&&(i.payment_data=n,i.method=n.method,i.approved_at=n.approvedAt);const{error:o}=await ee.from("payments").update(i).eq("order_id",e);if(o)throw o}catch(i){console.error("❌ 결제 상태 업데이트 실패:",i)}}async updateOrderStatus(e,t){try{const{error:r}=await ee.from("orders").update({status:t}).eq("id",e);if(r)throw r}catch(r){console.error("❌ 주문 상태 업데이트 실패:",r)}}generateOrderName(e){if(e.length===0)return"상품";const t=e[0];return e.length===1?t.name:`${t.name} 외 ${e.length-1}건`}generateOrderId(){const e=Date.now(),t=Math.random().toString(36).substring(2,8);return`ORDER_${e}_${t}`}}const ks=new Jx;function Qx(){const[s,e]=m.useState({loading:!1,processing:!1,error:null,paymentResult:null}),{clearCart:t}=xs(),r=m.useCallback(async()=>{try{e(h=>({...h,loading:!0,error:null})),await ks.initialize(),e(h=>({...h,loading:!1}))}catch(h){const f=h instanceof Error?h.message:"결제 초기화에 실패했습니다.";throw e(p=>({...p,loading:!1,error:f})),h}},[]),n=m.useCallback(async h=>{try{e(x=>({...x,processing:!0,error:null}));const f=await Fu.createOrder({email:h.customerEmail,full_name:h.customerName,phone:h.customerPhone,address:h.address,items:h.items}),p=h.items.reduce((x,_)=>x+_.price*_.quantity,0),y=ks.generateOrderName(h.items),g={amount:p,orderId:f.id,orderName:y,customerEmail:h.customerEmail,customerName:h.customerName,customerMobilePhone:h.customerPhone,successUrl:`${window.location.origin}/payment/success`,failUrl:`${window.location.origin}/payment/fail`};return await ks.requestPayment(g),e(x=>({...x,processing:!1})),f}catch(f){const p=f instanceof Error?f.message:"결제 요청에 실패했습니다.";throw e(y=>({...y,processing:!1,error:p})),O({title:"결제 실패",description:p,variant:"destructive"}),f}},[]),i=m.useCallback(async(h,f,p)=>{try{e(g=>({...g,processing:!0,error:null}));const y=await ks.confirmPayment(h,f,p);return await t(),e(g=>({...g,processing:!1,paymentResult:y})),y}catch(y){const g=y instanceof Error?y.message:"결제 승인에 실패했습니다.";throw e(x=>({...x,processing:!1,error:g})),y}},[t]),o=m.useCallback(async(h,f)=>{try{e(p=>({...p,processing:!0,error:null})),await ks.cancelPayment(h,f),e(p=>({...p,processing:!1})),O({title:"결제 취소 완료",description:"결제가 성공적으로 취소되었습니다."})}catch(p){const y=p instanceof Error?p.message:"결제 취소에 실패했습니다.";throw e(g=>({...g,processing:!1,error:y})),O({title:"결제 취소 실패",description:y,variant:"destructive"}),p}},[]),l=m.useCallback(async h=>{try{e(p=>({...p,loading:!0,error:null}));const f=await ks.getPayment(h);return e(p=>({...p,loading:!1,paymentResult:f})),f}catch(f){const p=f instanceof Error?f.message:"결제 정보 조회에 실패했습니다.";throw e(y=>({...y,loading:!1,error:p})),f}},[]),c=m.useCallback(async h=>{try{e(p=>({...p,loading:!0,error:null}));const f=await ks.getPaymentByOrderId(h);return e(p=>({...p,loading:!1})),f}catch(f){const p=f instanceof Error?f.message:"결제 내역 조회에 실패했습니다.";throw e(y=>({...y,loading:!1,error:p})),f}},[]),d=m.useCallback(()=>{e(h=>({...h,error:null}))},[]),u=m.useCallback(()=>{e(h=>({...h,paymentResult:null}))},[]);return{loading:s.loading,processing:s.processing,error:s.error,paymentResult:s.paymentResult,initializePayment:r,requestPayment:n,confirmPayment:i,cancelPayment:o,getPayment:l,getPaymentByOrderId:c,clearError:d,clearPaymentResult:u}}function Yx(){const s=zt(),[e]=jr(),{confirmPayment:t,paymentResult:r,processing:n,error:i}=Qx(),[o,l]=m.useState(!1),c=e.get("paymentKey"),d=e.get("orderId"),u=e.get("amount");return m.useEffect(()=>{(async()=>{if(!(!c||!d||!u||o))try{await t(c,d,parseInt(u)),l(!0)}catch(f){console.error("결제 승인 실패:",f),s("/payment/fail",{state:{error:"결제 승인에 실패했습니다. 고객센터로 문의해주세요.",orderId:d,paymentKey:c}})}})()},[c,d,u,o,t,s]),n||!o?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"결제 승인 중..."}),a.jsx("p",{className:"text-gray-600",children:"결제를 승인하고 있습니다. 잠시만 기다려주세요."}),a.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"이 페이지를 새로고침하거나 닫지 마세요."})]})}):i||!r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[a.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xl",children:"!"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"결제 처리 오류"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"결제 처리 중 오류가 발생했습니다."}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-600 text-sm",children:i})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(M,{onClick:()=>s("/support"),className:"w-full",children:"고객센터 문의"}),a.jsx(M,{variant:"outline",onClick:()=>s("/"),className:"w-full",children:"홈으로 돌아가기"})]})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"container mx-auto px-4 py-12",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Kc,{className:"w-12 h-12 text-green-600"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"결제가 완료되었습니다!"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"주문이 성공적으로 처리되었습니다. 감사합니다."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(Ae,{children:[a.jsx(lt,{children:a.jsxs(wt,{className:"flex items-center gap-2",children:[a.jsx(Hn,{className:"w-5 h-5 text-blue-600"}),"주문 정보"]})}),a.jsxs(Ee,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"주문번호"}),a.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:r.orderId})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"결제금액"}),a.jsxs("span",{className:"font-bold text-lg",children:["₩",r.totalAmount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"결제방법"}),a.jsx(_t,{variant:"outline",children:r.method})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"결제일시"}),a.jsx("span",{className:"text-sm",children:new Date(r.approvedAt).toLocaleString("ko-KR")})]}),a.jsx(Ut,{}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"배송 안내"}),a.jsx("p",{className:"text-blue-700 text-sm",children:"주문 확인 후 2-3일 내 배송 준비가 완료됩니다. 배송 정보는 이메일과 SMS로 안내드립니다."})]})]})]}),a.jsxs(Ae,{children:[a.jsx(lt,{children:a.jsx(wt,{children:"다음 단계"})}),a.jsxs(Ee,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:a.jsx("span",{className:"text-blue-600 text-sm font-bold",children:"1"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"주문 확인"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"주문 내역을 검토하고 배송 준비를 시작합니다."})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:a.jsx("span",{className:"text-yellow-600 text-sm font-bold",children:"2"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"배송 준비"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"제품을 포장하고 배송을 위한 준비를 합니다."})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:a.jsx("span",{className:"text-green-600 text-sm font-bold",children:"3"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"배송 시작"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"택배사를 통해 고객님께 배송을 시작합니다."})]})]})]}),a.jsx(Ut,{}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"고객 지원"}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"주문과 관련하여 문의사항이 있으시면 언제든 연락주세요."}),a.jsx(M,{variant:"outline",size:"sm",onClick:()=>s("/support"),children:"고객센터 문의"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[a.jsxs(M,{onClick:()=>s("/orders"),className:"flex-1",children:[a.jsx(Hn,{className:"w-4 h-4 mr-2"}),"주문 내역 보기"]}),a.jsxs(M,{variant:"outline",onClick:()=>s("/products"),className:"flex-1",children:[a.jsx(fs,{className:"w-4 h-4 mr-2"}),"쇼핑 계속하기"]}),a.jsxs(M,{variant:"outline",onClick:()=>s("/"),className:"flex-1",children:[a.jsx(Pi,{className:"w-4 h-4 mr-2"}),"홈으로 가기"]})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>{alert("영수증 다운로드 기능은 추후 구현됩니다.")},children:[a.jsx(Ag,{className:"w-4 h-4 mr-2"}),"영수증 다운로드"]})})]})})})}function Xx(){const s=zt(),[e]=jr(),t=yi(),r=e.get("code"),n=e.get("message"),i=e.get("orderId"),o=t.state,l={code:r||(o==null?void 0:o.code)||"UNKNOWN_ERROR",message:n||(o==null?void 0:o.message)||(o==null?void 0:o.error)||"알 수 없는 오류가 발생했습니다.",orderId:i||(o==null?void 0:o.orderId),paymentKey:o==null?void 0:o.paymentKey},d=((x,_)=>({PAY_PROCESS_CANCELED:"사용자가 결제를 취소했습니다.",PAY_PROCESS_ABORTED:"결제 진행 중 오류로 중단되었습니다.",REJECT_CARD_COMPANY:"카드사에서 결제를 거절했습니다.",INVALID_CARD_COMPANY:"유효하지 않은 카드입니다.",NOT_SUPPORTED_INSTALLMENT:"지원하지 않는 할부 개월수입니다.",EXCEED_MAX_DAILY_PAYMENT_COUNT:"일일 결제 한도를 초과했습니다.",EXCEED_MAX_PAYMENT_AMOUNT:"결제 금액 한도를 초과했습니다.",EXCEED_MAX_DAILY_PAYMENT_AMOUNT:"일일 결제 금액 한도를 초과했습니다.",NOT_FOUND_TERMINAL_ID:"단말기 정보를 찾을 수 없습니다.",INVALID_AUTHORIZE_AUTH:"유효하지 않은 인증입니다.",UNAUTHORIZED_KEY:"인증되지 않은 키입니다.",REJECT_TOSSPAYMENTS:"토스페이먼츠에서 거절했습니다.",FORBIDDEN_REQUEST:"허용되지 않은 요청입니다.",INVALID_API_PERIOD:"API 사용 기간이 만료되었습니다.",NEED_CARD_COMPANY_APPROVAL:"카드사 승인이 필요합니다.",INVALID_REQUEST:"잘못된 요청입니다.",NOT_ALLOWED_POINT_USE:"포인트 사용이 불가합니다.",INVALID_CARD_INSTALLMENT:"유효하지 않은 할부 개월수입니다.",NOT_SUPPORTED_MONTHLY_INSTALLMENT:"지원하지 않는 할부 개월수입니다.",EXCEED_MAX_CARD_INSTALLMENT:"최대 할부 개월수를 초과했습니다.",INVALID_STOPPED_CARD:"정지된 카드입니다.",INVALID_EXPIRED_CARD:"만료된 카드입니다.",INVALID_TO_DEPOSIT_VIRTUAL_ACCOUNT:"가상계좌 입금이 불가합니다."})[x]||_)(l.code,l.message),h=(x=>{const _=["PAY_PROCESS_CANCELED"],w=["REJECT_CARD_COMPANY","INVALID_CARD_COMPANY","INVALID_STOPPED_CARD","INVALID_EXPIRED_CARD"],v=["EXCEED_MAX_DAILY_PAYMENT_COUNT","EXCEED_MAX_PAYMENT_AMOUNT","EXCEED_MAX_DAILY_PAYMENT_AMOUNT"];return _.includes(x)?"cancel":w.includes(x)?"card":v.includes(x)?"limit":"error"})(l.code),p=((x,_)=>{switch(x){case"cancel":return"결제를 다시 시도하거나 다른 결제 수단을 선택해보세요.";case"card":return"다른 카드를 사용하거나 카드 발급사에 문의해보세요.";case"limit":return"결제 한도를 확인하고 다음날 다시 시도하거나 다른 결제 수단을 이용해보세요.";default:return"잠시 후 다시 시도하거나 고객센터에 문의해주세요."}})(h),g=(x=>{switch(x){case"cancel":return{bg:"bg-yellow-100",icon:"text-yellow-600",border:"border-yellow-200"};case"card":case"limit":return{bg:"bg-orange-100",icon:"text-orange-600",border:"border-orange-200"};default:return{bg:"bg-red-100",icon:"text-red-600",border:"border-red-200"}}})(h);return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"container mx-auto px-4 py-12",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:`w-24 h-24 ${g.bg} rounded-full flex items-center justify-center mx-auto mb-6`,children:a.jsx(kg,{className:`w-12 h-12 ${g.icon}`})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:h==="cancel"?"결제가 취소되었습니다":"결제에 실패했습니다"}),a.jsx("p",{className:"text-gray-600 text-lg",children:d})]}),a.jsxs(Ae,{className:"mb-8",children:[a.jsx(lt,{children:a.jsx(wt,{children:"오류 상세 정보"})}),a.jsxs(Ee,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"오류 코드"}),a.jsx(_t,{variant:"outline",className:"font-mono",children:l.code})]}),l.orderId&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"주문번호"}),a.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:l.orderId})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"발생 시각"}),a.jsx("span",{className:"text-sm",children:new Date().toLocaleString("ko-KR")})]}),a.jsxs("div",{className:`p-4 ${g.bg} ${g.border} border rounded-lg`,children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"해결 방법"}),a.jsx("p",{className:"text-gray-700 text-sm",children:p})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs(M,{onClick:()=>s("/checkout"),className:"w-full",children:[a.jsx(zr,{className:"w-4 h-4 mr-2"}),"다시 결제하기"]}),a.jsxs(M,{variant:"outline",onClick:()=>s("/cart"),className:"w-full",children:[a.jsx(Bc,{className:"w-4 h-4 mr-2"}),"장바구니로 돌아가기"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs(M,{variant:"outline",onClick:()=>s("/support"),className:"w-full",children:[a.jsx(As,{className:"w-4 h-4 mr-2"}),"고객센터 문의"]}),a.jsxs(M,{variant:"ghost",onClick:()=>s("/"),className:"w-full",children:[a.jsx(Pi,{className:"w-4 h-4 mr-2"}),"홈으로 가기"]})]})]}),a.jsxs(Ae,{className:"mt-8",children:[a.jsx(lt,{children:a.jsx(wt,{children:"고객 지원"})}),a.jsx(Ee,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"문제가 지속되거나 추가 도움이 필요하시면 고객센터로 연락주세요."}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"연락처 정보"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"전화:"})," 1588-1234"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"이메일:"})," support@jpcaster.com"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"운영시간:"})," 평일 09:00 - 18:00"]})]})]}),l.orderId&&a.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:a.jsxs("p",{className:"text-blue-700 text-sm",children:[a.jsx("strong",{children:"문의 시 참고 정보:"}),a.jsx("br",{}),"주문번호: ",l.orderId,a.jsx("br",{}),"오류코드: ",l.code]})})]})})]})]})})})}function ev(){const s=zt(),[e]=jr(),[t,r]=m.useState("loading"),[n,i]=m.useState("");return m.useEffect(()=>{(async()=>{try{const{data:l,error:c}=await ee.auth.getSession();if(c)throw console.error("Auth callback error:",c),c;if(l.session)r("success"),i("로그인이 완료되었습니다."),O({title:"로그인 성공",description:"소셜 로그인이 완료되었습니다."}),setTimeout(()=>{s("/",{replace:!0})},2e3);else throw new Error("인증 세션이 생성되지 않았습니다.")}catch(l){console.error("Auth callback failed:",l),r("error"),i(l.message||"로그인 처리 중 오류가 발생했습니다."),O({title:"로그인 실패",description:l.message||"로그인 처리 중 오류가 발생했습니다.",variant:"destructive"}),setTimeout(()=>{s("/auth",{replace:!0})},3e3)}})()},[s,e]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8",children:a.jsxs("div",{className:"text-center",children:[t==="loading"&&a.jsxs(a.Fragment,{children:[a.jsx(ot,{className:"mx-auto h-12 w-12 animate-spin text-blue-600 mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"로그인 처리 중..."}),a.jsx("p",{className:"text-gray-600",children:"잠시만 기다려주세요."})]}),t==="success"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mx-auto h-12 w-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:a.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"로그인 성공!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:n}),a.jsx("p",{className:"text-sm text-gray-500",children:"메인 페이지로 이동합니다..."})]}),t==="error"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mx-auto h-12 w-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:a.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"로그인 실패"}),a.jsx("p",{className:"text-gray-600 mb-4",children:n}),a.jsx("p",{className:"text-sm text-gray-500",children:"로그인 페이지로 이동합니다..."})]})]})})})}function tv(){zt();const[s]=jr();return m.useEffect(()=>{(async()=>{var t,r,n;try{const i=s.get("code"),o=s.get("state"),l=s.get("error"),c=s.get("error_description");if(l){(t=window.opener)==null||t.postMessage({type:"NAVER_LOGIN_ERROR",error:c||l},window.location.origin),window.close();return}if(i&&o)(r=window.opener)==null||r.postMessage({type:"NAVER_LOGIN_SUCCESS",code:i,state:o},window.location.origin),window.close();else throw new Error("인증 코드를 받지 못했습니다.")}catch(i){console.error("Naver callback error:",i),(n=window.opener)==null||n.postMessage({type:"NAVER_LOGIN_ERROR",error:i.message||"네이버 로그인 처리 중 오류가 발생했습니다."},window.location.origin),window.close()}})()},[s]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ot,{className:"mx-auto h-12 w-12 animate-spin text-blue-600 mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"네이버 로그인 처리 중..."}),a.jsx("p",{className:"text-gray-600",children:"잠시만 기다려주세요."})]})})}var la=s=>s.type==="checkbox",Is=s=>s instanceof Date,Je=s=>s==null;const Uu=s=>typeof s=="object";var Oe=s=>!Je(s)&&!Array.isArray(s)&&Uu(s)&&!Is(s),qu=s=>Oe(s)&&s.target?la(s.target)?s.target.checked:s.target.value:s,sv=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,Vu=(s,e)=>s.has(sv(e)),rv=s=>{const e=s.constructor&&s.constructor.prototype;return Oe(e)&&e.hasOwnProperty("isPrototypeOf")},Ki=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fe(s){let e;const t=Array.isArray(s),r=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)e=new Date(s);else if(!(Ki&&(s instanceof Blob||r))&&(t||Oe(s)))if(e=t?[]:Object.create(Object.getPrototypeOf(s)),!t&&!rv(s))e=s;else for(const n in s)s.hasOwnProperty(n)&&(e[n]=Fe(s[n]));else return s;return e}var on=s=>/^\w*$/.test(s),Ie=s=>s===void 0,Wi=s=>Array.isArray(s)?s.filter(Boolean):[],Hi=s=>Wi(s.replace(/["|']|\]/g,"").split(/\.|\[/)),L=(s,e,t)=>{if(!e||!Oe(s))return t;const r=(on(e)?[e]:Hi(e)).reduce((n,i)=>Je(n)?n:n[i],s);return Ie(r)||r===s?Ie(s[e])?t:s[e]:r},tt=s=>typeof s=="boolean",ye=(s,e,t)=>{let r=-1;const n=on(e)?[e]:Hi(e),i=n.length,o=i-1;for(;++r<i;){const l=n[r];let c=t;if(r!==o){const d=s[l];c=Oe(d)||Array.isArray(d)?d:isNaN(+n[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;s[l]=c,s=s[l]}};const Aa={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Rt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Gi=G.createContext(null);Gi.displayName="HookFormContext";const ln=()=>G.useContext(Gi),av=s=>{const{children:e,...t}=s;return G.createElement(Gi.Provider,{value:t},e)};var Bu=(s,e,t,r=!0)=>{const n={defaultValues:e._defaultValues};for(const i in s)Object.defineProperty(n,i,{get:()=>{const o=i;return e._proxyFormState[o]!==vt.all&&(e._proxyFormState[o]=!r||vt.all),t&&(t[o]=!0),s[o]}});return n};const Zi=typeof window<"u"?G.useLayoutEffect:G.useEffect;function nv(s){const e=ln(),{control:t=e.control,disabled:r,name:n,exact:i}=s||{},[o,l]=G.useState(t._formState),c=G.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Zi(()=>t._subscribe({name:n,formState:c.current,exact:i,callback:d=>{!r&&l({...t._formState,...d})}}),[n,r,i]),G.useEffect(()=>{c.current.isValid&&t._setValid(!0)},[t]),G.useMemo(()=>Bu(o,t,c.current,!1),[o,t])}var Ct=s=>typeof s=="string",zu=(s,e,t,r,n)=>Ct(s)?(r&&e.watch.add(s),L(t,s,n)):Array.isArray(s)?s.map(i=>(r&&e.watch.add(i),L(t,i))):(r&&(e.watchAll=!0),t),ai=s=>Je(s)||!Uu(s);function Ft(s,e,t=new WeakSet){if(ai(s)||ai(e))return s===e;if(Is(s)&&Is(e))return s.getTime()===e.getTime();const r=Object.keys(s),n=Object.keys(e);if(r.length!==n.length)return!1;if(t.has(s)||t.has(e))return!0;t.add(s),t.add(e);for(const i of r){const o=s[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Is(o)&&Is(l)||Oe(o)&&Oe(l)||Array.isArray(o)&&Array.isArray(l)?!Ft(o,l,t):o!==l)return!1}}return!0}function iv(s){const e=ln(),{control:t=e.control,name:r,defaultValue:n,disabled:i,exact:o,compute:l}=s||{},c=G.useRef(n),d=G.useRef(l),u=G.useRef(void 0);d.current=l;const h=G.useMemo(()=>t._getWatch(r,c.current),[t,r]),[f,p]=G.useState(d.current?d.current(h):h);return Zi(()=>t._subscribe({name:r,formState:{values:!0},exact:o,callback:y=>{if(!i){const g=zu(r,t._names,y.values||t._formValues,!1,c.current);if(d.current){const x=d.current(g);Ft(x,u.current)||(p(x),u.current=x)}else p(g)}}}),[t,i,r,o]),G.useEffect(()=>t._removeUnmounted()),f}function ov(s){const e=ln(),{name:t,disabled:r,control:n=e.control,shouldUnregister:i,defaultValue:o}=s,l=Vu(n._names.array,t),c=G.useMemo(()=>L(n._formValues,t,L(n._defaultValues,t,o)),[n,t,o]),d=iv({control:n,name:t,defaultValue:c,exact:!0}),u=nv({control:n,name:t,exact:!0}),h=G.useRef(s),f=G.useRef(n.register(t,{...s.rules,value:d,...tt(s.disabled)?{disabled:s.disabled}:{}}));h.current=s;const p=G.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!L(u.errors,t)},isDirty:{enumerable:!0,get:()=>!!L(u.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!L(u.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!L(u.validatingFields,t)},error:{enumerable:!0,get:()=>L(u.errors,t)}}),[u,t]),y=G.useCallback(w=>f.current.onChange({target:{value:qu(w),name:t},type:Aa.CHANGE}),[t]),g=G.useCallback(()=>f.current.onBlur({target:{value:L(n._formValues,t),name:t},type:Aa.BLUR}),[t,n._formValues]),x=G.useCallback(w=>{const v=L(n._fields,t);v&&w&&(v._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:S=>w.setCustomValidity(S),reportValidity:()=>w.reportValidity()})},[n._fields,t]),_=G.useMemo(()=>({name:t,value:d,...tt(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:y,onBlur:g,ref:x}),[t,r,u.disabled,y,g,x,d]);return G.useEffect(()=>{const w=n._options.shouldUnregister||i;n.register(t,{...h.current.rules,...tt(h.current.disabled)?{disabled:h.current.disabled}:{}});const v=(S,A)=>{const N=L(n._fields,S);N&&N._f&&(N._f.mount=A)};if(v(t,!0),w){const S=Fe(L(n._options.defaultValues,t));ye(n._defaultValues,t,S),Ie(L(n._formValues,t))&&ye(n._formValues,t,S)}return!l&&n.register(t),()=>{(l?w&&!n._state.action:w)?n.unregister(t):v(t,!1)}},[t,n,l,i]),G.useEffect(()=>{n._setDisabledField({disabled:r,name:t})},[r,t,n]),G.useMemo(()=>({field:_,formState:u,fieldState:p}),[_,u,p])}const lv=s=>s.render(ov(s));var Ku=(s,e,t,r,n)=>e?{...t[s],types:{...t[s]&&t[s].types?t[s].types:{},[r]:n||!0}}:{},Kr=s=>Array.isArray(s)?s:[s],Vo=()=>{let s=[];return{get observers(){return s},next:n=>{for(const i of s)i.next&&i.next(n)},subscribe:n=>(s.push(n),{unsubscribe:()=>{s=s.filter(i=>i!==n)}}),unsubscribe:()=>{s=[]}}},Xe=s=>Oe(s)&&!Object.keys(s).length,Ji=s=>s.type==="file",bt=s=>typeof s=="function",Ea=s=>{if(!Ki)return!1;const e=s?s.ownerDocument:0;return s instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Wu=s=>s.type==="select-multiple",Qi=s=>s.type==="radio",cv=s=>Qi(s)||la(s),An=s=>Ea(s)&&s.isConnected;function dv(s,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)s=Ie(s)?r++:s[e[r++]];return s}function uv(s){for(const e in s)if(s.hasOwnProperty(e)&&!Ie(s[e]))return!1;return!0}function Le(s,e){const t=Array.isArray(e)?e:on(e)?[e]:Hi(e),r=t.length===1?s:dv(s,t),n=t.length-1,i=t[n];return r&&delete r[i],n!==0&&(Oe(r)&&Xe(r)||Array.isArray(r)&&uv(r))&&Le(s,t.slice(0,-1)),s}var Hu=s=>{for(const e in s)if(bt(s[e]))return!0;return!1};function Pa(s,e={}){const t=Array.isArray(s);if(Oe(s)||t)for(const r in s)Array.isArray(s[r])||Oe(s[r])&&!Hu(s[r])?(e[r]=Array.isArray(s[r])?[]:{},Pa(s[r],e[r])):Je(s[r])||(e[r]=!0);return e}function Gu(s,e,t){const r=Array.isArray(s);if(Oe(s)||r)for(const n in s)Array.isArray(s[n])||Oe(s[n])&&!Hu(s[n])?Ie(e)||ai(t[n])?t[n]=Array.isArray(s[n])?Pa(s[n],[]):{...Pa(s[n])}:Gu(s[n],Je(e)?{}:e[n],t[n]):t[n]=!Ft(s[n],e[n]);return t}var Mr=(s,e)=>Gu(s,e,Pa(e));const Bo={value:!1,isValid:!1},zo={value:!0,isValid:!0};var Zu=s=>{if(Array.isArray(s)){if(s.length>1){const e=s.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!Ie(s[0].attributes.value)?Ie(s[0].value)||s[0].value===""?zo:{value:s[0].value,isValid:!0}:zo:Bo}return Bo},Ju=(s,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Ie(s)?s:e?s===""?NaN:s&&+s:t&&Ct(s)?new Date(s):r?r(s):s;const Ko={isValid:!1,value:null};var Qu=s=>Array.isArray(s)?s.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Ko):Ko;function Wo(s){const e=s.ref;return Ji(e)?e.files:Qi(e)?Qu(s.refs).value:Wu(e)?[...e.selectedOptions].map(({value:t})=>t):la(e)?Zu(s.refs).value:Ju(Ie(e.value)?s.ref.value:e.value,s)}var hv=(s,e,t,r)=>{const n={};for(const i of s){const o=L(e,i);o&&ye(n,i,o._f)}return{criteriaMode:t,names:[...s],fields:n,shouldUseNativeValidation:r}},Ta=s=>s instanceof RegExp,Dr=s=>Ie(s)?s:Ta(s)?s.source:Oe(s)?Ta(s.value)?s.value.source:s.value:s,Ho=s=>({isOnSubmit:!s||s===vt.onSubmit,isOnBlur:s===vt.onBlur,isOnChange:s===vt.onChange,isOnAll:s===vt.all,isOnTouch:s===vt.onTouched});const Go="AsyncFunction";var fv=s=>!!s&&!!s.validate&&!!(bt(s.validate)&&s.validate.constructor.name===Go||Oe(s.validate)&&Object.values(s.validate).find(e=>e.constructor.name===Go)),mv=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),Zo=(s,e,t)=>!t&&(e.watchAll||e.watch.has(s)||[...e.watch].some(r=>s.startsWith(r)&&/^\.\w+/.test(s.slice(r.length))));const Wr=(s,e,t,r)=>{for(const n of t||Object.keys(s)){const i=L(s,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Wr(l,e))break}else if(Oe(l)&&Wr(l,e))break}}};function Jo(s,e,t){const r=L(s,t);if(r||on(t))return{error:r,name:t};const n=t.split(".");for(;n.length;){const i=n.join("."),o=L(e,i),l=L(s,i);if(o&&!Array.isArray(o)&&t!==i)return{name:t};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:t}}var pv=(s,e,t,r)=>{t(s);const{name:n,...i}=s;return Xe(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||vt.all))},gv=(s,e,t)=>!s||!e||s===e||Kr(s).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),yv=(s,e,t,r,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(e||s):(t?r.isOnBlur:n.isOnBlur)?!s:(t?r.isOnChange:n.isOnChange)?s:!0,xv=(s,e)=>!Wi(L(s,e)).length&&Le(s,e),vv=(s,e,t)=>{const r=Kr(L(s,t));return ye(r,"root",e[t]),ye(s,t,r),s},va=s=>Ct(s);function Qo(s,e,t="validate"){if(va(s)||Array.isArray(s)&&s.every(va)||tt(s)&&!s)return{type:t,message:va(s)?s:"",ref:e}}var er=s=>Oe(s)&&!Ta(s)?s:{value:s,message:""},Yo=async(s,e,t,r,n,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:p,validate:y,name:g,valueAsNumber:x,mount:_}=s._f,w=L(t,g);if(!_||e.has(g))return{};const v=l?l[0]:o,S=I=>{n&&v.reportValidity&&(v.setCustomValidity(tt(I)?"":I||""),v.reportValidity())},A={},N=Qi(o),R=la(o),Y=N||R,$=(x||Ji(o))&&Ie(o.value)&&Ie(w)||Ea(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,E=Ku.bind(null,g,r,A),K=(I,q,re,le=Rt.maxLength,ae=Rt.minLength)=>{const Z=I?q:re;A[g]={type:I?le:ae,message:Z,ref:o,...E(I?le:ae,Z)}};if(i?!Array.isArray(w)||!w.length:c&&(!Y&&($||Je(w))||tt(w)&&!w||R&&!Zu(l).isValid||N&&!Qu(l).isValid)){const{value:I,message:q}=va(c)?{value:!!c,message:c}:er(c);if(I&&(A[g]={type:Rt.required,message:q,ref:v,...E(Rt.required,q)},!r))return S(q),A}if(!$&&(!Je(h)||!Je(f))){let I,q;const re=er(f),le=er(h);if(!Je(w)&&!isNaN(w)){const ae=o.valueAsNumber||w&&+w;Je(re.value)||(I=ae>re.value),Je(le.value)||(q=ae<le.value)}else{const ae=o.valueAsDate||new Date(w),Z=ht=>new Date(new Date().toDateString()+" "+ht),ke=o.type=="time",Te=o.type=="week";Ct(re.value)&&w&&(I=ke?Z(w)>Z(re.value):Te?w>re.value:ae>new Date(re.value)),Ct(le.value)&&w&&(q=ke?Z(w)<Z(le.value):Te?w<le.value:ae<new Date(le.value))}if((I||q)&&(K(!!I,re.message,le.message,Rt.max,Rt.min),!r))return S(A[g].message),A}if((d||u)&&!$&&(Ct(w)||i&&Array.isArray(w))){const I=er(d),q=er(u),re=!Je(I.value)&&w.length>+I.value,le=!Je(q.value)&&w.length<+q.value;if((re||le)&&(K(re,I.message,q.message),!r))return S(A[g].message),A}if(p&&!$&&Ct(w)){const{value:I,message:q}=er(p);if(Ta(I)&&!w.match(I)&&(A[g]={type:Rt.pattern,message:q,ref:o,...E(Rt.pattern,q)},!r))return S(q),A}if(y){if(bt(y)){const I=await y(w,t),q=Qo(I,v);if(q&&(A[g]={...q,...E(Rt.validate,q.message)},!r))return S(q.message),A}else if(Oe(y)){let I={};for(const q in y){if(!Xe(I)&&!r)break;const re=Qo(await y[q](w,t),v,q);re&&(I={...re,...E(q,re.message)},S(re.message),r&&(A[g]=I))}if(!Xe(I)&&(A[g]={ref:v,...I},!r))return A}}return S(!0),A};const bv={mode:vt.onSubmit,reValidateMode:vt.onChange,shouldFocusError:!0};function wv(s={}){let e={...bv,...s},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:bt(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},n=Oe(e.defaultValues)||Oe(e.values)?Fe(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Fe(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:Vo(),state:Vo()},p=e.criteriaMode===vt.all,y=b=>j=>{clearTimeout(d),d=setTimeout(b,j)},g=async b=>{if(!e.disabled&&(u.isValid||h.isValid||b)){const j=e.resolver?Xe((await R()).errors):await $(r,!0);j!==t.isValid&&f.state.next({isValid:j})}},x=(b,j)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((b||Array.from(l.mount)).forEach(C=>{C&&(j?ye(t.validatingFields,C,j):Le(t.validatingFields,C))}),f.state.next({validatingFields:t.validatingFields,isValidating:!Xe(t.validatingFields)}))},_=(b,j=[],C,U,D=!0,T=!0)=>{if(U&&C&&!e.disabled){if(o.action=!0,T&&Array.isArray(L(r,b))){const H=C(L(r,b),U.argA,U.argB);D&&ye(r,b,H)}if(T&&Array.isArray(L(t.errors,b))){const H=C(L(t.errors,b),U.argA,U.argB);D&&ye(t.errors,b,H),xv(t.errors,b)}if((u.touchedFields||h.touchedFields)&&T&&Array.isArray(L(t.touchedFields,b))){const H=C(L(t.touchedFields,b),U.argA,U.argB);D&&ye(t.touchedFields,b,H)}(u.dirtyFields||h.dirtyFields)&&(t.dirtyFields=Mr(n,i)),f.state.next({name:b,isDirty:K(b,j),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ye(i,b,j)},w=(b,j)=>{ye(t.errors,b,j),f.state.next({errors:t.errors})},v=b=>{t.errors=b,f.state.next({errors:t.errors,isValid:!1})},S=(b,j,C,U)=>{const D=L(r,b);if(D){const T=L(i,b,Ie(C)?L(n,b):C);Ie(T)||U&&U.defaultChecked||j?ye(i,b,j?T:Wo(D._f)):re(b,T),o.mount&&g()}},A=(b,j,C,U,D)=>{let T=!1,H=!1;const pe={name:b};if(!e.disabled){if(!C||U){(u.isDirty||h.isDirty)&&(H=t.isDirty,t.isDirty=pe.isDirty=K(),T=H!==pe.isDirty);const je=Ft(L(n,b),j);H=!!L(t.dirtyFields,b),je?Le(t.dirtyFields,b):ye(t.dirtyFields,b,!0),pe.dirtyFields=t.dirtyFields,T=T||(u.dirtyFields||h.dirtyFields)&&H!==!je}if(C){const je=L(t.touchedFields,b);je||(ye(t.touchedFields,b,C),pe.touchedFields=t.touchedFields,T=T||(u.touchedFields||h.touchedFields)&&je!==C)}T&&D&&f.state.next(pe)}return T?pe:{}},N=(b,j,C,U)=>{const D=L(t.errors,b),T=(u.isValid||h.isValid)&&tt(j)&&t.isValid!==j;if(e.delayError&&C?(c=y(()=>w(b,C)),c(e.delayError)):(clearTimeout(d),c=null,C?ye(t.errors,b,C):Le(t.errors,b)),(C?!Ft(D,C):D)||!Xe(U)||T){const H={...U,...T&&tt(j)?{isValid:j}:{},errors:t.errors,name:b};t={...t,...H},f.state.next(H)}},R=async b=>{x(b,!0);const j=await e.resolver(i,e.context,hv(b||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(b),j},Y=async b=>{const{errors:j}=await R(b);if(b)for(const C of b){const U=L(j,C);U?ye(t.errors,C,U):Le(t.errors,C)}else t.errors=j;return j},$=async(b,j,C={valid:!0})=>{for(const U in b){const D=b[U];if(D){const{_f:T,...H}=D;if(T){const pe=l.array.has(T.name),je=D._f&&fv(D._f);je&&u.validatingFields&&x([U],!0);const rt=await Yo(D,l.disabled,i,p,e.shouldUseNativeValidation&&!j,pe);if(je&&u.validatingFields&&x([U]),rt[T.name]&&(C.valid=!1,j))break;!j&&(L(rt,T.name)?pe?vv(t.errors,rt,T.name):ye(t.errors,T.name,rt[T.name]):Le(t.errors,T.name))}!Xe(H)&&await $(H,j,C)}}return C.valid},E=()=>{for(const b of l.unMount){const j=L(r,b);j&&(j._f.refs?j._f.refs.every(C=>!An(C)):!An(j._f.ref))&&X(b)}l.unMount=new Set},K=(b,j)=>!e.disabled&&(b&&j&&ye(i,b,j),!Ft(ht(),n)),I=(b,j,C)=>zu(b,l,{...o.mount?i:Ie(j)?n:Ct(b)?{[b]:j}:j},C,j),q=b=>Wi(L(o.mount?i:n,b,e.shouldUnregister?L(n,b,[]):[])),re=(b,j,C={})=>{const U=L(r,b);let D=j;if(U){const T=U._f;T&&(!T.disabled&&ye(i,b,Ju(j,T)),D=Ea(T.ref)&&Je(j)?"":j,Wu(T.ref)?[...T.ref.options].forEach(H=>H.selected=D.includes(H.value)):T.refs?la(T.ref)?T.refs.forEach(H=>{(!H.defaultChecked||!H.disabled)&&(Array.isArray(D)?H.checked=!!D.find(pe=>pe===H.value):H.checked=D===H.value||!!D)}):T.refs.forEach(H=>H.checked=H.value===D):Ji(T.ref)?T.ref.value="":(T.ref.value=D,T.ref.type||f.state.next({name:b,values:Fe(i)})))}(C.shouldDirty||C.shouldTouch)&&A(b,D,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&Te(b)},le=(b,j,C)=>{for(const U in j){if(!j.hasOwnProperty(U))return;const D=j[U],T=b+"."+U,H=L(r,T);(l.array.has(b)||Oe(D)||H&&!H._f)&&!Is(D)?le(T,D,C):re(T,D,C)}},ae=(b,j,C={})=>{const U=L(r,b),D=l.array.has(b),T=Fe(j);ye(i,b,T),D?(f.array.next({name:b,values:Fe(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&C.shouldDirty&&f.state.next({name:b,dirtyFields:Mr(n,i),isDirty:K(b,T)})):U&&!U._f&&!Je(T)?le(b,T,C):re(b,T,C),Zo(b,l)&&f.state.next({...t,name:b}),f.state.next({name:o.mount?b:void 0,values:Fe(i)})},Z=async b=>{o.mount=!0;const j=b.target;let C=j.name,U=!0;const D=L(r,C),T=je=>{U=Number.isNaN(je)||Is(je)&&isNaN(je.getTime())||Ft(je,L(i,C,je))},H=Ho(e.mode),pe=Ho(e.reValidateMode);if(D){let je,rt;const ca=j.type?Wo(D._f):qu(b),Wt=b.type===Aa.BLUR||b.type===Aa.FOCUS_OUT,ah=!mv(D._f)&&!e.resolver&&!L(t.errors,C)&&!D._f.deps||yv(Wt,L(t.touchedFields,C),t.isSubmitted,pe,H),dn=Zo(C,l,Wt);ye(i,C,ca),Wt?(!j||!j.readOnly)&&(D._f.onBlur&&D._f.onBlur(b),c&&c(0)):D._f.onChange&&D._f.onChange(b);const un=A(C,ca,Wt),nh=!Xe(un)||dn;if(!Wt&&f.state.next({name:C,type:b.type,values:Fe(i)}),ah)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?Wt&&g():Wt||g()),nh&&f.state.next({name:C,...dn?{}:un});if(!Wt&&dn&&f.state.next({...t}),e.resolver){const{errors:eo}=await R([C]);if(T(ca),U){const ih=Jo(t.errors,r,C),to=Jo(eo,r,ih.name||C);je=to.error,C=to.name,rt=Xe(eo)}}else x([C],!0),je=(await Yo(D,l.disabled,i,p,e.shouldUseNativeValidation))[C],x([C]),T(ca),U&&(je?rt=!1:(u.isValid||h.isValid)&&(rt=await $(r,!0)));U&&(D._f.deps&&Te(D._f.deps),N(C,rt,je,un))}},ke=(b,j)=>{if(L(t.errors,j)&&b.focus)return b.focus(),1},Te=async(b,j={})=>{let C,U;const D=Kr(b);if(e.resolver){const T=await Y(Ie(b)?b:D);C=Xe(T),U=b?!D.some(H=>L(T,H)):C}else b?(U=(await Promise.all(D.map(async T=>{const H=L(r,T);return await $(H&&H._f?{[T]:H}:H)}))).every(Boolean),!(!U&&!t.isValid)&&g()):U=C=await $(r);return f.state.next({...!Ct(b)||(u.isValid||h.isValid)&&C!==t.isValid?{}:{name:b},...e.resolver||!b?{isValid:C}:{},errors:t.errors}),j.shouldFocus&&!U&&Wr(r,ke,b?D:l.mount),U},ht=b=>{const j={...o.mount?i:n};return Ie(b)?j:Ct(b)?L(j,b):b.map(C=>L(j,C))},qe=(b,j)=>({invalid:!!L((j||t).errors,b),isDirty:!!L((j||t).dirtyFields,b),error:L((j||t).errors,b),isValidating:!!L(t.validatingFields,b),isTouched:!!L((j||t).touchedFields,b)}),Er=b=>{b&&Kr(b).forEach(j=>Le(t.errors,j)),f.state.next({errors:b?t.errors:{}})},Ws=(b,j,C)=>{const U=(L(r,b,{_f:{}})._f||{}).ref,D=L(t.errors,b)||{},{ref:T,message:H,type:pe,...je}=D;ye(t.errors,b,{...je,...j,ref:U}),f.state.next({name:b,errors:t.errors,isValid:!1}),C&&C.shouldFocus&&U&&U.focus&&U.focus()},Kt=(b,j)=>bt(b)?f.state.subscribe({next:C=>"values"in C&&b(I(void 0,j),C)}):I(b,j,!0),ws=b=>f.state.subscribe({next:j=>{gv(b.name,j.name,b.exact)&&pv(j,b.formState||u,Tr,b.reRenderRoot)&&b.callback({values:{...i},...t,...j,defaultValues:n})}}).unsubscribe,_s=b=>(o.mount=!0,h={...h,...b.formState},ws({...b,formState:h})),X=(b,j={})=>{for(const C of b?Kr(b):l.mount)l.mount.delete(C),l.array.delete(C),j.keepValue||(Le(r,C),Le(i,C)),!j.keepError&&Le(t.errors,C),!j.keepDirty&&Le(t.dirtyFields,C),!j.keepTouched&&Le(t.touchedFields,C),!j.keepIsValidating&&Le(t.validatingFields,C),!e.shouldUnregister&&!j.keepDefaultValue&&Le(n,C);f.state.next({values:Fe(i)}),f.state.next({...t,...j.keepDirty?{isDirty:K()}:{}}),!j.keepIsValid&&g()},Se=({disabled:b,name:j})=>{(tt(b)&&o.mount||b||l.disabled.has(j))&&(b?l.disabled.add(j):l.disabled.delete(j))},Ve=(b,j={})=>{let C=L(r,b);const U=tt(j.disabled)||tt(e.disabled);return ye(r,b,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:b}},name:b,mount:!0,...j}}),l.mount.add(b),C?Se({disabled:tt(j.disabled)?j.disabled:e.disabled,name:b}):S(b,!0,j.value),{...U?{disabled:j.disabled||e.disabled}:{},...e.progressive?{required:!!j.required,min:Dr(j.min),max:Dr(j.max),minLength:Dr(j.minLength),maxLength:Dr(j.maxLength),pattern:Dr(j.pattern)}:{},name:b,onChange:Z,onBlur:Z,ref:D=>{if(D){Ve(b,j),C=L(r,b);const T=Ie(D.value)&&D.querySelectorAll&&D.querySelectorAll("input,select,textarea")[0]||D,H=cv(T),pe=C._f.refs||[];if(H?pe.find(je=>je===T):T===C._f.ref)return;ye(r,b,{_f:{...C._f,...H?{refs:[...pe.filter(An),T,...Array.isArray(L(n,b))?[{}]:[]],ref:{type:T.type,name:b}}:{ref:T}}}),S(b,!1,void 0,T)}else C=L(r,b,{}),C._f&&(C._f.mount=!1),(e.shouldUnregister||j.shouldUnregister)&&!(Vu(l.array,b)&&o.action)&&l.unMount.add(b)}}},we=()=>e.shouldFocusError&&Wr(r,ke,l.mount),_e=b=>{tt(b)&&(f.state.next({disabled:b}),Wr(r,(j,C)=>{const U=L(r,C);U&&(j.disabled=U._f.disabled||b,Array.isArray(U._f.refs)&&U._f.refs.forEach(D=>{D.disabled=U._f.disabled||b}))},0,!1))},be=(b,j)=>async C=>{let U;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let D=Fe(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:T,values:H}=await R();t.errors=T,D=Fe(H)}else await $(r);if(l.disabled.size)for(const T of l.disabled)Le(D,T);if(Le(t.errors,"root"),Xe(t.errors)){f.state.next({errors:{}});try{await b(D,C)}catch(T){U=T}}else j&&await j({...t.errors},C),we(),setTimeout(we);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xe(t.errors)&&!U,submitCount:t.submitCount+1,errors:t.errors}),U)throw U},Pt=(b,j={})=>{L(r,b)&&(Ie(j.defaultValue)?ae(b,Fe(L(n,b))):(ae(b,j.defaultValue),ye(n,b,Fe(j.defaultValue))),j.keepTouched||Le(t.touchedFields,b),j.keepDirty||(Le(t.dirtyFields,b),t.isDirty=j.defaultValue?K(b,Fe(L(n,b))):K()),j.keepError||(Le(t.errors,b),u.isValid&&g()),f.state.next({...t}))},jt=(b,j={})=>{const C=b?Fe(b):n,U=Fe(C),D=Xe(b),T=D?n:U;if(j.keepDefaultValues||(n=C),!j.keepValues){if(j.keepDirtyValues){const H=new Set([...l.mount,...Object.keys(Mr(n,i))]);for(const pe of Array.from(H))L(t.dirtyFields,pe)?ye(T,pe,L(i,pe)):ae(pe,L(T,pe))}else{if(Ki&&Ie(b))for(const H of l.mount){const pe=L(r,H);if(pe&&pe._f){const je=Array.isArray(pe._f.refs)?pe._f.refs[0]:pe._f.ref;if(Ea(je)){const rt=je.closest("form");if(rt){rt.reset();break}}}}if(j.keepFieldsRef)for(const H of l.mount)ae(H,L(T,H));else r={}}i=e.shouldUnregister?j.keepDefaultValues?Fe(n):{}:Fe(T),f.array.next({values:{...T}}),f.state.next({values:{...T}})}l={mount:j.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!j.keepIsValid||!!j.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:j.keepSubmitCount?t.submitCount:0,isDirty:D?!1:j.keepDirty?t.isDirty:!!(j.keepDefaultValues&&!Ft(b,n)),isSubmitted:j.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:D?{}:j.keepDirtyValues?j.keepDefaultValues&&i?Mr(n,i):t.dirtyFields:j.keepDefaultValues&&b?Mr(n,b):j.keepDirty?t.dirtyFields:{},touchedFields:j.keepTouched?t.touchedFields:{},errors:j.keepErrors?t.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},Hs=(b,j)=>jt(bt(b)?b(i):b,j),Pr=(b,j={})=>{const C=L(r,b),U=C&&C._f;if(U){const D=U.refs?U.refs[0]:U.ref;D.focus&&(D.focus(),j.shouldSelect&&bt(D.select)&&D.select())}},Tr=b=>{t={...t,...b}},Xi={control:{register:Ve,unregister:X,getFieldState:qe,handleSubmit:be,setError:Ws,_subscribe:ws,_runSchema:R,_focusError:we,_getWatch:I,_getDirty:K,_setValid:g,_setFieldArray:_,_setDisabledField:Se,_setErrors:v,_getFieldArray:q,_reset:jt,_resetDefaultValues:()=>bt(e.defaultValues)&&e.defaultValues().then(b=>{Hs(b,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:_e,_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(b){o=b},get _defaultValues(){return n},get _names(){return l},set _names(b){l=b},get _formState(){return t},get _options(){return e},set _options(b){e={...e,...b}}},subscribe:_s,trigger:Te,register:Ve,handleSubmit:be,watch:Kt,setValue:ae,getValues:ht,reset:Hs,resetField:Pt,clearErrors:Er,unregister:X,setError:Ws,setFocus:Pr,getFieldState:qe};return{...Xi,formControl:Xi}}function _v(s={}){const e=G.useRef(void 0),t=G.useRef(void 0),[r,n]=G.useState({isDirty:!1,isValidating:!1,isLoading:bt(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:bt(s.defaultValues)?void 0:s.defaultValues});if(!e.current)if(s.formControl)e.current={...s.formControl,formState:r},s.defaultValues&&!bt(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:o,...l}=wv(s);e.current={...l,formState:r}}const i=e.current.control;return i._options=s,Zi(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),G.useEffect(()=>i._disableForm(s.disabled),[i,s.disabled]),G.useEffect(()=>{s.mode&&(i._options.mode=s.mode),s.reValidateMode&&(i._options.reValidateMode=s.reValidateMode)},[i,s.mode,s.reValidateMode]),G.useEffect(()=>{s.errors&&(i._setErrors(s.errors),i._focusError())},[i,s.errors]),G.useEffect(()=>{s.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,s.shouldUnregister]),G.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),G.useEffect(()=>{s.values&&!Ft(s.values,t.current)?(i._reset(s.values,{keepFieldsRef:!0,...i._options.resetOptions}),t.current=s.values,n(o=>({...o}))):i._resetDefaultValues()},[i,s.values]),G.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Bu(r,i),e.current}const Xo=(s,e,t)=>{if(s&&"reportValidity"in s){const r=L(t,e);s.setCustomValidity(r&&r.message||""),s.reportValidity()}},Yu=(s,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?Xo(r.ref,t,s):r.refs&&r.refs.forEach(n=>Xo(n,t,s))}},jv=(s,e)=>{e.shouldUseNativeValidation&&Yu(s,e);const t={};for(const r in s){const n=L(e.fields,r),i=Object.assign(s[r]||{},{ref:n&&n.ref});if(Nv(e.names||Object.keys(s),r)){const o=Object.assign({},L(t,r));ye(o,"root",i),ye(t,r,o)}else ye(t,r,i)}return t},Nv=(s,e)=>s.some(t=>t.startsWith(e+"."));var kv=function(s,e){for(var t={};s.length;){var r=s[0],n=r.code,i=r.message,o=r.path.join(".");if(!t[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];t[o]={message:l.message,type:l.code}}else t[o]={message:i,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return s.push(h)})}),e){var c=t[o].types,d=c&&c[r.code];t[o]=Ku(o,e,t,n,d?[].concat(d,r.message):r.message)}s.shift()}return t},Sv=function(s,e,t){return t===void 0&&(t={}),function(r,n,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(s[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return i.shouldUseNativeValidation&&Yu({},i),{errors:{},values:t.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:jv(kv(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},me;(function(s){s.assertEqual=n=>{};function e(n){}s.assertIs=e;function t(n){throw new Error}s.assertNever=t,s.arrayToEnum=n=>{const i={};for(const o of n)i[o]=o;return i},s.getValidEnumValues=n=>{const i=s.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of i)o[l]=n[l];return s.objectValues(o)},s.objectValues=n=>s.objectKeys(n).map(function(i){return n[i]}),s.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},s.find=(n,i)=>{for(const o of n)if(i(o))return o},s.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function r(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}s.joinValues=r,s.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(me||(me={}));var el;(function(s){s.mergeShapes=(e,t)=>({...e,...t})})(el||(el={}));const V=me.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xt=s=>{switch(typeof s){case"undefined":return V.undefined;case"string":return V.string;case"number":return Number.isNaN(s)?V.nan:V.number;case"boolean":return V.boolean;case"function":return V.function;case"bigint":return V.bigint;case"symbol":return V.symbol;case"object":return Array.isArray(s)?V.array:s===null?V.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?V.promise:typeof Map<"u"&&s instanceof Map?V.map:typeof Set<"u"&&s instanceof Set?V.set:typeof Date<"u"&&s instanceof Date?V.date:V.object;default:return V.unknown}},P=me.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Bt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},r={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),r}static assert(e){if(!(e instanceof Bt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,me.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];t[i]=t[i]||[],t[i].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Bt.create=s=>new Bt(s);const ni=(s,e)=>{let t;switch(s.code){case P.invalid_type:s.received===V.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case P.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,me.jsonStringifyReplacer)}`;break;case P.unrecognized_keys:t=`Unrecognized key(s) in object: ${me.joinValues(s.keys,", ")}`;break;case P.invalid_union:t="Invalid input";break;case P.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${me.joinValues(s.options)}`;break;case P.invalid_enum_value:t=`Invalid enum value. Expected ${me.joinValues(s.options)}, received '${s.received}'`;break;case P.invalid_arguments:t="Invalid function arguments";break;case P.invalid_return_type:t="Invalid function return type";break;case P.invalid_date:t="Invalid date";break;case P.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:me.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case P.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="bigint"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case P.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case P.custom:t="Invalid input";break;case P.invalid_intersection_types:t="Intersection results could not be merged";break;case P.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case P.not_finite:t="Number must be finite";break;default:t=e.defaultError,me.assertNever(s)}return{message:t}};let Cv=ni;function Av(){return Cv}const Ev=s=>{const{data:e,path:t,errorMaps:r,issueData:n}=s,i=[...t,...n.path||[]],o={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...n,path:i,message:l}};function F(s,e){const t=Av(),r=Ev({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,t,t===ni?void 0:ni].filter(n=>!!n)});s.common.issues.push(r)}class st{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if(n.status==="aborted")return te;n.status==="dirty"&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const n of t){const i=await n.key,o=await n.value;r.push({key:i,value:o})}return st.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return te;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const te=Object.freeze({status:"aborted"}),Ur=s=>({status:"dirty",value:s}),ut=s=>({status:"valid",value:s}),tl=s=>s.status==="aborted",sl=s=>s.status==="dirty",xr=s=>s.status==="valid",Ra=s=>typeof Promise<"u"&&s instanceof Promise;var B;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(B||(B={}));class ms{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const rl=(s,e)=>{if(xr(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Bt(s.common.issues);return this._error=t,this._error}}};function oe(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:n}=s;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,l)=>{const{message:c}=s;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??t??l.defaultError}},description:n}}class he{get description(){return this._def.description}_getType(e){return Xt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Xt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new st,ctx:{common:e.parent.common,data:e.data,parsedType:Xt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Ra(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xt(e)},n=this._parseSync({data:e,path:r.path,parent:r});return rl(r,n)}"~validate"(e){var r,n;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xt(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:t});return xr(i)?{value:i.value}:{issues:t.common.issues}}catch(i){(n=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(i=>xr(i)?{value:i.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xt(e)},n=this._parse({data:e,path:r.path,parent:r}),i=await(Ra(n)?n:Promise.resolve(n));return rl(r,i)}refine(e,t){const r=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,i)=>{const o=e(n),l=()=>i.addIssue({code:P.custom,...r(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,t){return this._refinement((r,n)=>e(r)?!0:(n.addIssue(typeof t=="function"?t(r,n):t),!1))}_refinement(e){return new br({schema:this,typeName:se.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return hs.create(this,this._def)}nullable(){return wr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return At.create(this)}promise(){return Da.create(this,this._def)}or(e){return Oa.create([this,e],this._def)}and(e){return Ma.create(this,e,this._def)}transform(e){return new br({...oe(this._def),schema:this,typeName:se.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new oi({...oe(this._def),innerType:this,defaultValue:t,typeName:se.ZodDefault})}brand(){return new Yv({typeName:se.ZodBranded,type:this,...oe(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new li({...oe(this._def),innerType:this,catchValue:t,typeName:se.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Yi.create(this,e)}readonly(){return ci.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Pv=/^c[^\s-]{8,}$/i,Tv=/^[0-9a-z]+$/,Rv=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Iv=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ov=/^[a-z0-9_-]{21}$/i,Mv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Dv=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Lv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$v="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let En;const Fv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Uv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,qv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Vv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Bv=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zv=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Xu="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Kv=new RegExp(`^${Xu}$`);function eh(s){let e="[0-5]\\d";s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`);const t=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Wv(s){return new RegExp(`^${eh(s)}$`)}function Hv(s){let e=`${Xu}T${eh(s)}`;const t=[];return t.push(s.local?"Z?":"Z"),s.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Gv(s,e){return!!((e==="v4"||!e)&&Fv.test(s)||(e==="v6"||!e)&&qv.test(s))}function Zv(s,e){if(!Mv.test(s))return!1;try{const[t]=s.split(".");if(!t)return!1;const r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),n=JSON.parse(atob(r));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}function Jv(s,e){return!!((e==="v4"||!e)&&Uv.test(s)||(e==="v6"||!e)&&Vv.test(s))}class ds extends he{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==V.string){const i=this._getOrReturnCtx(e);return F(i,{code:P.invalid_type,expected:V.string,received:i.parsedType}),te}const r=new st;let n;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),F(n,{code:P.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),F(n,{code:P.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(e,n),o?F(n,{code:P.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&F(n,{code:P.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Lv.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"email",code:P.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")En||(En=new RegExp($v,"u")),En.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"emoji",code:P.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Iv.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"uuid",code:P.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Ov.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"nanoid",code:P.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Pv.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"cuid",code:P.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Tv.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"cuid2",code:P.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Rv.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"ulid",code:P.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),F(n,{validation:"url",code:P.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"regex",code:P.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),F(n,{code:P.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),F(n,{code:P.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),F(n,{code:P.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Hv(i).test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{code:P.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Kv.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{code:P.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Wv(i).test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{code:P.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Dv.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"duration",code:P.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Gv(e.data,i.version)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"ip",code:P.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Zv(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"jwt",code:P.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Jv(e.data,i.version)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"cidr",code:P.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Bv.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"base64",code:P.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?zv.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"base64url",code:P.invalid_string,message:i.message}),r.dirty()):me.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(n=>e.test(n),{validation:t,code:P.invalid_string,...B.errToObj(r)})}_addCheck(e){return new ds({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...B.errToObj(e)})}url(e){return this._addCheck({kind:"url",...B.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...B.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...B.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...B.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...B.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...B.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...B.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...B.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...B.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...B.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...B.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...B.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...B.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...B.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...B.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...B.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...B.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...B.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...B.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...B.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...B.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...B.errToObj(t)})}nonempty(e){return this.min(1,B.errToObj(e))}trim(){return new ds({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ds({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ds({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ds.create=s=>new ds({checks:[],typeName:se.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...oe(s)});function Qv(s,e){const t=(s.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,n=t>r?t:r,i=Number.parseInt(s.toFixed(n).replace(".","")),o=Number.parseInt(e.toFixed(n).replace(".",""));return i%o/10**n}class Zr extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==V.number){const i=this._getOrReturnCtx(e);return F(i,{code:P.invalid_type,expected:V.number,received:i.parsedType}),te}let r;const n=new st;for(const i of this._def.checks)i.kind==="int"?me.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{code:P.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),F(r,{code:P.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),F(r,{code:P.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?Qv(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),F(r,{code:P.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{code:P.not_finite,message:i.message}),n.dirty()):me.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,B.toString(t))}gt(e,t){return this.setLimit("min",e,!1,B.toString(t))}lte(e,t){return this.setLimit("max",e,!0,B.toString(t))}lt(e,t){return this.setLimit("max",e,!1,B.toString(t))}setLimit(e,t,r,n){return new Zr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:B.toString(n)}]})}_addCheck(e){return new Zr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:B.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:B.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:B.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:B.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:B.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&me.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Zr.create=s=>new Zr({checks:[],typeName:se.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...oe(s)});class Jr extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==V.bigint)return this._getInvalidInput(e);let r;const n=new st;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),F(r,{code:P.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),F(r,{code:P.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),F(r,{code:P.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):me.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return F(t,{code:P.invalid_type,expected:V.bigint,received:t.parsedType}),te}gte(e,t){return this.setLimit("min",e,!0,B.toString(t))}gt(e,t){return this.setLimit("min",e,!1,B.toString(t))}lte(e,t){return this.setLimit("max",e,!0,B.toString(t))}lt(e,t){return this.setLimit("max",e,!1,B.toString(t))}setLimit(e,t,r,n){return new Jr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:B.toString(n)}]})}_addCheck(e){return new Jr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:B.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Jr.create=s=>new Jr({checks:[],typeName:se.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...oe(s)});class al extends he{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==V.boolean){const r=this._getOrReturnCtx(e);return F(r,{code:P.invalid_type,expected:V.boolean,received:r.parsedType}),te}return ut(e.data)}}al.create=s=>new al({typeName:se.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...oe(s)});class Ia extends he{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==V.date){const i=this._getOrReturnCtx(e);return F(i,{code:P.invalid_type,expected:V.date,received:i.parsedType}),te}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return F(i,{code:P.invalid_date}),te}const r=new st;let n;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),F(n,{code:P.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),F(n,{code:P.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):me.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ia({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:B.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:B.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Ia.create=s=>new Ia({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:se.ZodDate,...oe(s)});class nl extends he{_parse(e){if(this._getType(e)!==V.symbol){const r=this._getOrReturnCtx(e);return F(r,{code:P.invalid_type,expected:V.symbol,received:r.parsedType}),te}return ut(e.data)}}nl.create=s=>new nl({typeName:se.ZodSymbol,...oe(s)});class il extends he{_parse(e){if(this._getType(e)!==V.undefined){const r=this._getOrReturnCtx(e);return F(r,{code:P.invalid_type,expected:V.undefined,received:r.parsedType}),te}return ut(e.data)}}il.create=s=>new il({typeName:se.ZodUndefined,...oe(s)});class ol extends he{_parse(e){if(this._getType(e)!==V.null){const r=this._getOrReturnCtx(e);return F(r,{code:P.invalid_type,expected:V.null,received:r.parsedType}),te}return ut(e.data)}}ol.create=s=>new ol({typeName:se.ZodNull,...oe(s)});class ll extends he{constructor(){super(...arguments),this._any=!0}_parse(e){return ut(e.data)}}ll.create=s=>new ll({typeName:se.ZodAny,...oe(s)});class cl extends he{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ut(e.data)}}cl.create=s=>new cl({typeName:se.ZodUnknown,...oe(s)});class ps extends he{_parse(e){const t=this._getOrReturnCtx(e);return F(t,{code:P.invalid_type,expected:V.never,received:t.parsedType}),te}}ps.create=s=>new ps({typeName:se.ZodNever,...oe(s)});class dl extends he{_parse(e){if(this._getType(e)!==V.undefined){const r=this._getOrReturnCtx(e);return F(r,{code:P.invalid_type,expected:V.void,received:r.parsedType}),te}return ut(e.data)}}dl.create=s=>new dl({typeName:se.ZodVoid,...oe(s)});class At extends he{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==V.array)return F(t,{code:P.invalid_type,expected:V.array,received:t.parsedType}),te;if(n.exactLength!==null){const o=t.data.length>n.exactLength.value,l=t.data.length<n.exactLength.value;(o||l)&&(F(t,{code:o?P.too_big:P.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(F(t,{code:P.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(F(t,{code:P.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,l)=>n.type._parseAsync(new ms(t,o,t.path,l)))).then(o=>st.mergeArray(r,o));const i=[...t.data].map((o,l)=>n.type._parseSync(new ms(t,o,t.path,l)));return st.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new At({...this._def,minLength:{value:e,message:B.toString(t)}})}max(e,t){return new At({...this._def,maxLength:{value:e,message:B.toString(t)}})}length(e,t){return new At({...this._def,exactLength:{value:e,message:B.toString(t)}})}nonempty(e){return this.min(1,e)}}At.create=(s,e)=>new At({type:s,minLength:null,maxLength:null,exactLength:null,typeName:se.ZodArray,...oe(e)});function rr(s){if(s instanceof $e){const e={};for(const t in s.shape){const r=s.shape[t];e[t]=hs.create(rr(r))}return new $e({...s._def,shape:()=>e})}else return s instanceof At?new At({...s._def,type:rr(s.element)}):s instanceof hs?hs.create(rr(s.unwrap())):s instanceof wr?wr.create(rr(s.unwrap())):s instanceof zs?zs.create(s.items.map(e=>rr(e))):s}class $e extends he{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=me.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==V.object){const d=this._getOrReturnCtx(e);return F(d,{code:P.invalid_type,expected:V.object,received:d.parsedType}),te}const{status:r,ctx:n}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ps&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ms(n,h,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof ps){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&(F(n,{code:P.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ms(n,h,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>st.mergeObjectSync(r,d)):st.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return B.errToObj,new $e({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,o;const n=((o=(i=this._def).errorMap)==null?void 0:o.call(i,t,r).message)??r.defaultError;return t.code==="unrecognized_keys"?{message:B.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new $e({...this._def,unknownKeys:"strip"})}passthrough(){return new $e({...this._def,unknownKeys:"passthrough"})}extend(e){return new $e({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $e({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:se.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new $e({...this._def,catchall:e})}pick(e){const t={};for(const r of me.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new $e({...this._def,shape:()=>t})}omit(e){const t={};for(const r of me.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new $e({...this._def,shape:()=>t})}deepPartial(){return rr(this)}partial(e){const t={};for(const r of me.objectKeys(this.shape)){const n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new $e({...this._def,shape:()=>t})}required(e){const t={};for(const r of me.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof hs;)i=i._def.innerType;t[r]=i}return new $e({...this._def,shape:()=>t})}keyof(){return th(me.objectKeys(this.shape))}}$e.create=(s,e)=>new $e({shape:()=>s,unknownKeys:"strip",catchall:ps.create(),typeName:se.ZodObject,...oe(e)});$e.strictCreate=(s,e)=>new $e({shape:()=>s,unknownKeys:"strict",catchall:ps.create(),typeName:se.ZodObject,...oe(e)});$e.lazycreate=(s,e)=>new $e({shape:s,unknownKeys:"strip",catchall:ps.create(),typeName:se.ZodObject,...oe(e)});class Oa extends he{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function n(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Bt(l.ctx.common.issues));return F(t,{code:P.invalid_union,unionErrors:o}),te}if(t.common.async)return Promise.all(r.map(async i=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(n);{let i;const o=[];for(const c of r){const d={...t,common:{...t.common,issues:[]},parent:null},u=c._parseSync({data:t.data,path:t.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Bt(c));return F(t,{code:P.invalid_union,unionErrors:l}),te}}get options(){return this._def.options}}Oa.create=(s,e)=>new Oa({options:s,typeName:se.ZodUnion,...oe(e)});function ii(s,e){const t=Xt(s),r=Xt(e);if(s===e)return{valid:!0,data:s};if(t===V.object&&r===V.object){const n=me.objectKeys(e),i=me.objectKeys(s).filter(l=>n.indexOf(l)!==-1),o={...s,...e};for(const l of i){const c=ii(s[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(t===V.array&&r===V.array){if(s.length!==e.length)return{valid:!1};const n=[];for(let i=0;i<s.length;i++){const o=s[i],l=e[i],c=ii(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return t===V.date&&r===V.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class Ma extends he{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(i,o)=>{if(tl(i)||tl(o))return te;const l=ii(i.value,o.value);return l.valid?((sl(i)||sl(o))&&t.dirty(),{status:t.value,value:l.data}):(F(r,{code:P.invalid_intersection_types}),te)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ma.create=(s,e,t)=>new Ma({left:s,right:e,typeName:se.ZodIntersection,...oe(t)});class zs extends he{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==V.array)return F(r,{code:P.invalid_type,expected:V.array,received:r.parsedType}),te;if(r.data.length<this._def.items.length)return F(r,{code:P.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),te;!this._def.rest&&r.data.length>this._def.items.length&&(F(r,{code:P.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ms(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>st.mergeArray(t,o)):st.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new zs({...this._def,rest:e})}}zs.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zs({items:s,typeName:se.ZodTuple,rest:null,...oe(e)})};class ul extends he{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==V.map)return F(r,{code:P.invalid_type,expected:V.map,received:r.parsedType}),te;const n=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:n._parse(new ms(r,l,r.path,[d,"key"])),value:i._parse(new ms(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return te;(d.status==="dirty"||u.status==="dirty")&&t.dirty(),l.set(d.value,u.value)}return{status:t.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return te;(d.status==="dirty"||u.status==="dirty")&&t.dirty(),l.set(d.value,u.value)}return{status:t.value,value:l}}}}ul.create=(s,e,t)=>new ul({valueType:e,keyType:s,typeName:se.ZodMap,...oe(t)});class Qr extends he{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==V.set)return F(r,{code:P.invalid_type,expected:V.set,received:r.parsedType}),te;const n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&(F(r,{code:P.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&(F(r,{code:P.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return te;u.status==="dirty"&&t.dirty(),d.add(u.value)}return{status:t.value,value:d}}const l=[...r.data.values()].map((c,d)=>i._parse(new ms(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,t){return new Qr({...this._def,minSize:{value:e,message:B.toString(t)}})}max(e,t){return new Qr({...this._def,maxSize:{value:e,message:B.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Qr.create=(s,e)=>new Qr({valueType:s,minSize:null,maxSize:null,typeName:se.ZodSet,...oe(e)});class hl extends he{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}hl.create=(s,e)=>new hl({getter:s,typeName:se.ZodLazy,...oe(e)});class fl extends he{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return F(t,{received:t.data,code:P.invalid_literal,expected:this._def.value}),te}return{status:"valid",value:e.data}}get value(){return this._def.value}}fl.create=(s,e)=>new fl({value:s,typeName:se.ZodLiteral,...oe(e)});function th(s,e){return new vr({values:s,typeName:se.ZodEnum,...oe(e)})}class vr extends he{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return F(t,{expected:me.joinValues(r),received:t.parsedType,code:P.invalid_type}),te}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return F(t,{received:t.data,code:P.invalid_enum_value,options:r}),te}return ut(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return vr.create(e,{...this._def,...t})}exclude(e,t=this._def){return vr.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}vr.create=th;class ml extends he{_parse(e){const t=me.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==V.string&&r.parsedType!==V.number){const n=me.objectValues(t);return F(r,{expected:me.joinValues(n),received:r.parsedType,code:P.invalid_type}),te}if(this._cache||(this._cache=new Set(me.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const n=me.objectValues(t);return F(r,{received:r.data,code:P.invalid_enum_value,options:n}),te}return ut(e.data)}get enum(){return this._def.values}}ml.create=(s,e)=>new ml({values:s,typeName:se.ZodNativeEnum,...oe(e)});class Da extends he{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==V.promise&&t.common.async===!1)return F(t,{code:P.invalid_type,expected:V.promise,received:t.parsedType}),te;const r=t.parsedType===V.promise?t.data:Promise.resolve(t.data);return ut(r.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Da.create=(s,e)=>new Da({type:s,typeName:se.ZodPromise,...oe(e)});class br extends he{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:o=>{F(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const o=n.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(t.value==="aborted")return te;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?te:c.status==="dirty"||t.value==="dirty"?Ur(c.value):c});{if(t.value==="aborted")return te;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?te:l.status==="dirty"||t.value==="dirty"?Ur(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?te:(l.status==="dirty"&&t.dirty(),o(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?te:(l.status==="dirty"&&t.dirty(),o(l.value).then(()=>({status:t.value,value:l.value}))))}if(n.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!xr(o))return te;const l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>xr(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:t.value,value:l})):te);me.assertNever(n)}}br.create=(s,e,t)=>new br({schema:s,typeName:se.ZodEffects,effect:e,...oe(t)});br.createWithPreprocess=(s,e,t)=>new br({schema:e,effect:{type:"preprocess",transform:s},typeName:se.ZodEffects,...oe(t)});class hs extends he{_parse(e){return this._getType(e)===V.undefined?ut(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hs.create=(s,e)=>new hs({innerType:s,typeName:se.ZodOptional,...oe(e)});class wr extends he{_parse(e){return this._getType(e)===V.null?ut(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wr.create=(s,e)=>new wr({innerType:s,typeName:se.ZodNullable,...oe(e)});class oi extends he{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===V.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}oi.create=(s,e)=>new oi({innerType:s,typeName:se.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...oe(e)});class li extends he{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ra(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Bt(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Bt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}li.create=(s,e)=>new li({innerType:s,typeName:se.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...oe(e)});class pl extends he{_parse(e){if(this._getType(e)!==V.nan){const r=this._getOrReturnCtx(e);return F(r,{code:P.invalid_type,expected:V.nan,received:r.parsedType}),te}return{status:"valid",value:e.data}}}pl.create=s=>new pl({typeName:se.ZodNaN,...oe(s)});class Yv extends he{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Yi extends he{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?te:i.status==="dirty"?(t.dirty(),Ur(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?te:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(e,t){return new Yi({in:e,out:t,typeName:se.ZodPipeline})}}class ci extends he{_parse(e){const t=this._def.innerType._parse(e),r=n=>(xr(n)&&(n.value=Object.freeze(n.value)),n);return Ra(t)?t.then(n=>r(n)):r(t)}unwrap(){return this._def.innerType}}ci.create=(s,e)=>new ci({innerType:s,typeName:se.ZodReadonly,...oe(e)});var se;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(se||(se={}));const gl=ds.create;ps.create;At.create;const Xv=$e.create;Oa.create;Ma.create;zs.create;vr.create;Da.create;hs.create;wr.create;const eb=av,sh=m.createContext({}),yl=({...s})=>a.jsx(sh.Provider,{value:{name:s.name},children:a.jsx(lv,{...s})}),cn=()=>{const s=m.useContext(sh),e=m.useContext(rh),{getFieldState:t,formState:r}=ln(),n=t(s.name,r);if(!s)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:s.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},rh=m.createContext({}),di=m.forwardRef(({className:s,...e},t)=>{const r=m.useId();return a.jsx(rh.Provider,{value:{id:r},children:a.jsx("div",{ref:t,className:z("space-y-2",s),...e})})});di.displayName="FormItem";const ui=m.forwardRef(({className:s,...e},t)=>{const{error:r,formItemId:n}=cn();return a.jsx(ue,{ref:t,className:z(r&&"text-destructive",s),htmlFor:n,...e})});ui.displayName="FormLabel";const hi=m.forwardRef(({...s},e)=>{const{error:t,formItemId:r,formDescriptionId:n,formMessageId:i}=cn();return a.jsx(Rl,{ref:e,id:r,"aria-describedby":t?`${n} ${i}`:`${n}`,"aria-invalid":!!t,...s})});hi.displayName="FormControl";const tb=m.forwardRef(({className:s,...e},t)=>{const{formDescriptionId:r}=cn();return a.jsx("p",{ref:t,id:r,className:z("text-sm text-muted-foreground",s),...e})});tb.displayName="FormDescription";const fi=m.forwardRef(({className:s,children:e,...t},r)=>{const{error:n,formMessageId:i}=cn(),o=n?String(n==null?void 0:n.message):e;return o?a.jsx("p",{ref:r,id:i,className:z("text-sm font-medium text-destructive",s),...t,children:o}):null});fi.displayName="FormMessage";const sb=Xv({password:gl().min(6,"비밀번호는 6자 이상이어야 합니다"),confirmPassword:gl()}).refine(s=>s.password===s.confirmPassword,{message:"비밀번호가 일치하지 않습니다",path:["confirmPassword"]});function rb(){const s=zt(),[e]=jr(),[t,r]=m.useState(!1),[n,i]=m.useState(!1),[o,l]=m.useState(!1),c=_v({resolver:Sv(sb),defaultValues:{password:"",confirmPassword:""}});m.useEffect(()=>{const u=e.get("access_token"),h=e.get("refresh_token");(!u||!h)&&(O({title:"유효하지 않은 링크",description:"비밀번호 재설정 링크가 유효하지 않습니다.",variant:"destructive"}),s("/auth"))},[e,s]);const d=async u=>{r(!0);try{const h=await at.updatePassword(u.password);if(h.error)throw new Error(h.error);O({title:"비밀번호 변경 완료",description:"새 비밀번호로 변경되었습니다. 로그인 페이지로 이동합니다."}),setTimeout(()=>{s("/auth")},2e3)}catch(h){console.error("Password reset error:",h),O({title:"비밀번호 변경 실패",description:h.message||"비밀번호 변경 중 오류가 발생했습니다.",variant:"destructive"})}finally{r(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:a.jsxs(Ae,{className:"w-full max-w-md",children:[a.jsxs(lt,{className:"space-y-1",children:[a.jsx(wt,{className:"text-2xl font-bold text-center",children:"비밀번호 재설정"}),a.jsx($i,{className:"text-center",children:"새로운 비밀번호를 입력해주세요"})]}),a.jsxs(Ee,{children:[a.jsx(eb,{...c,children:a.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[a.jsx(yl,{control:c.control,name:"password",render:({field:u})=>a.jsxs(di,{children:[a.jsx(ui,{children:"새 비밀번호"}),a.jsx(hi,{children:a.jsxs("div",{className:"relative",children:[a.jsx(fe,{...u,type:n?"text":"password",placeholder:"새 비밀번호를 입력하세요",disabled:t}),a.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>i(!n),children:n?a.jsx(Wn,{size:20}):a.jsx(pr,{size:20})})]})}),a.jsx(fi,{})]})}),a.jsx(yl,{control:c.control,name:"confirmPassword",render:({field:u})=>a.jsxs(di,{children:[a.jsx(ui,{children:"비밀번호 확인"}),a.jsx(hi,{children:a.jsxs("div",{className:"relative",children:[a.jsx(fe,{...u,type:o?"text":"password",placeholder:"비밀번호를 다시 입력하세요",disabled:t}),a.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>l(!o),children:o?a.jsx(Wn,{size:20}):a.jsx(pr,{size:20})})]})}),a.jsx(fi,{})]})}),a.jsx(M,{type:"submit",className:"w-full",disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"변경 중..."]}):"비밀번호 변경"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>s("/auth"),className:"text-sm text-blue-600 hover:text-blue-800",disabled:t,children:"로그인 페이지로 돌아가기"})})]})]})})}function ab({boards:s,loading:e}){console.log("🎨 BoardList: Rendering with boards:",s,"loading:",e);const t=i=>{switch(i){case"notice":return a.jsx(bg,{className:"h-6 w-6 text-red-500"});case"qna":return a.jsx(Ng,{className:"h-6 w-6 text-blue-500"});case"review":return a.jsx(gr,{className:"h-6 w-6 text-yellow-500"});case"general":return a.jsx(qg,{className:"h-6 w-6 text-green-500"});default:return a.jsx($o,{className:"h-6 w-6 text-gray-500"})}},r=i=>{switch(i){case"notice":return"공지사항";case"qna":return"Q&A";case"review":return"제품 리뷰";case"general":return"자유게시판";default:return"게시판"}},n=i=>{switch(i){case"notice":return"중요한 공지사항과 업데이트를 확인하세요";case"qna":return"궁금한 점을 질문하고 답변을 받아보세요";case"review":return"제품 사용 후기를 공유해보세요";case"general":return"자유롭게 소통하는 공간입니다";default:return"게시판 설명"}};return e?a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((i,o)=>a.jsxs(Ae,{className:"animate-pulse",children:[a.jsxs(lt,{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-6 w-6 bg-gray-200 rounded"}),a.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded"})]}),a.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"})]}),a.jsx(Ee,{children:a.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})})]},o))}):s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx($o,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:"게시판이 없습니다"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"아직 생성된 게시판이 없습니다."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"게시판"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"다양한 주제로 소통하고 정보를 공유하세요"})]}),a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(i=>a.jsx(Q,{to:`/board/${i.slug}`,children:a.jsxs(Ae,{className:"h-full transition-all duration-200 hover:shadow-lg hover:-translate-y-1 cursor-pointer",children:[a.jsxs(lt,{children:[a.jsxs(wt,{className:"flex items-center gap-3",children:[t(i.type),a.jsx("span",{children:i.name}),a.jsx(_t,{variant:"outline",className:"ml-auto",children:r(i.type)})]}),a.jsx($i,{children:i.description||n(i.type)})]}),a.jsx(Ee,{children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsx("span",{children:"게시글 보기"}),a.jsx("span",{children:"→"})]})})]})},i.id))})]})}class nb{async getBoards(){try{console.log("🔍 BoardService: Getting boards from Supabase..."),console.log("🔍 BoardService: Supabase client config:",{url:"https://bjqadhzkoxdwyfsglrvq.supabase.co",hasAnonKey:!0});const{data:e,error:t}=await ee.from("boards").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(console.log("📊 BoardService: Supabase response - data:",e,"error:",t),t)throw console.error("❌ BoardService: Supabase error details:",{message:t.message,details:t.details,hint:t.hint,code:t.code}),t;return console.log("✅ BoardService: Returning boards:",(e==null?void 0:e.length)||0,"boards"),e||[]}catch(e){console.error("❌ BoardService: Get boards error:",e);let t=e.message||"게시판을 불러올 수 없습니다.";throw e.name==="TypeError"&&e.message.includes("fetch")?t="네트워크 연결 오류 - Supabase 서버에 연결할 수 없습니다.":e.code==="PGRST116"?t="데이터베이스 테이블을 찾을 수 없습니다.":e.code==="42501"&&(t="데이터베이스 접근 권한이 없습니다."),O({title:"게시판 목록 조회 실패",description:t,variant:"destructive"}),new Error(t)}}async getBoard(e){try{const{data:t,error:r}=await ee.from("boards").select("*").eq("slug",e).eq("is_active",!0).single();if(r)throw r;return t}catch(t){return console.error("Get board error:",t),null}}async getPosts(e,t=1,r=20,n){try{const i=await this.getBoard(e);if(!i)throw new Error("게시판을 찾을 수 없습니다.");let o=ee.from("posts").select(`
          *,
          board:boards(name, slug, type),
          comments:comments(count)
        `).eq("board_id",i.id).eq("status","published").order("is_pinned",{ascending:!1}).order("created_at",{ascending:!1});n&&(o=o.or(`title.ilike.%${n}%,content.ilike.%${n}%`));const{count:l}=await ee.from("posts").select("*",{count:"exact"}).eq("board_id",i.id).eq("status","published"),c=(t-1)*r,d=c+r-1,{data:u,error:h}=await o.range(c,d);if(h)throw h;return{posts:u||[],totalCount:l||0}}catch(i){throw console.error("Get posts error:",i),O({title:"게시글 목록 조회 실패",description:i.message||"게시글을 불러올 수 없습니다.",variant:"destructive"}),i}}async getPost(e){try{const{data:t,error:r}=await ee.from("posts").select(`
          *,
          board:boards(name, slug, type, settings),
          comments:comments(
            *,
            replies:comments(*)
          ),
          attachments:attachments(*)
        `).eq("id",e).eq("status","published").single();if(r)throw r;return this.incrementViews(e).catch(console.error),t}catch(t){return console.error("Get post error:",t),null}}async incrementViews(e){try{await ee.rpc("increment_post_views",{post_uuid:e})}catch(t){console.error("Increment views error:",t)}}async createPost(e){try{const{data:{user:t}}=await ee.auth.getUser(),r={board_id:e.board_id,user_id:(t==null?void 0:t.id)||null,title:e.title,content:e.content,excerpt:this.generateExcerpt(e.content),post_type:e.post_type||"normal",is_pinned:e.is_pinned||!1,author_name:t?null:e.author_name,author_email:t?null:e.author_email,author_password:t?null:e.author_password,status:"published"},{data:n,error:i}=await ee.from("posts").insert(r).select(`
          *,
          board:boards(name, slug, type)
        `).single();if(i)throw i;return e.attachments&&e.attachments.length>0&&await this.uploadAttachments(n.id,e.attachments),O({title:"게시글 작성 완료",description:"게시글이 성공적으로 작성되었습니다."}),n}catch(t){throw console.error("Create post error:",t),O({title:"게시글 작성 실패",description:t.message||"게시글 작성에 실패했습니다.",variant:"destructive"}),t}}async updatePost(e,t){try{const r={...t,excerpt:t.content?this.generateExcerpt(t.content):void 0,updated_at:new Date().toISOString()},{data:n,error:i}=await ee.from("posts").update(r).eq("id",e).select(`
          *,
          board:boards(name, slug, type)
        `).single();if(i)throw i;return O({title:"게시글 수정 완료",description:"게시글이 성공적으로 수정되었습니다."}),n}catch(r){throw console.error("Update post error:",r),O({title:"게시글 수정 실패",description:r.message||"게시글 수정에 실패했습니다.",variant:"destructive"}),r}}async deletePost(e){try{const{error:t}=await ee.from("posts").update({status:"deleted"}).eq("id",e);if(t)throw t;O({title:"게시글 삭제 완료",description:"게시글이 성공적으로 삭제되었습니다."})}catch(t){throw console.error("Delete post error:",t),O({title:"게시글 삭제 실패",description:t.message||"게시글 삭제에 실패했습니다.",variant:"destructive"}),t}}async createComment(e){var t;try{const{data:{user:r}}=await ee.auth.getUser(),n={post_id:e.post_id,user_id:(r==null?void 0:r.id)||null,parent_id:e.parent_id||null,content:e.content,author_name:r?null:e.author_name,author_email:r?null:e.author_email,author_password:r?null:e.author_password,status:"published",is_admin_reply:((t=r==null?void 0:r.user_metadata)==null?void 0:t.role)==="admin"},{data:i,error:o}=await ee.from("comments").insert(n).select("*").single();if(o)throw o;return O({title:"댓글 작성 완료",description:"댓글이 성공적으로 작성되었습니다."}),i}catch(r){throw console.error("Create comment error:",r),O({title:"댓글 작성 실패",description:r.message||"댓글 작성에 실패했습니다.",variant:"destructive"}),r}}async deleteComment(e){try{const{error:t}=await ee.from("comments").update({status:"deleted"}).eq("id",e);if(t)throw t;O({title:"댓글 삭제 완료",description:"댓글이 성공적으로 삭제되었습니다."})}catch(t){throw console.error("Delete comment error:",t),O({title:"댓글 삭제 실패",description:t.message||"댓글 삭제에 실패했습니다.",variant:"destructive"}),t}}async uploadAttachments(e,t){try{for(const r of t){const n=r.name.split(".").pop(),i=`${e}/${Date.now()}-${Math.random().toString(36).substring(2)}.${n}`,{data:o,error:l}=await ee.storage.from("attachments").upload(i,r);if(l)throw l;const{error:c}=await ee.from("attachments").insert({post_id:e,filename:i,original_filename:r.name,file_path:o.path,file_size:r.size,mime_type:r.type});if(c)throw c}}catch(r){throw console.error("Upload attachments error:",r),r}}generateExcerpt(e,t=200){const r=e.replace(/<[^>]*>/g,"");return r.length<=t?r:r.substring(0,t).trim()+"..."}async toggleLike(e){try{const{error:t}=await ee.from("posts").update({likes:ee.sql`likes + 1`}).eq("id",e);if(t)throw t;O({title:"좋아요 완료",description:"게시글에 좋아요를 눌렀습니다."})}catch(t){throw console.error("Toggle like error:",t),O({title:"좋아요 실패",description:t.message||"좋아요 처리에 실패했습니다.",variant:"destructive"}),t}}}const ib=new nb;function ob({className:s,size:e="md"}){const t={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return a.jsx("div",{className:z("flex justify-center items-center",s),children:a.jsx(ot,{className:z("animate-spin text-gray-500",t[e])})})}const lb=[{id:"f2f4ff9a-65c5-4aac-8f3d-f1911cea3ad6",name:"Notice",slug:"notice",type:"notice",description:"Important announcements",settings:{allow_comments:!0,allow_anonymous:!1,require_approval:!1,allow_attachments:!0,max_attachment_size:10485760},sort_order:1,is_active:!0,created_at:"2025-08-04T14:31:23.676907+00:00",updated_at:"2025-08-05T04:02:11.752507+00:00"},{id:"b3a8c7f2-1e4d-4c5b-9f8e-2d3a4b5c6d7e",name:"Q&A",slug:"qna",type:"qna",description:"Questions and answers",settings:{allow_comments:!0,allow_anonymous:!0,require_approval:!1,allow_attachments:!0,max_attachment_size:5242880},sort_order:2,is_active:!0,created_at:"2025-08-04T14:31:23.676907+00:00",updated_at:"2025-08-05T04:02:11.752507+00:00"},{id:"c4b9d8e3-2f5e-5d6c-af9f-3e4b5c6d7e8f",name:"Product Review",slug:"review",type:"review",description:"Product reviews and feedback",settings:{allow_comments:!0,allow_anonymous:!0,require_approval:!0,allow_attachments:!0,max_attachment_size:10485760},sort_order:3,is_active:!0,created_at:"2025-08-04T14:31:23.676907+00:00",updated_at:"2025-08-05T04:02:11.752507+00:00"},{id:"d5cae9f4-3g6f-6e7d-bg0g-4f5c6d7e8f9g",name:"General",slug:"general",type:"general",description:"General discussions",settings:{allow_comments:!0,allow_anonymous:!0,require_approval:!1,allow_attachments:!0,max_attachment_size:5242880},sort_order:4,is_active:!0,created_at:"2025-08-04T14:31:23.676907+00:00",updated_at:"2025-08-05T04:02:11.752507+00:00"}];function xl(){const[s,e]=m.useState([]),[t,r]=m.useState(!0),[n,i]=m.useState(null),[o,l]=m.useState(!1);m.useEffect(()=>{c()},[]);const c=async()=>{try{console.log("🔄 BoardListPage: Starting to load boards..."),r(!0),i(null),l(!1);const d=await ib.getBoards();console.log("✅ BoardListPage: Boards loaded successfully:",d),e(d)}catch(d){console.error("❌ BoardListPage: Boards loading error:",d),console.log("🔄 BoardListPage: Using fallback data due to connection error"),e(lb),l(!0),i(`연결 오류가 발생했습니다. 오프라인 데이터를 표시합니다. (${d.message||"Unknown error"})`)}finally{console.log("🏁 BoardListPage: Loading finished"),r(!1)}};return t?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx(ob,{className:"mx-auto"})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n&&o&&a.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-yellow-800",children:n})}),a.jsx("div",{className:"ml-auto pl-3",children:a.jsx("button",{onClick:c,className:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-yellow-800 bg-yellow-50 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",children:"다시 시도"})})]})}),a.jsx(ab,{boards:s,loading:t})]})}const vl=G.lazy(()=>De(()=>import("./AboutPage-Cq1aJYaD.js"),__vite__mapDeps([0,1,2,3,4])).then(s=>({default:s.AboutPage}))),cb=G.lazy(()=>De(()=>import("./SupportPage-Dxe4EJ9y.js"),__vite__mapDeps([5,1,2,6,3])).then(s=>({default:s.SupportPage}))),db=G.lazy(()=>De(()=>import("./QualityPage-DQoIFwaU.js"),__vite__mapDeps([7,1,2,6,3])).then(s=>({default:s.QualityPage}))),ub=G.lazy(()=>De(()=>import("./DealersPage-dIn7I3zt.js"),__vite__mapDeps([8,1,2,3,4])).then(s=>({default:s.DealersPage}))),hb=G.lazy(()=>De(()=>import("./AdminPage-CpOkWCNa.js"),__vite__mapDeps([9,1,2,10,11])).then(s=>({default:s.AdminPage}))),fb=G.lazy(()=>De(()=>import("./AuthPage-C362akZ1.js"),__vite__mapDeps([12,1,2,4])).then(s=>({default:s.AuthPage}))),mb=G.lazy(()=>De(()=>import("./CheckoutSuccessPage-Dkl1mT2C.js"),__vite__mapDeps([13,1,2])).then(s=>({default:s.CheckoutSuccessPage}))),pb=G.lazy(()=>De(()=>import("./AccountPage-C5VMo4Bw.js"),__vite__mapDeps([14,1,2,15,11])).then(s=>({default:s.AccountPage}))),gb=G.lazy(()=>De(()=>import("./FAQPage-DomCuEX6.js"),__vite__mapDeps([16,1,2])).then(s=>({default:s.FAQPage}))),yb=G.lazy(()=>De(()=>import("./NoticePage-DFPOJmCt.js"),__vite__mapDeps([17,1,2]))),xb=G.lazy(()=>De(()=>import("./NoticeDetailPage-CQI_TmUe.js"),__vite__mapDeps([18,1,2]))),vb=G.lazy(()=>De(()=>import("./NotFound-Bup5S8ZR.js"),__vite__mapDeps([19,1,2]))),bb=G.lazy(()=>De(()=>import("./BoardPage-kWtv2aq8.js"),__vite__mapDeps([20,1,2,11,15,21]))),wb=G.lazy(()=>De(()=>import("./PostPage-DKsUrZyL.js"),__vite__mapDeps([22,1,2,21,15,11]))),bl=G.lazy(()=>De(()=>import("./PostWritePage-ChA2-qQh.js"),__vite__mapDeps([23,1,2,10]))),ze=()=>a.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});function _b(){return a.jsx(cf,{children:a.jsx(Dp,{children:a.jsx(Ip,{children:a.jsxs(Ph,{children:[a.jsx(my,{}),a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(cy,{}),a.jsx("main",{className:"flex-1",children:a.jsx(py,{children:a.jsxs(Th,{children:[a.jsx(ge,{path:"/",element:a.jsx(zy,{})}),a.jsx(ge,{path:"/products",element:a.jsx(qo,{})}),a.jsx(ge,{path:"/categories/:categorySlug",element:a.jsx(qo,{})}),a.jsx(ge,{path:"/products/:slug",element:a.jsx(Rx,{})}),a.jsx(ge,{path:"/about",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(vl,{})})}),a.jsx(ge,{path:"/company",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(vl,{})})}),a.jsx(ge,{path:"/support",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(cb,{})})}),a.jsx(ge,{path:"/quality",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(db,{})})}),a.jsx(ge,{path:"/dealers",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(ub,{})})}),a.jsx(ge,{path:"/admin",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(hb,{})})}),a.jsx(ge,{path:"/auth",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(fb,{})})}),a.jsx(ge,{path:"/checkout",element:a.jsx(Zx,{})}),a.jsx(ge,{path:"/payment/success",element:a.jsx(Yx,{})}),a.jsx(ge,{path:"/payment/fail",element:a.jsx(Xx,{})}),a.jsx(ge,{path:"/auth/callback",element:a.jsx(ev,{})}),a.jsx(ge,{path:"/auth/naver/callback",element:a.jsx(tv,{})}),a.jsx(ge,{path:"/auth/reset-password",element:a.jsx(rb,{})}),a.jsx(ge,{path:"/checkout/success",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(mb,{})})}),a.jsx(ge,{path:"/account",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(pb,{})})}),a.jsx(ge,{path:"/faq",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(gb,{})})}),a.jsx(ge,{path:"/notices",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(yb,{})})}),a.jsx(ge,{path:"/notices/:id",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(xb,{})})}),a.jsx(ge,{path:"/board",element:a.jsx(xl,{})}),a.jsx(ge,{path:"/boards",element:a.jsx(xl,{})}),a.jsx(ge,{path:"/board/:boardSlug",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(bb,{})})}),a.jsx(ge,{path:"/board/:boardSlug/write",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(bl,{})})}),a.jsx(ge,{path:"/board/:boardSlug/:postId",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(wb,{})})}),a.jsx(ge,{path:"/board/:boardSlug/:postId/edit",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(bl,{})})}),a.jsx(ge,{path:"*",element:a.jsx(m.Suspense,{fallback:a.jsx(ze,{}),children:a.jsx(vb,{})})})]})})}),a.jsx(fy,{}),a.jsx(Ry,{})]})]})})})})}const jb=()=>{console.log=()=>{},console.warn=()=>{},console.info=()=>{}},wl=()=>{const s=document.querySelectorAll("img[data-src]");if("IntersectionObserver"in window){const e=new IntersectionObserver((t,r)=>{t.forEach(n=>{if(n.isIntersecting){const i=n.target;i.src=i.dataset.src,i.classList.remove("lazy"),e.unobserve(i)}})});s.forEach(t=>e.observe(t))}else s.forEach(e=>{const t=e;t.src=t.dataset.src})},Nb=()=>{const s=document.createElement("link");s.rel="preconnect",s.href="https://fonts.googleapis.com",document.head.appendChild(s);const e=document.createElement("link");e.rel="preconnect",e.href="https://fonts.gstatic.com",e.crossOrigin="anonymous",document.head.appendChild(e)},_l=async()=>{if("serviceWorker"in navigator)try{const s=await navigator.serviceWorker.register("/sw.js");console.log("SW registered: ",s)}catch(s){console.error("SW registration failed: ",s)}},kb=()=>{["/data/products.json","/data/categories.json"].forEach(e=>{const t=document.createElement("link");t.rel="preload",t.href=e,t.as="fetch",t.crossOrigin="anonymous",document.head.appendChild(t)})},Sb=()=>{"PerformanceObserver"in window&&new PerformanceObserver(e=>{e.getEntries().forEach(t=>{})}).observe({entryTypes:["measure","navigation","paint"]})},Cb=()=>{jb(),Nb(),kb(),Sb(),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{wl(),_l()}):(wl(),_l())};window.addEventListener("error",s=>{console.error("🚨 전역 JavaScript 에러:",{message:s.message,filename:s.filename,lineno:s.lineno,colno:s.colno,error:s.error})});window.addEventListener("unhandledrejection",s=>{console.error("🚨 처리되지 않은 Promise 거부:",s.reason)});console.log("🔧 환경변수 상태:",{isDev:!1,mode:"production",hasGeminiKey:!1,hasSupabaseUrl:!0,geminiKeyPrefix:void 0});Cb();const Ab=new tf({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:3,retryDelay:s=>Math.min(1e3*2**s,3e4)}}}),Eb=Pn.createRoot(document.getElementById("root"));Eb.render(a.jsx(rf,{client:Ab,children:a.jsx(_b,{})}));setTimeout(()=>{window.hideInitialLoader&&window.hideInitialLoader()},1e3);export{bg as $,Do as A,_t as B,Ae as C,Ya as D,Jc as E,jg as F,Tg as G,Kn as H,fe as I,Hn as J,Qc as K,ue as L,Hc as M,Li as N,xa as O,As as P,$g as Q,zr as R,Ti as S,Pd as T,qg as U,nd as V,Us as W,Cr as X,ad as Y,Ri as Z,Ts as _,Ee as a,Rs as a0,Dg as a1,pr as a2,ys as a3,Wn as a4,ri as a5,Ut as a6,Bc as a7,Yc as a8,Lo as a9,Ig as aa,Ai as ab,Ng as ac,We as ad,wg as ae,zc as af,Ei as ag,ib as ah,ob as ai,Ag as aj,Kc as b,W as c,lt as d,wt as e,M as f,fs as g,Qa as h,$i as i,Gc as j,Nn as k,z as l,na as m,ia as n,oa as o,Es as p,Ps as q,Sx as r,fu as s,O as t,Ui as u,Cx as v,gu as w,yu as x,ed as y,ot as z};
