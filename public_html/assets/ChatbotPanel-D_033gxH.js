import{l as A,p as ue,j as t,i as me,g as _,k as I,m as P,x as j,v as pe}from"./ui-vendor-D7YrltUJ.js";import{r as c}from"./react-vendor-XbLGo5ol.js";import{c as xe}from"./index-BdQq_4o_.js";import{c as B,o as U,L as fe,e as W,B as be,X as ve,T as F,O as ge}from"./index-iJ4ZFglL.js";import{T as we}from"./textarea-Cxk_zgHe.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=B("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=B("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=B("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=B("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function Pe(e,o){return c.useReducer((r,l)=>o[r][l]??r,e)}var V="ScrollArea",[J]=me(V),[Re,v]=J(V),Q=c.forwardRef((e,o)=>{const{__scopeScrollArea:r,type:l="hover",dir:n,scrollHideDelay:s=600,...a}=e,[d,h]=c.useState(null),[i,u]=c.useState(null),[p,m]=c.useState(null),[x,b]=c.useState(null),[C,L]=c.useState(null),[w,R]=c.useState(0),[y,N]=c.useState(0),[D,k]=c.useState(!1),[M,z]=c.useState(!1),f=A(o,E=>h(E)),g=ue(n);return t.jsx(Re,{scope:r,type:l,dir:g,scrollHideDelay:s,scrollArea:d,viewport:i,onViewportChange:u,content:p,onContentChange:m,scrollbarX:x,onScrollbarXChange:b,scrollbarXEnabled:D,onScrollbarXEnabledChange:k,scrollbarY:C,onScrollbarYChange:L,scrollbarYEnabled:M,onScrollbarYEnabledChange:z,onCornerWidthChange:R,onCornerHeightChange:N,children:t.jsx(_.div,{dir:g,...a,ref:f,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});Q.displayName=V;var Z="ScrollAreaViewport",ee=c.forwardRef((e,o)=>{const{__scopeScrollArea:r,children:l,nonce:n,...s}=e,a=v(Z,r),d=c.useRef(null),h=A(o,d,a.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),t.jsx(_.div,{"data-radix-scroll-area-viewport":"",...s,ref:h,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});ee.displayName=Z;var S="ScrollAreaScrollbar",$=c.forwardRef((e,o)=>{const{forceMount:r,...l}=e,n=v(S,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=n,d=e.orientation==="horizontal";return c.useEffect(()=>(d?s(!0):a(!0),()=>{d?s(!1):a(!1)}),[d,s,a]),n.type==="hover"?t.jsx(Ne,{...l,ref:o,forceMount:r}):n.type==="scroll"?t.jsx(Ee,{...l,ref:o,forceMount:r}):n.type==="auto"?t.jsx(te,{...l,ref:o,forceMount:r}):n.type==="always"?t.jsx(q,{...l,ref:o}):null});$.displayName=S;var Ne=c.forwardRef((e,o)=>{const{forceMount:r,...l}=e,n=v(S,e.__scopeScrollArea),[s,a]=c.useState(!1);return c.useEffect(()=>{const d=n.scrollArea;let h=0;if(d){const i=()=>{window.clearTimeout(h),a(!0)},u=()=>{h=window.setTimeout(()=>a(!1),n.scrollHideDelay)};return d.addEventListener("pointerenter",i),d.addEventListener("pointerleave",u),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",i),d.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),t.jsx(I,{present:r||s,children:t.jsx(te,{"data-state":s?"visible":"hidden",...l,ref:o})})}),Ee=c.forwardRef((e,o)=>{const{forceMount:r,...l}=e,n=v(S,e.__scopeScrollArea),s=e.orientation==="horizontal",a=Y(()=>h("SCROLL_END"),100),[d,h]=Pe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(d==="idle"){const i=window.setTimeout(()=>h("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(i)}},[d,n.scrollHideDelay,h]),c.useEffect(()=>{const i=n.viewport,u=s?"scrollLeft":"scrollTop";if(i){let p=i[u];const m=()=>{const x=i[u];p!==x&&(h("SCROLL"),a()),p=x};return i.addEventListener("scroll",m),()=>i.removeEventListener("scroll",m)}},[n.viewport,s,h,a]),t.jsx(I,{present:r||d!=="hidden",children:t.jsx(q,{"data-state":d==="hidden"?"hidden":"visible",...l,ref:o,onPointerEnter:P(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:P(e.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),te=c.forwardRef((e,o)=>{const r=v(S,e.__scopeScrollArea),{forceMount:l,...n}=e,[s,a]=c.useState(!1),d=e.orientation==="horizontal",h=Y(()=>{if(r.viewport){const i=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;a(d?i:u)}},10);return T(r.viewport,h),T(r.content,h),t.jsx(I,{present:l||s,children:t.jsx(q,{"data-state":s?"visible":"hidden",...n,ref:o})})}),q=c.forwardRef((e,o)=>{const{orientation:r="vertical",...l}=e,n=v(S,e.__scopeScrollArea),s=c.useRef(null),a=c.useRef(0),[d,h]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),i=se(d.viewport,d.content),u={...l,sizes:d,onSizesChange:h,hasThumb:i>0&&i<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function p(m,x){return De(m,a.current,d,x)}return r==="horizontal"?t.jsx(Te,{...u,ref:o,onThumbPositionChange:()=>{if(n.viewport&&s.current){const m=n.viewport.scrollLeft,x=G(m,d,n.dir);s.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollLeft=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollLeft=p(m,n.dir))}}):r==="vertical"?t.jsx(Ae,{...u,ref:o,onThumbPositionChange:()=>{if(n.viewport&&s.current){const m=n.viewport.scrollTop,x=G(m,d);s.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollTop=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollTop=p(m))}}):null}),Te=c.forwardRef((e,o)=>{const{sizes:r,onSizesChange:l,...n}=e,s=v(S,e.__scopeScrollArea),[a,d]=c.useState(),h=c.useRef(null),i=A(o,h,s.onScrollbarXChange);return c.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),t.jsx(oe,{"data-orientation":"horizontal",...n,ref:i,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":X(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,p)=>{if(s.viewport){const m=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),ie(m,p)&&u.preventDefault()}},onResize:()=>{h.current&&s.viewport&&a&&l({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:H(a.paddingLeft),paddingEnd:H(a.paddingRight)}})}})}),Ae=c.forwardRef((e,o)=>{const{sizes:r,onSizesChange:l,...n}=e,s=v(S,e.__scopeScrollArea),[a,d]=c.useState(),h=c.useRef(null),i=A(o,h,s.onScrollbarYChange);return c.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),t.jsx(oe,{"data-orientation":"vertical",...n,ref:i,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":X(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,p)=>{if(s.viewport){const m=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),ie(m,p)&&u.preventDefault()}},onResize:()=>{h.current&&s.viewport&&a&&l({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:H(a.paddingTop),paddingEnd:H(a.paddingBottom)}})}})}),[Le,re]=J(S),oe=c.forwardRef((e,o)=>{const{__scopeScrollArea:r,sizes:l,hasThumb:n,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:i,onWheelScroll:u,onResize:p,...m}=e,x=v(S,r),[b,C]=c.useState(null),L=A(o,f=>C(f)),w=c.useRef(null),R=c.useRef(""),y=x.viewport,N=l.content-l.viewport,D=j(u),k=j(h),M=Y(p,10);function z(f){if(w.current){const g=f.clientX-w.current.left,E=f.clientY-w.current.top;i({x:g,y:E})}}return c.useEffect(()=>{const f=g=>{const E=g.target;(b==null?void 0:b.contains(E))&&D(g,N)};return document.addEventListener("wheel",f,{passive:!1}),()=>document.removeEventListener("wheel",f,{passive:!1})},[y,b,N,D]),c.useEffect(k,[l,k]),T(b,M),T(x.content,M),t.jsx(Le,{scope:r,scrollbar:b,hasThumb:n,onThumbChange:j(s),onThumbPointerUp:j(a),onThumbPositionChange:k,onThumbPointerDown:j(d),children:t.jsx(_.div,{...m,ref:L,style:{position:"absolute",...m.style},onPointerDown:P(e.onPointerDown,f=>{f.button===0&&(f.target.setPointerCapture(f.pointerId),w.current=b.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),z(f))}),onPointerMove:P(e.onPointerMove,z),onPointerUp:P(e.onPointerUp,f=>{const g=f.target;g.hasPointerCapture(f.pointerId)&&g.releasePointerCapture(f.pointerId),document.body.style.webkitUserSelect=R.current,x.viewport&&(x.viewport.style.scrollBehavior=""),w.current=null})})})}),O="ScrollAreaThumb",ne=c.forwardRef((e,o)=>{const{forceMount:r,...l}=e,n=re(O,e.__scopeScrollArea);return t.jsx(I,{present:r||n.hasThumb,children:t.jsx(ke,{ref:o,...l})})}),ke=c.forwardRef((e,o)=>{const{__scopeScrollArea:r,style:l,...n}=e,s=v(O,r),a=re(O,r),{onThumbPositionChange:d}=a,h=A(o,p=>a.onThumbChange(p)),i=c.useRef(void 0),u=Y(()=>{i.current&&(i.current(),i.current=void 0)},100);return c.useEffect(()=>{const p=s.viewport;if(p){const m=()=>{if(u(),!i.current){const x=Me(p,d);i.current=x,d()}};return d(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[s.viewport,u,d]),t.jsx(_.div,{"data-state":a.hasThumb?"visible":"hidden",...n,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...l},onPointerDownCapture:P(e.onPointerDownCapture,p=>{const x=p.target.getBoundingClientRect(),b=p.clientX-x.left,C=p.clientY-x.top;a.onThumbPointerDown({x:b,y:C})}),onPointerUp:P(e.onPointerUp,a.onThumbPointerUp)})});ne.displayName=O;var K="ScrollAreaCorner",le=c.forwardRef((e,o)=>{const r=v(K,e.__scopeScrollArea),l=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&l?t.jsx(_e,{...e,ref:o}):null});le.displayName=K;var _e=c.forwardRef((e,o)=>{const{__scopeScrollArea:r,...l}=e,n=v(K,r),[s,a]=c.useState(0),[d,h]=c.useState(0),i=!!(s&&d);return T(n.scrollbarX,()=>{var p;const u=((p=n.scrollbarX)==null?void 0:p.offsetHeight)||0;n.onCornerHeightChange(u),h(u)}),T(n.scrollbarY,()=>{var p;const u=((p=n.scrollbarY)==null?void 0:p.offsetWidth)||0;n.onCornerWidthChange(u),a(u)}),i?t.jsx(_.div,{...l,ref:o,style:{width:s,height:d,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function H(e){return e?parseInt(e,10):0}function se(e,o){const r=e/o;return isNaN(r)?0:r}function X(e){const o=se(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,l=(e.scrollbar.size-r)*o;return Math.max(l,18)}function De(e,o,r,l="ltr"){const n=X(r),s=n/2,a=o||s,d=n-a,h=r.scrollbar.paddingStart+a,i=r.scrollbar.size-r.scrollbar.paddingEnd-d,u=r.content-r.viewport,p=l==="ltr"?[0,u]:[u*-1,0];return ae([h,i],p)(e)}function G(e,o,r="ltr"){const l=X(o),n=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,s=o.scrollbar.size-n,a=o.content-o.viewport,d=s-l,h=r==="ltr"?[0,a]:[a*-1,0],i=xe(e,h);return ae([0,a],[0,d])(i)}function ae(e,o){return r=>{if(e[0]===e[1]||o[0]===o[1])return o[0];const l=(o[1]-o[0])/(e[1]-e[0]);return o[0]+l*(r-e[0])}}function ie(e,o){return e>0&&e<o}var Me=(e,o=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},l=0;return function n(){const s={left:e.scrollLeft,top:e.scrollTop},a=r.left!==s.left,d=r.top!==s.top;(a||d)&&o(),r=s,l=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(l)};function Y(e,o){const r=j(e),l=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(l.current),[]),c.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(r,o)},[r,o])}function T(e,o){const r=j(o);pe(()=>{let l=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(l),l=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(l),n.unobserve(e)}}},[e,r])}var ce=Q,ze=ee,We=le;const de=c.forwardRef(({className:e,children:o,...r},l)=>t.jsxs(ce,{ref:l,className:U("relative overflow-hidden",e),...r,children:[t.jsx(ze,{className:"h-full w-full rounded-[inherit]",children:o}),t.jsx(he,{}),t.jsx(We,{})]}));de.displayName=ce.displayName;const he=c.forwardRef(({className:e,orientation:o="vertical",...r},l)=>t.jsx($,{ref:l,orientation:o,className:U("flex touch-none select-none transition-colors",o==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",o==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:t.jsx(ne,{className:"relative flex-1 rounded-full bg-border"})}));he.displayName=$.displayName;const Oe=({messages:e,pending:o})=>t.jsx(de,{className:"h-64 pr-2 md:h-80","aria-live":"polite",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[e.map(r=>t.jsx("div",{className:r.role==="user"?"self-end text-right":"self-start text-left",children:t.jsxs("div",{className:r.role==="user"?"inline-flex max-w-xs flex-col gap-1 rounded-2xl bg-primary text-primary-foreground px-4 py-3 text-sm shadow-md":"inline-flex max-w-xs flex-col gap-1 rounded-2xl bg-slate-100 px-4 py-3 text-sm text-slate-800 shadow-sm",children:[t.jsx("p",{children:r.content}),r.source&&t.jsxs("span",{className:"text-[10px] uppercase tracking-wide text-slate-500",children:["source: ",r.source]}),r.vectorContext&&t.jsxs("div",{className:"rounded-lg bg-white/80 p-2 text-[11px] text-slate-600",children:[t.jsxs("p",{className:"font-semibold",children:["Data vector · ",r.vectorContext.slug]}),r.vectorContext.chunk&&t.jsx("p",{className:"mt-1 line-clamp-3",children:r.vectorContext.chunk})]}),r.suggested_product_ids&&r.suggested_product_ids.length>0&&t.jsxs("span",{className:"text-[11px] text-slate-500",children:["suggested: ",r.suggested_product_ids.join(", ")]})]})},r.id)),o&&t.jsxs("div",{className:"inline-flex items-center gap-2 rounded-2xl bg-slate-100 px-4 py-2 text-sm text-slate-500 shadow-sm",role:"status",children:[t.jsx(fe,{className:"h-3.5 w-3.5 animate-spin text-primary"}),t.jsx("span",{children:"답변 생성 중..."})]})]})}),He=({onSend:e,pending:o,onReset:r})=>{const[l,n]=c.useState(""),s=a=>{a.preventDefault(),l.trim()&&(e(l),n(""))};return t.jsxs("form",{onSubmit:s,className:"space-y-2",children:[t.jsx(we,{value:l,onChange:a=>n(a.target.value),placeholder:"제품 조건, 사용처, 사양 등을 입력해 주세요.",className:"min-h-[90px] resize-none",disabled:o}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(W,{type:"button",variant:"ghost",size:"sm",onClick:r,className:"text-slate-500",children:[t.jsx(Ce,{className:"mr-2 h-4 w-4"}),"새 세션"]}),t.jsxs(W,{type:"submit",disabled:o||!l.trim(),children:["전송",t.jsx(je,{className:"ml-2 h-4 w-4"})]})]})]})},Ie=e=>e==="prod"?"bg-emerald-100 text-emerald-700 border-emerald-200":e==="fallback"?"bg-amber-50 text-amber-700 border-amber-200":"bg-blue-50 text-blue-700 border-blue-200",$e=({open:e,onClose:o,controller:r})=>{const{sessionId:l,messages:n,pending:s,error:a,environment:d,devBypass:h,rateLimit:i,rateLimitExceeded:u,source:p,warning:m,locale:x,sendMessage:b,resetSession:C,setLanguage:L,activeDevBypassToken:w}=r,R=(i==null?void 0:i.remaining)!==void 0&&i.limit!==void 0&&i.remaining<=2,y=(()=>{if(!i)return null;if(i.resetAt)return new Date(i.resetAt).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});if(i.retryAfter){const N=Date.now()+i.retryAfter*1e3;return new Date(N).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}return null})();return t.jsxs(t.Fragment,{children:[e&&t.jsx("div",{className:"fixed inset-0 z-20 bg-slate-900/40 backdrop-blur-sm transition-opacity md:hidden",onClick:o,"aria-hidden":"true"}),t.jsx("div",{className:U("fixed inset-x-0 bottom-0 z-30 w-full px-3 pb-3 transition-all duration-200 md:inset-auto md:bottom-24 md:right-6 md:px-0 md:pb-0",e?"translate-y-0 opacity-100":"pointer-events-none translate-y-3 opacity-0"),role:"dialog","aria-modal":"true","aria-label":"WF-11C Chatbot",children:t.jsxs("div",{className:"mx-auto w-full max-w-md overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-2xl md:max-h-[80vh]",children:[t.jsxs("header",{className:"flex flex-wrap items-start justify-between gap-3 border-b border-slate-100 px-5 py-4 sm:px-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold uppercase text-primary",children:"WF-11C Chatbot"}),t.jsxs("p",{className:"text-sm text-slate-500",children:["session ",l.slice(0,8)," · locale ",x.value]}),t.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-[11px] text-slate-500",children:[t.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-0.5",children:["dev bypass: ",h?"ON":"OFF"]}),t.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-0.5",children:["source: ",p??"api"]}),w&&t.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-0.5",children:["token: ",w.slice(0,4),"•••"]}),s&&t.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-primary",children:"응답 생성 중…"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(be,{variant:"secondary",className:Ie(d),children:d.toUpperCase()}),t.jsxs(W,{variant:"outline",size:"sm",onClick:()=>L(x.language==="ko"?"en":"ko"),className:"gap-2",children:[t.jsx(ye,{className:"h-4 w-4"}),x.language==="ko"?"EN":"KO"]}),t.jsx(W,{variant:"ghost",size:"icon",onClick:o,"aria-label":"Close chatbot",children:t.jsx(ve,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"max-h-[70vh] overflow-hidden px-5 py-4 sm:px-6",children:[i&&t.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2 rounded-2xl border border-slate-200 bg-slate-100/70 px-3 py-2 text-[11px] text-slate-600",title:`남은 요청 ${i.remaining??"-"} / ${i.limit??"-"}${y?` · reset ${y}`:""}`,children:[t.jsxs("span",{children:["남은 요청 ",t.jsx("span",{className:"font-semibold text-slate-900",children:i.remaining??"–"})," /"," ",t.jsx("span",{className:"font-semibold text-slate-900",children:i.limit??"–"})]}),y&&t.jsxs("span",{className:"rounded-full bg-white/70 px-2 py-0.5",children:["Reset ",y]})]}),m&&t.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-dashed border-amber-200 bg-amber-50/80 px-3 py-2 text-xs text-amber-700",children:[t.jsx(Se,{className:"h-4 w-4"}),t.jsx("span",{children:m})]}),u&&t.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-xs text-red-700",title:"429 Rate Limit",children:[t.jsx(F,{className:"h-4 w-4"}),t.jsx("span",{children:"요청 한도가 초과되었습니다. Reset 이후 다시 시도해 주세요."})]}),a&&t.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-xs text-red-700",children:[t.jsx(F,{className:"h-4 w-4"}),t.jsx("span",{children:a})]}),R&&i&&t.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-700",children:[t.jsx(F,{className:"h-4 w-4"}),t.jsxs("span",{children:["Rate limit ",i.remaining,"/",i.limit," · Retry after ",i.retryAfter??0,"s"]})]}),t.jsx(Oe,{messages:n,pending:s}),t.jsx(ge,{className:"my-4"}),t.jsx(He,{onSend:b,pending:s,onReset:C})]})]})})]})};export{$e as ChatbotPanel};
